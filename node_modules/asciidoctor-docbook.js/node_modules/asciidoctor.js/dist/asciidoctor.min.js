"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(b){function B(){}function F(){}function r(){}function x(){}function n(){}function h(a,c){if(a)return a.$$const[c]}function A(a,b){var k,f,e;if(null!=a)for(e=c.ancestors(a),k=0,f=e.length;k<f;k++)if(e[k].$$const&&d.call(e[k].$$const,b))return e[k].$$const[b]}function p(a,c,b){if(!b)return(a||m).$const_missing(c)}function w(a,b){var d,f,e=b.$instance_methods();for(d=e.length-1;0<=d;d--)f="$"+e[d],c.bridge_method(a,b,f,b.$$proto[f])}var a=this,f;"undefined"!==typeof global&&
(a=global);"undefined"!==typeof window&&(a=window);f="object"===typeof a.console?a.console:null==a.console?a.console={}:{};"log"in f||(f.log=function(){});"warn"in f||(f.warn=f.log);if("undefined"!==typeof this.Opal)return f.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var E,t,m,C,e,c=this.Opal={},l={};c.global=a;a.Opal=c;c.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var d=Object.hasOwnProperty;
c.slice=Array.prototype.slice;var y=4;c.uid=function(){return y+=2};c.id=function(a){return a.$$is_number?2*a+1:a.$$id||(a.$$id=c.uid())};c.gvars={};c.exit=function(a){c.gvars.DEBUG&&f.log("Exited with status "+a)};c.exceptions=[];c.pop_exception=function(){c.gvars["!"]=c.exceptions.pop()||E};c.inspect=function(a){return a===b?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};c.truthy=function(a){return a!==E&&null!=a&&(!a.$$is_boolean||1==a)};c.falsy=function(a){return a===E||null==
a||a.$$is_boolean&&0==a};c.const_get_local=function(a,b,d){var f;if(null!=a){"::"===a&&(a=m);if(!a.$$is_a_module)throw new c.TypeError(a.toString()+" is not a class/module");f=h(a,b);if(null!=f)return f;f=p(a,b,d);if(null!=f)return f}};c.const_get_qualified=function(a,b,d){var f,e,u=c.const_cache_version;if(null!=a){"::"===a&&(a=m);if(!a.$$is_a_module)throw new c.TypeError(a.toString()+" is not a class/module");null==(e=a.$$const_cache)&&(e=a.$$const_cache=Object.create(null));f=e[b];null==f||f[0]!==
u?(null!=(f=h(a,b))||null!=(f=A(a,b)),e[b]=[u,f]):f=f[1];return null!=f?f:p(a,b,d)}};c.const_cache_version=1;c.const_get_relative=function(a,b,d){var f=a[0],e,u=c.const_cache_version,l;null==(l=a.$$const_cache)&&(l=a.$$const_cache=Object.create(null));e=l[b];if(null==e||e[0]!==u){var t;if(!(t=null!=(e=h(f,b)))){a:{var C;if(0!==a.length)for(e=0,t=a.length;e<t;e++)if(C=a[e].$$const[b],null!=C){a=C;break a}a=void 0}t=null!=(e=a)}t||null!=(e=A(f,b))||(a=null==f||f.$$is_module?A(m,b):void 0,null!=(e=a));
l[b]=[u,e]}else e=e[1];return null!=e?e:p(f,b,d)};c.const_set=function(a,b,d){if(null==a||"::"===a)a=m;if(d.$$is_a_module){if(null==d.$$name||d.$$name===E)d.$$name=b;null==d.$$base_module&&(d.$$base_module=a)}a.$$const=a.$$const||Object.create(null);a.$$const[b]=d;a.$$=a.$$const;c.const_cache_version++;a===m&&(c[b]=d);return d};c.constants=function(a,b){null==b&&(b=!0);var d,f=[a],e,u,l={},t;b&&(f=f.concat(c.ancestors(a)));b&&a.$$is_module&&(f=f.concat([c.Object]).concat(c.ancestors(c.Object)));e=
0;for(u=f.length;e<u;e++){d=f[e];if(a!==m&&d==m)break;for(t in d.$$const)l[t]=!0}return Object.keys(l)};c.const_remove=function(a,b){c.const_cache_version++;if(null!=a.$$const[b]){var d=a.$$const[b];delete a.$$const[b];return d}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],E;throw c.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};c.klass=function(a,b,d,f){var e,u;null==a&&(a=m);a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof b&&(u=b,b=m);if(e=
h(a,d)){if(!e.$$is_class)throw c.TypeError.$new(d+" is not a class");if(b&&e.$$super!==b)throw c.TypeError.$new("superclass mismatch for class "+d);return e}null==b&&(b=m);f=u||c.boot_class_alloc(d,f,b);e=c.setup_class_object(d,f,b.$$name,b.constructor);e.$$super=b;e.$$parent=b;c.const_set(a,d,e);a[d]=e;u?c.bridge(e,f):b.$inherited&&b.$inherited(e);return e};c.boot_class_alloc=function(a,c,b){if(b){var d=function(){};d.prototype=b.$$proto||b.prototype;c.prototype=new d}a&&(c.displayName=a+"_alloc");
return c.prototype.constructor=c};c.setup_module_or_class=function(a){a.$$id=c.uid();a.$$is_a_module=!0;a.$$inc=[];a.$$name=E;a.$$const=Object.create(null);a.$$cvars=Object.create(null)};c.setup_class_object=function(a,b,d,f){var l=function(){};l.prototype=f.prototype;l.displayName=d;d=function(){};d.prototype=new l;l=new d;c.setup_module_or_class(l);l.$$alloc=b;l.$$name=a||E;d.displayName="#<Class:"+(a||"#<Class:"+l.$$id+">")+">";l.$$proto=b.prototype;l.$$proto.$$class=l;l.constructor=d;l.$$is_class=
!0;l.$$class=e;return l};c.module=function(a,b){var d;null==a&&(a=m);a.$$is_class||a.$$is_module||(a=a.$$class);d=h(a,b);null==d&&a===m&&(d=A(m,b));if(d){if(!d.$$is_module&&d!==m)throw c.TypeError.$new(b+" is not a module");}else d=c.module_allocate(C),c.const_set(a,b,d);return d};c.module_initialize=function(a,b){if(b!==E){var c=b.$$s;b.$$s=null;b.call(a);b.$$s=c}return E};c.module_allocate=function(a){var b=function(){};b.prototype=a.$$alloc.prototype;var d=function(){};d.prototype=new b;b=new d;
c.setup_module_or_class(b);b.$$included_in=[];d.displayName="#<Class:#<Module:"+b.$$id+">>";b.$$proto={};b.constructor=d;b.$$is_module=!0;b.$$class=C;b.$$super=a;b.$$parent=a;return b};c.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?c.build_class_singleton_class(a):c.build_object_singleton_class(a)};c.build_class_singleton_class=function(a){var b,d;if(a.$$meta)return a.$$meta;b=a.constructor;d=a===t?e:c.build_class_singleton_class(a.$$super);b=c.setup_class_object(null,
b,d.$$name,d.constructor);b.$$super=d;b.$$parent=d;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b};c.build_object_singleton_class=function(a){var b=a.$$class,d="#<Class:#<"+b.$$name+":"+b.$$id+">>",f=c.boot_class_alloc(d,function(){},b),d=c.setup_class_object(d,f,b.$$name,b.constructor);d.$$super=b;d.$$parent=b;d.$$class=b.$$class;d.$$proto=a;d.$$is_singleton=!0;d.$$singleton_of=a;return a.$$meta=d};c.class_variables=function(a){a=c.ancestors(a);var b,d={};for(b=a.length-1;0<=b;b--){var f=
a[b],e;for(e in f.$$cvars)d[e]=f.$$cvars[e]}return d};c.class_variable_set=function(a,b,k){var f=c.ancestors(a),e;for(e=f.length-2;0<=e;e--){var u=f[e];if(d.call(u.$$cvars,b))return u.$$cvars[b]=k}return a.$$cvars[b]=k};c.bridge_method=function(a,b,c,f){var e,u,l,m;e=a.$$bridge.$ancestors();u=0;for(m=e.length;u<m;u++){l=e[u];if(d.call(l.$$proto,c)&&l.$$proto[c]&&!l.$$proto[c].$$donated&&!l.$$proto[c].$$stub&&l!==b)break;if(l===b){a.prototype[c]=f;break}}};c.bridge_methods=function(a,b){var c,d=l[a.$__id__()];
c=b.$__id__();if(d)for(l[c]=d.slice(),c=d.length-1;0<=c;c--)w(d[c],b)};c.has_cyclic_dep=function g(a,b,c,d){var f,e,l;for(f=b.length-1;0<=f;f--)if(l=b[f],e=l.$$id,!d[e]&&(d[e]=!0,e===a||g(a,l[c],c,d)))return!0;return!1};c.append_features=function(a,b){var d,f;for(f=b.$$inc.length-1;0<=f;f--)if(b.$$inc[f]===a)return;if(!b.$$is_class&&c.has_cyclic_dep(b.$$id,[a],"$$inc",{}))throw c.ArgumentError.$new("cyclic include detected");c.const_cache_version++;b.$$inc.push(a);a.$$included_in.push(b);c.bridge_methods(b,
a);b.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:b.$$parent,$$module:a,$$iclass:!0};d=a.$instance_methods();for(f=d.length-1;0<=f;f--)c.update_includer(a,b,"$"+d[f])};c.stubs={};c.bridge=function(a,b){if(b.$$bridge)throw c.ArgumentError.$new("already bridged");c.stub_subscribers.push(b.prototype);for(var d in c.stubs)d in b.prototype||(b.prototype[d]=c.stub_for(d));b.prototype.$$class=a;b.$$bridge=a;d=a.$ancestors();for(var f=d.length-1;0<=f;f--){var e=b,m=d[f].$__id__();l[m]||(l[m]=[]);
l[m].push(e);w(b,d[f])}for(var t in B.prototype){var C=B.prototype[C];!C||!C.$$stub||t in b.prototype||(b.prototype[t]=C)}return a};c.update_includer=function(a,b,d){var f,e,l,m,t,C,y,E;l=a.$$proto[d];f=b.$$proto;e=f[d];if(!f.hasOwnProperty(d)||e.$$donated||e.$$stub)if(f.hasOwnProperty(d)&&!e.$$stub){m=b.$$inc;t=0;for(C=m.length;t<C;t++)m[t]===e.$$donated&&(y=t),m[t]===a&&(E=t);y<=E&&(f[d]=l,f[d].$$donated=a)}else f[d]=l,f[d].$$donated=a;b.$$included_in&&c.update_includers(b,d)};c.update_includers=
function(a,b){var d,f,e,l;if(l=a.$$included_in)for(d=0,f=l.length;d<f;d++)e=l[d],c.update_includer(a,e,b)};c.ancestors=function(a){for(var b=[],d,f,e,l;a;){b.push(a);for(f=a.$$inc.length-1;0<=f;f--)for(d=c.ancestors(a.$$inc[f]),e=0,l=d.length;e<l;e++)b.push(d[e]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return b};c.add_stubs=function(a){var b,d=c.stub_subscribers,f,e=a.length,l,m=d.length,t,C,y=c.stubs;for(f=0;f<e;f++)if(t=a[f],!y.hasOwnProperty(t))for(y[t]=
!0,C=c.stub_for(t),l=0;l<m;l++)b=d[l],t in b||(b[t]=C)};c.stub_subscribers=[B.prototype];c.add_stub_for=function(a,b){var d=c.stub_for(b);a[b]=d};c.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;b.$$p=null;for(var c=Array(arguments.length),d=0,f=c.length;d<f;d++)c[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(c))}b.$$stub=!0;return b};c.ac=function(a,b,d,f){var e="",e=d.$$is_class||d.$$is_module?e+(d.$$name+"."):e+(d.$$class.$$name+"#");throw c.ArgumentError.$new("["+
(e+f)+"] wrong number of arguments("+a+" for "+b+")");};c.block_ac=function(a,b,d){throw c.ArgumentError.$new("`block in "+d+"': wrong number of arguments ("+a+" for "+b+")");};c.find_super_dispatcher=function(a,b,d,f,e){d=(e?a.$$is_class||a.$$is_module?e.$$super:a.$$class.$$proto:c.find_obj_super_dispatcher(a,b,d))["$"+b];if(!f&&d.$$stub&&c.Kernel.$method_missing===a.$method_missing)throw c.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return d};c.find_iter_super_dispatcher=
function(a,b,d,f,e){if(!d)throw c.RuntimeError.$new("super called outside of method");if(e&&d.$$define_meth)throw c.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");d.$$def&&(b=d.$$jsid);return c.find_super_dispatcher(a,b,d,f)};c.find_obj_super_dispatcher=function(a,b,d){a=a.$$meta||a.$$class;a=c.find_owning_class(a,d);if(!a)throw Error("could not find current class for super()");return c.find_super_func(a,
"$"+b,d)};c.find_owning_class=function(a,b){for(var c=b.$$owner;!(!a||a.$$iclass&&a.$$module===b.$$donated||a.$$iclass&&a.$$module===c||c.$$is_singleton&&a===c.$$singleton_of.$$class)&&a!==c;)a=a.$$parent;return a};c.find_super_func=function(a,b,c){for(a=a.$$parent;a;){var d=a.$$proto[b];if(d&&d!==c)break;a=a.$$parent}return a.$$proto};c.ret=function(a){c.returner.$v=a;throw c.returner;};c.brk=function(a,b){b.$v=a;throw b;};c.new_brk=function(){return Error("unexpected break")};c.yield1=function(a,
b){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");var d=a.$$has_top_level_mlhs_arg,f=a.$$has_trailing_comma_in_args;if(1<a.length||(d||f)&&1===a.length)b=c.to_ary(b);return(1<a.length||f&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};c.yieldX=function(a,b){if("function"!==typeof a)throw c.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var d=Array(b.length),f=0,e=d.length;f<e;f++)d[f]=b[f];
return a.apply(null,d)}return a.apply(null,b)};c.rescue=function(a,b){for(var d=0;d<b.length;d++){var f=b[d];if(f.$$is_array){if(f=c.rescue(a,f))return f}else if(f===c.JS.Error||f["$==="](a))return f}return null};c.is_a=function(a,b){if(a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var d,f,e=c.ancestors(a.$$is_class?c.get_singleton_class(a):a.$$meta||a.$$class);d=0;for(f=e.length;d<f;d++)if(e[d]===b)return!0;return!1};c.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",
!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw c.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};c.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===E)return[a];if(b.$$is_array)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};c.to_a=
function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();if(b===E)return[a];if(b.$$is_array)return b;throw c.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};c.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),b.$to_hash()):c.hash2([],{})};c.kwrestargs=function(a,b){var d=[],f={},e=null,l=a.$$smap;for(e in l)b[e]||
(d.push(e),f[e]=l[e]);return c.hash2(d,f)};c.send=function(a,b,c,d){var f="string"===typeof b?a["$"+b]:b;return null!=f?(f.$$p=d,f.apply(a,c)):a.$method_missing.apply(a,[b].concat(c))};c.lambda=function(a){a.$$is_lambda=!0;return a};c.def=function(a,b,d){a===c.top?c.defn(c.Object,b,d):a.$$eval||!a.$$is_class&&!a.$$is_module?c.defs(a,b,d):c.defn(a,b,d)};c.defn=function(a,b,d){a.$$proto[b]=d;d.$$owner=a;null==d.displayName&&(d.displayName=b.substr(1));a.$$is_module&&(c.update_includers(a,b),a.$$module_function&&
c.defs(a,b,d));var f=a.$__id__&&!a.$__id__.$$stub&&l[a.$__id__()];if(f)for(var e=f.length-1;0<=e;e--)c.bridge_method(f[e],a,b,d);d=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||d?d&&d.$singleton_method_added&&!d.$singleton_method_added.$$stub&&d.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1));return E};c.defs=function(a,b,d){c.defn(c.get_singleton_class(a),b,d)};c.rdef=function(a,b){if(!d.call(a.$$proto,b))throw c.NameError.$new("method '"+b.substr(1)+"' not defined in "+
a.$name());delete a.$$proto[b];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};c.udef=function(a,b){if(!a.$$proto[b]||a.$$proto[b].$$stub)throw c.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());c.add_stub_for(a.$$proto,b);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&
a.$$proto.$singleton_method_undefined(b.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};c.alias=function(a,b,d){var f="$"+b,e="$"+d,l=a.$$proto["$"+d],m;if(a.$$eval)return c.alias(c.get_singleton_class(a),b,d);if("function"!==typeof l||l.$$stub){for(var t=a.$$super;"function"!==typeof l&&t;)l=t[e],t=t.$$super;if("function"!==typeof l||l.$$stub)throw c.NameError.$new("undefined method `"+d+"' for class `"+a.$name()+"'");}l.$$alias_of&&(l=l.$$alias_of);
m=function(){var a=m.$$p,b,d,f;b=Array(arguments.length);d=0;for(f=arguments.length;d<f;d++)b[d]=arguments[d];null!=a&&(m.$$p=null);return c.send(this,l,b,a)};m.displayName=b;m.length=l.length;m.$$arity=l.$$arity;m.$$parameters=l.$$parameters;m.$$source_location=l.$$source_location;m.$$alias_of=l;m.$$alias_name=b;c.defn(a,f,m);return a};c.alias_native=function(a,b,d){b="$"+b;var f=a.$$proto[d];if("function"!==typeof f||f.$$stub)throw c.NameError.$new("undefined native method `"+d+"' for class `"+
a.$name()+"'");c.defn(a,b,f);return a};c.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};c.hash_clone=function(a,b){b.$$none=a.$$none;b.$$proc=a.$$proc;for(var d=0,f=a.$$keys,e=a.$$smap,l=f.length,m,t;d<l;d++)m=f[d],m.$$is_string?t=e[m]:(t=m.value,m=m.key),c.hash_put(b,m,t)};c.hash_put=function(a,f,e){if(f.$$is_string)d.call(a.$$smap,f)||a.$$keys.push(f),a.$$smap[f]=e;else{var l,u,m;l=a.$$by_identity?c.id(f):f.$hash();if(d.call(a.$$map,l)){for(u=a.$$map[l];u;){if(f===
u.key||f["$eql?"](u.key)){m=b;u.value=e;break}m=u;u=u.next}m&&(u={key:f,key_hash:l,value:e},a.$$keys.push(u),m.next=u)}else u={key:f,key_hash:l,value:e},a.$$keys.push(u),a.$$map[l]=u}};c.hash_get=function(a,b){if(b.$$is_string){if(d.call(a.$$smap,b))return a.$$smap[b]}else{var f;f=a.$$by_identity?c.id(b):b.$hash();if(d.call(a.$$map,f))for(f=a.$$map[f];f;){if(b===f.key||b["$eql?"](f.key))return f.value;f=f.next}}};c.hash_delete=function(a,b){var c,f=a.$$keys,e=f.length,l;if(b.$$is_string){if(!d.call(a.$$smap,
b))return;for(c=0;c<e;c++)if(f[c]===b){f.splice(c,1);break}l=a.$$smap[b];delete a.$$smap[b];return l}var m=b.$hash();if(d.call(a.$$map,m))for(var t=a.$$map[m],C;t;){if(b===t.key||b["$eql?"](t.key)){l=t.value;for(c=0;c<e;c++)if(f[c]===t){f.splice(c,1);break}C&&t.next?C.next=t.next:C?delete C.next:t.next?a.$$map[m]=t.next:delete a.$$map[m];return l}C=t;t=t.next}};c.hash_rehash=function(a){for(var c=0,f=a.$$keys.length,e,l,m;c<f;c++)if(!a.$$keys[c].$$is_string&&(e=a.$$keys[c].key.$hash(),e!==a.$$keys[c].key_hash)){l=
a.$$map[a.$$keys[c].key_hash];for(m=b;l;){if(l===a.$$keys[c]){m&&l.next?m.next=l.next:m?delete m.next:l.next?a.$$map[a.$$keys[c].key_hash]=l.next:delete a.$$map[a.$$keys[c].key_hash];break}m=l;l=l.next}a.$$keys[c].key_hash=e;if(d.call(a.$$map,e)){l=a.$$map[e];for(m=b;l;){if(l===a.$$keys[c]){m=b;break}m=l;l=l.next}m&&(m.next=a.$$keys[c])}else a.$$map[e]=a.$$keys[c]}};c.hash=function(){var a=arguments.length,b,f,e,l,m;if(1===a&&arguments[0].$$is_hash)return arguments[0];b=new c.Hash.$$alloc;c.hash_init(b);
if(1===a&&arguments[0].$$is_array){a=arguments[0];e=a.length;for(f=0;f<e;f++){if(2!==a[f].length)throw c.ArgumentError.$new("value not of length 2: "+a[f].$inspect());l=a[f][0];m=a[f][1];c.hash_put(b,l,m)}return b}if(1===a){a=arguments[0];for(l in a)d.call(a,l)&&(m=a[l],c.hash_put(b,l,m));return b}if(0!==a%2)throw c.ArgumentError.$new("odd number of arguments for Hash");for(f=0;f<a;f+=2)l=arguments[f],m=arguments[f+1],c.hash_put(b,l,m);return b};c.hash2=function(a,b){var d=new c.Hash.$$alloc;d.$$smap=
b;d.$$map=Object.create(null);d.$$keys=a;return d};c.range=function(a,b,d){var f=new c.Range.$$alloc;f.begin=a;f.end=b;f.excl=d;return f};c.ivar=function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};c.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};c.modules=
{};c.loaded_features=["corelib/runtime"];c.current_dir=".";c.require_table={"corelib/runtime":!0};c.normalize=function(a){var b,d=[];"."!==c.current_dir&&(a=c.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/^\.\//,"");a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var f=0,e=a.length;f<e;f++)b=a[f],""!==b&&(".."===b?d.pop():d.push(b));return d.join("/")};c.loaded=function(a){var b,d,f;b=0;for(d=a.length;b<d;b++){f=c.normalize(a[b]);if(c.require_table[f])break;c.loaded_features.push(f);c.require_table[f]=
!0}};c.load=function(a){a=c.normalize(a);c.loaded([a]);var b=c.modules[a];if(b)b(c);else{b=c.config.missing_require_severity;a="cannot load such file -- "+a;if("error"===b){if(c.LoadError)throw c.LoadError.$new(a);throw a;}"warning"===b&&f.warn("WARNING: LoadError: "+a)}return!0};c.require=function(a){a=c.normalize(a);return c.require_table[a]?!1:c.load(a)};c.boot_class_alloc("BasicObject",B);c.boot_class_alloc("Object",F,B);c.boot_class_alloc("Module",x,F);c.boot_class_alloc("Class",r,x);c.BasicObject=
t=c.setup_class_object("BasicObject",B,"Class",r);c.Object=m=c.setup_class_object("Object",F,"BasicObject",t.constructor);c.Module=C=c.setup_class_object("Module",x,"Object",m.constructor);c.Class=e=c.setup_class_object("Class",r,"Module",C.constructor);t.$$const.BasicObject=t;c.const_set(m,"BasicObject",t);c.const_set(m,"Object",m);c.const_set(m,"Module",C);c.const_set(m,"Class",e);t.$$class=e;m.$$class=e;C.$$class=e;e.$$class=e;t.$$super=null;m.$$super=t;C.$$super=m;e.$$super=C;t.$$parent=null;
m.$$parent=t;C.$$parent=m;e.$$parent=C;m.$$proto.toString=function(){var a=this.$to_s();return a.$$is_string&&"object"===typeof a?a.valueOf():a};m.$$proto.$require=c.require;c.$$=m.$$;c.top=new m.$$alloc;c.top.$to_s=c.top.$inspect=function(){return"main"};c.klass(m,m,"NilClass",n);E=c.nil=new n;E.$$id=4;E.call=E.apply=function(){throw c.LocalJumpError.$new("no block given");};c.breaker=Error("unexpected break (old)");c.returner=Error("unexpected return");TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),
Opal.modules["corelib/helpers"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.module,n=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(h,A){var p=x(h,"Opal"),w=[p].concat(A),a,f,E,t,m,C,e,c,l,d,y,v,g,k;b.defs(p,"$bridge",a=function(a,c){return b.bridge(a,c)},a.$$arity=2);b.defs(p,"$type_error",f=function(a,b,c,d){var f;null==c&&(c=F);null==d&&(d=F);return n(n(f=c)?d:f)?r(w,"TypeError").$new("can't convert "+
a.$class()+" into "+b+" ("+a.$class()+"#"+c+" gives "+d.$class()+")"):r(w,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+b)},f.$$arity=-3);b.defs(p,"$coerce_to",E=function(a,b,c){if(n(b["$==="](a)))return a;n(a["$respond_to?"](c))||this.$raise(this.$type_error(a,b));return a.$__send__(c)},E.$$arity=3);b.defs(p,"$coerce_to!",t=function(a,b,c){var d=F,d=this.$coerce_to(a,b,c);n(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},t.$$arity=3);b.defs(p,"$coerce_to?",m=
function(a,b,c){var d=F;if(!n(a["$respond_to?"](c)))return F;d=this.$coerce_to(a,b,c);if(n(d["$nil?"]()))return F;n(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},m.$$arity=3);b.defs(p,"$try_convert",C=function(a,b,c){return n(b["$==="](a))?a:n(a["$respond_to?"](c))?a.$__send__(c):F},C.$$arity=3);b.defs(p,"$compare",e=function(a,b){var c=F,c=a["$<=>"](b);n(c===F)&&this.$raise(r(w,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");return c},e.$$arity=2);b.defs(p,
"$destructure",c=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),c=0,d=b.length;c<d;c++)b[c]=a[c];return b},c.$$arity=1);b.defs(p,"$respond_to?",l=function(a,b,c){null==c&&(c=!1);return null!=a&&a.$$class?a["$respond_to?"](b,c):!1},l.$$arity=-3);b.defs(p,"$inspect_obj",d=function(a){return b.inspect(a)},d.$$arity=1);b.defs(p,"$instance_variable_name!",y=function(a){a=r(w,"Opal")["$coerce_to!"](a,r(w,"String"),"to_str");n(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||
this.$raise(r(w,"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},y.$$arity=1);b.defs(p,"$class_variable_name!",v=function(a){a=r(w,"Opal")["$coerce_to!"](a,r(w,"String"),"to_str");n(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(r(w,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},v.$$arity=1);b.defs(p,"$const_name!",g=function(a){a=r(w,"Opal")["$coerce_to!"](a,r(w,"String"),"to_str");n(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&
this.$raise(r(w,"NameError"),"wrong constant name "+a);return a},g.$$arity=1);b.defs(p,"$pristine",k=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);c=Array(c);for(var f=1;f<d;f++)c[f-1]=arguments[f];for(d=c.length-1;0<=d;d--)f=c[d],(f=a.$$proto["$"+f])&&!f.$$stub&&(f.$$pristine=!0);return F},k.$$arity=-2)}(B[0],B)},Opal.modules["corelib/module"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var F=[],r=b.nil,x=b.const_get_qualified,n=b.const_get_relative,
h=b.klass,A=b.truthy,p=b.send,w=b.lambda,a=b.range,f=b.hash2;b.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $!~ $start_with? $to_proc $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $any? $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));return function(E,$super,m){function C(){}E=C=h(E,$super,"Module",C);var e=[E].concat(m),
c,l,d,y,v,g,k,q,sa,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga,P,U,F,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa;b.defs(E,"$allocate",c=function(){return b.module_allocate(this)},c.$$arity=0);b.def(E,"$initialize",l=function(){var a=l.$$p,c=a||r;a&&(l.$$p=null);return b.module_initialize(this,c)},l.$$arity=0);b.def(E,"$===",d=function(a){return A(null==a)?!1:b.is_a(a,this)},d.$$arity=1);b.def(E,"$<",y=function(a){A(n(e,"Module")["$==="](a))||this.$raise(n(e,"TypeError"),"compared with non class/module");
var c,d,f;if(this===a)return!1;d=0;c=b.ancestors(this);for(f=c.length;d<f;d++)if(c[d]===a)return!0;d=0;c=b.ancestors(a);for(f=c.length;d<f;d++)if(c[d]===this)return!1;return r},y.$$arity=1);b.def(E,"$<=",v=function(a){var b;return A(b=this["$equal?"](a))?b:B(this,a)},v.$$arity=1);b.def(E,"$>",g=function(a){A(n(e,"Module")["$==="](a))||this.$raise(n(e,"TypeError"),"compared with non class/module");return B(a,this)},g.$$arity=1);b.def(E,"$>=",k=function(a){var b;return A(b=this["$equal?"](a))?b:"number"===
typeof this&&"number"===typeof a?this>a:this["$>"](a)},k.$$arity=1);b.def(E,"$<=>",q=function(a){var b=r;if(this===a)return 0;if(!A(n(e,"Module")["$==="](a)))return r;b=B(this,a);return A(b["$nil?"]())?r:A(b)?-1:1},q.$$arity=1);b.def(E,"$alias_method",sa=function(a,c){b.alias(this,a,c);return this},sa.$$arity=2);b.def(E,"$alias_native",u=function(a,c){null==c&&(c=a);b.alias_native(this,a,c);return this},u.$$arity=-2);b.def(E,"$ancestors",Ea=function(){return b.ancestors(this)},Ea.$$arity=0);b.def(E,
"$append_features",D=function(a){b.append_features(this,a);return this},D.$$arity=1);b.def(E,"$attr_accessor",aa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];p(this,"attr_reader",b.to_a(c));return p(this,"attr_writer",b.to_a(c))},aa.$$arity=-1);b.alias(E,"attr","attr_accessor");b.def(E,"$attr_reader",da=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];d=this.$$proto;for(f=c.length-1;0<=
f;f--){var e=c[f],g="$"+e,e=b.ivar(e),k=function(a){return function(){return null==this[a]?r:this[a]}}(e);d[e]=r;k.$$parameters=[];k.$$arity=0;this.$$is_singleton?d.constructor.prototype[g]=k:b.defn(this,g,k)}return r},da.$$arity=-1);b.def(E,"$attr_writer",J=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];d=this.$$proto;for(f=c.length-1;0<=f;f--){var e=c[f],g="$"+e+"=",e=b.ivar(e),k=function(a){return function(b){return this[a]=b}}(e);k.$$parameters=
[["req"]];k.$$arity=1;d[e]=r;this.$$is_singleton?d.constructor.prototype[g]=k:b.defn(this,g,k)}return r},J.$$arity=-1);b.def(E,"$autoload",ja=function(a,c){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=c;return r},ja.$$arity=2);b.def(E,"$class_variables",va=function(){return Object.keys(b.class_variables(this))},va.$$arity=0);b.def(E,"$class_variable_get",z=function(a){a=n(e,"Opal")["$class_variable_name!"](a);var c=b.class_variables(this)[a];null==c&&this.$raise(n(e,
"NameError").$new("uninitialized class variable "+a+" in "+this,a));return c},z.$$arity=1);b.def(E,"$class_variable_set",T=function(a,c){a=n(e,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,c)},T.$$arity=2);b.def(E,"$class_variable_defined?",oa=function(a){a=n(e,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},oa.$$arity=1);b.def(E,"$remove_class_variable",ba=function(a){a=n(e,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,
a)){var c=this.$$cvars[a];delete this.$$cvars[a];return c}this.$raise(n(e,"NameError"),"cannot remove "+a+" for "+this)},ba.$$arity=1);b.def(E,"$constants",G=function(a){null==a&&(a=!0);return b.constants(this,a)},G.$$arity=-1);b.defs(E,"$constants",Q=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);var c,d={},f,e;f=0;for(e=a.length;f<e;f++)for(c in a[f].$$const)d[c]=!0;return Object.keys(d)}return b.constants(this,a)},Q.$$arity=-1);b.defs(E,"$nesting",R=function(){return this.$$nesting||
[]},R.$$arity=0);b.def(E,"$const_defined?",L=function(a,c){null==c&&(c=!0);a=n(e,"Opal")["$const_name!"](a);A(a["$=~"](x(n(e,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(n(e,"NameError").$new("wrong constant name "+a,a));var d,f=[this],g,k;c&&(f=f.concat(b.ancestors(this)),this.$$is_module&&(f=f.concat([b.Object]).concat(b.ancestors(b.Object))));g=0;for(k=f.length;g<k;g++)if(d=f[g],null!=d.$$const[a])return!0;return!1},L.$$arity=-2);b.def(E,"$const_get",S=function(a,c){var d;null==c&&(c=!0);a=n(e,
"Opal")["$const_name!"](a);0===a.indexOf("::")&&"::"!==a&&(a=a.slice(2));if(A(-1!=a.indexOf("::")&&"::"!=a))return p(a.$split("::"),"inject",[this],(d=function(a,b){null==a&&(a=r);null==b&&(b=r);return a.$const_get(b)},d.$$s=this,d.$$arity=2,d));A(a["$=~"](x(n(e,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(n(e,"NameError").$new("wrong constant name "+a,a));return c?n([this],a):b.const_get_local(this,a)},S.$$arity=-2);b.def(E,"$const_missing",W=function(a){var b=r;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),
this.$const_get(a);b=this["$=="](n(e,"Object"))?a:""+this+"::"+a;return this.$raise(n(e,"NameError").$new("uninitialized constant "+b,a))},W.$$arity=1);b.def(E,"$const_set",O=function(a,c){var d;a=n(e,"Opal")["$const_name!"](a);A(A(d=a["$!~"](x(n(e,"Opal"),"CONST_NAME_REGEXP")))?d:a["$start_with?"]("::"))&&this.$raise(n(e,"NameError").$new("wrong constant name "+a,a));b.const_set(this,a,c);return c},O.$$arity=2);b.def(E,"$public_constant",X=function(a){return r},X.$$arity=1);b.def(E,"$define_method",
N=function(a,c){var d,f,g=this,k=N.$$p,l=k||r,u=r;k&&(N.$$p=null);A(void 0===c&&l===r)&&g.$raise(n(e,"ArgumentError"),"tried to create a Proc object without a block");l=A(d=l)?d:function(){u=c;return n(e,"Proc")["$==="](u)?c:n(e,"Method")["$==="](u)?c.$to_proc().$$unbound:n(e,"UnboundMethod")["$==="](u)?w((f=function(a){var d=f.$$s||this,e,g=r,g=arguments.length;e=g-0;0>e&&(e=0);e=Array(e);for(var k=0;k<g;k++)e[k-0]=arguments[k];g=c.$bind(d);return p(g,"call",b.to_a(e))},f.$$s=g,f.$$arity=-1,f)):
g.$raise(n(e,"TypeError"),"wrong argument type "+l.$class()+" (expected Proc/Method)")}();l.$$jsid=a;l.$$s=null;l.$$def=l;l.$$define_meth=!0;b.defn(g,"$"+a,l);return a},N.$$arity=-2);b.def(E,"$remove_method",ea=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];d=0;for(f=c.length;d<f;d++)b.rdef(this,"$"+c[d]);return this},ea.$$arity=-1);b.def(E,"$singleton_class?",pa=function(){return!!this.$$is_singleton},pa.$$arity=0);b.def(E,"$include",ga=function(a){var b,
c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)d=b[c],d.$$is_module||this.$raise(n(e,"TypeError"),"wrong argument type "+d.$class()+" (expected Module)"),d.$append_features(this),d.$included(this);return this},ga.$$arity=-1);b.def(E,"$included_modules",P=function(){var a,b=function(a){for(var c=[],d=0,f=a.$$inc.length;d<f;d++){var e=a.$$inc[d];c.push(e);c=c.concat(b(e))}return c};a=b(this);if(this.$$is_class)for(var c=this;c;c=c.$$super)a=
a.concat(b(c));return a},P.$$arity=0);b.def(E,"$include?",U=function(a){a.$$is_module||this.$raise(n(e,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var c,d,f,g=b.ancestors(this);c=0;for(d=g.length;c<d;c++)if(f=g[c],f===a&&f!==this)return!0;return!1},U.$$arity=1);b.def(E,"$instance_method",F=function(a){var b=this.$$proto["$"+a];b&&!b.$$stub||this.$raise(n(e,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return n(e,"UnboundMethod").$new(this,b.$$owner||
this,b,a)},F.$$arity=1);b.def(E,"$instance_methods",V=function(a){null==a&&(a=!0);var c,d=[],f=this.$$proto,e;for(e in f)if("$"===e.charAt(0)&&"$"!==e.charAt(1)&&(c=f[e],"function"===typeof c&&!c.$$stub)){if(!this.$$is_module){if(this!==b.BasicObject&&c===b.BasicObject.$$proto[e])continue;if(!a&&!f.hasOwnProperty(e))continue;if(!a&&c.$$donated)continue}d.push(e.substr(1))}return d},V.$$arity=-1);b.def(E,"$included",ha=function(a){return r},ha.$$arity=1);b.def(E,"$extended",Z=function(a){return r},
Z.$$arity=1);b.def(E,"$extend_object",qa=function(a){return r},qa.$$arity=1);b.def(E,"$method_added",ma=function(a){return r},ma.$$arity=-1);b.def(E,"$method_removed",fa=function(a){return r},fa.$$arity=-1);b.def(E,"$method_undefined",ka=function(a){return r},ka.$$arity=-1);b.def(E,"$module_eval",Ba=function(c){var d,g,k,l=Ba.$$p,u=l||r,m=r,q=k=k=k=r,m=arguments.length;k=m-0;0>k&&(k=0);k=Array(k);for(var C=0;C<m;C++)k[C-0]=arguments[C];l&&(Ba.$$p=null);A(A(d=u["$nil?"]())?!!b.compile:d)?(A(a(1,3,
!1)["$cover?"](k.$size()))||n(e,"Kernel").$raise(n(e,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(k)),m=null==d[0]?r:d[0],k=null==d[1]?r:d[1],d,k=f(["file","eval"],{file:A(d=k)?d:"(eval)",eval:!0}),k=b.hash({arity_check:!1}).$merge(k),q=n(e,"Opal").$compile(m,k),u=p(n(e,"Kernel"),"proc",[],(g=function(){return function(a){return eval(q)}(g.$$s||this)},g.$$s=this,g.$$arity=0,g))):A(k["$any?"]())&&n(e,"Kernel").$raise(n(e,"ArgumentError"),""+("wrong number of arguments ("+
k.$size()+" for 0)")+"\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n");d=u.$$s;u.$$s=null;l=u.apply(this,[this]);u.$$s=d;return l},Ba.$$arity=-1);b.alias(E,"class_eval","module_eval");b.def(E,"$module_exec",Y=function(a){var b,c=Y.$$p,d=c||r,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(Y.$$p=null);d===r&&this.$raise(n(e,"LocalJumpError"),"no block given");c=d.$$s;d.$$s=null;b=d.apply(this,
b);d.$$s=c;return b},Y.$$arity=-1);b.alias(E,"class_exec","module_exec");b.def(E,"$method_defined?",la=function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub},la.$$arity=1);b.def(E,"$module_function",na=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];if(0===c.length)this.$$module_function=!0;else for(d=0,f=c.length;d<f;d++){var e="$"+c[d];b.defs(this,e,this.$$proto[e])}return this},na.$$arity=-1);b.def(E,"$name",wa=function(){if(this.$$full_name)return this.$$full_name;
for(var a=[],c=this;c;){if(c.$$name===r||null==c.$$name)return r;a.unshift(c.$$name);c=c.$$base_module;if(c===b.Object)break}return 0===a.length?r:this.$$full_name=a.join("::")},wa.$$arity=0);b.def(E,"$remove_const",ta=function(a){return b.const_remove(this,a)},ta.$$arity=1);b.def(E,"$to_s",Ca=function(){var a;return A(a=b.Module.$name.call(this))?a:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ca.$$arity=0);b.def(E,"$undef_method",ya=function(a){var c,d=arguments.length;
c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];d=0;for(f=c.length;d<f;d++)b.udef(this,"$"+c[d]);return this},ya.$$arity=-1);b.def(E,"$instance_variables",Aa=function(){var a=r,a=(b.Module.$$nesting=e,this.$constants()),c=[],d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&"constructor"!==d&&!a["$include?"](d)&&c.push("@"+d);return c},Aa.$$arity=0);b.def(E,"$dup",xa=function(){var a=xa.$$p,c=r,d=c=r,f=r;a&&(xa.$$p=null);d=0;f=arguments.length;for(c=Array(f);d<f;d++)c[d]=
arguments[d];c=p(this,b.find_super_dispatcher(this,"dup",xa,!1),c,a);c.$copy_class_variables(this);c.$copy_constants(this);return c},xa.$$arity=0);b.def(E,"$copy_class_variables",Da=function(a){for(var b in a.$$cvars)this.$$cvars[b]=a.$$cvars[b]},Da.$$arity=1);return(b.def(E,"$copy_constants",Fa=function(a){var c;a=a.$$const;for(c in a)b.const_set(this,c,a[c])},Fa.$$arity=1),r)&&"copy_constants"}(F[0],null,F)},Opal.modules["corelib/class"]=function(b){var B=b.top,F=[],r=b.nil,x=b.const_get_relative,
n=b.klass,h=b.send;b.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]);B.$require("corelib/module");return function(A,$super,w){function a(){}A=a=n(A,$super,"Class",a);var f=[A].concat(w),E,t,m,C,e,c,l;b.defs(A,"$new",E=function(a){var c=E.$$p,e=c||r;null==a&&(a=x(f,"Object"));c&&(E.$$p=null);if(!a.$$is_class)throw b.TypeError.$new("superclass must be a Class");c=b.boot_class_alloc(null,function(){},a);c=b.setup_class_object(null,c,a.$$name,a.constructor);c.$$super=a;c.$$parent=
a;a.$inherited(c);b.module_initialize(c,e);return c},E.$$arity=-1);b.def(A,"$allocate",t=function(){var a=new this.$$alloc;a.$$id=b.uid();return a},t.$$arity=0);b.def(A,"$inherited",m=function(a){return r},m.$$arity=1);b.def(A,"$initialize_dup",C=function(a){this.$initialize_copy(a);this.$$full_name=this.$$name=null},C.$$arity=1);b.def(A,"$new",e=function(a){var c,f=e.$$p,g=f||r,k=arguments.length;c=k-0;0>c&&(c=0);c=Array(c);for(var l=0;l<k;l++)c[l-0]=arguments[l];f&&(e.$$p=null);f=this.$allocate();
b.send(f,f.$initialize,c,g);return f},e.$$arity=-1);b.def(A,"$superclass",c=function(){return this.$$super||r},c.$$arity=0);return(b.def(A,"$to_s",l=function(){l.$$p&&(l.$$p=null);var a=this.$$singleton_of;return a&&(a.$$is_class||a.$$is_module)?"#<Class:"+a.$name()+">":a?"#<Class:#<"+a.$$class.$name()+":0x"+b.id(a).$to_s(16)+">>":h(this,b.find_super_dispatcher(this,"to_s",l,!1),[],null)},l.$$arity=0),r)&&"to_s"}(F[0],null,F)},Opal.modules["corelib/basic_object"]=function(b){var B=[],F=b.nil,r=b.const_get_qualified,
x=b.klass,n=b.truthy,h=b.range,A=b.hash2,p=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $any? $inspect $new".split(" "));return function(w,$super,f){function E(){}w=E=x(w,$super,"BasicObject",E);[w].concat(f);var t,m,C,e,c,l,d,y,v,g,k,q,sa;b.def(w,"$initialize",t=function(b){return F},t.$$arity=-1);b.def(w,"$==",m=function(b){return this===b},m.$$arity=1);b.def(w,"$eql?",C=function(b){return this["$=="](b)},C.$$arity=1);b.alias(w,"equal?","==");b.def(w,"$__id__",e=function(){return this.$$id||
(this.$$id=b.uid())},e.$$arity=0);b.def(w,"$__send__",c=function(b,d){var f,e=c.$$p,g=e||F,k=arguments.length;f=k-1;0>f&&(f=0);f=Array(f);for(var l=1;l<k;l++)f[l-1]=arguments[l];e&&(c.$$p=null);if(e=this["$"+b])return g!==F&&(e.$$p=g),e.apply(this,f);g!==F&&(this.$method_missing.$$p=g);return this.$method_missing.apply(this,[b].concat(f))},c.$$arity=-2);b.def(w,"$!",l=function(){return!1},l.$$arity=0);b.def(w,"$!=",d=function(b){return this["$=="](b)["$!"]()},d.$$arity=1);b.def(w,"$instance_eval",
y=function(c){var d,f,e,g=y.$$p,k=g||F,l=F,m=e=e=e=F,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var q=0;q<l;q++)e[q-0]=arguments[q];g&&(y.$$p=null);n(n(d=k["$nil?"]())?!!b.compile:d)?(n(h(1,3,!1)["$cover?"](e.$size()))||r("::","Kernel").$raise(r("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(e)),l=null==d[0]?F:d[0],e=null==d[1]?F:d[1],d,e=A(["file","eval"],{file:n(d=e)?d:"(eval)",eval:!0}),e=b.hash({arity_check:!1}).$merge(e),m=r("::","Opal").$compile(l,
e),k=p(r("::","Kernel"),"proc",[],(f=function(){return function(b){return eval(m)}(f.$$s||this)},f.$$s=this,f.$$arity=0,f))):n(e["$any?"]())&&r("::","Kernel").$raise(r("::","ArgumentError"),"wrong number of arguments ("+e.$size()+" for 0)");d=k.$$s;var t;k.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{t=k.call(this,this)}finally{this.$$eval=!1}}else t=k.call(this,this);k.$$s=d;return t},y.$$arity=-1);b.def(w,"$instance_exec",v=function(b){var c,d=v.$$p,f=d||F,e=arguments.length;
c=e-0;0>c&&(c=0);c=Array(c);for(var g=0;g<e;g++)c[g-0]=arguments[g];d&&(v.$$p=null);n(f)||r("::","Kernel").$raise(r("::","ArgumentError"),"no block given");var d=f.$$s,k;f.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{k=f.apply(this,c)}finally{this.$$eval=!1}}else k=f.apply(this,c);f.$$s=d;return k},v.$$arity=-1);b.def(w,"$singleton_method_added",g=function(b){return F},g.$$arity=-1);b.def(w,"$singleton_method_removed",k=function(b){return F},k.$$arity=-1);b.def(w,"$singleton_method_undefined",
q=function(b){return F},q.$$arity=-1);return(b.def(w,"$method_missing",sa=function(b,c){var d,f=sa.$$p,e=F,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var g=1;g<e;g++)d[g-1]=arguments[g];f&&(sa.$$p=null);e=n(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+b+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+b+"' for "+this.$$class;return r("::","Kernel").$raise(r("::","NoMethodError").$new(e,b))},sa.$$arity=-2),F)&&"method_missing"}(B[0],null,B)},Opal.modules["corelib/kernel"]=
function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var F=[],r=b.nil,x=b.const_get_qualified,n=b.const_get_relative,h=b.module,A=b.truthy,p=b.gvars,w=b.hash2,a=b.send,f=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $empty? $pop $call $append_features $extend_object $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $any? $print $format $puts $each $<= $exception $is_a? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" "));
(function(f,t){var m=h(f,"Kernel"),C=[m].concat(t),e,c,l,d,y,v,g,k,q,sa,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga,P,U,F,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,La,Ka,Ha,Ma,Ga,Ia,H,ua,za;b.def(m,"$method_missing",e=function(a,b){var c,d=e.$$p,f=arguments.length;c=f-1;0>c&&(c=0);c=Array(c);for(var g=1;g<f;g++)c[g-1]=arguments[g];d&&(e.$$p=null);return this.$raise(n(C,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,c))},e.$$arity=-2);b.def(m,"$=~",
c=function(a){return!1},c.$$arity=1);b.def(m,"$!~",l=function(a){return this["$=~"](a)["$!"]()},l.$$arity=1);b.def(m,"$===",d=function(a){var b;return A(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},d.$$arity=1);b.def(m,"$<=>",y=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==r?0:r},y.$$arity=1);b.def(m,"$method",v=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(n(C,"NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return n(C,"Method").$new(this,
b.$$owner||this.$class(),b,a)},v.$$arity=1);b.def(m,"$methods",g=function(a){null==a&&(a=!0);var c=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=a&&a!==r||b.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&c.push(d.substr(1));return c},g.$$arity=-1);b.alias(m,"public_methods","methods");b.def(m,"$Array",k=function(a){var b;if(a===r)return[];if(a.$$is_array)return a;b=n(C,"Opal")["$coerce_to?"](a,n(C,"Array"),"to_ary");if(b!==r)return b;b=n(C,"Opal")["$coerce_to?"](a,n(C,"Array"),
"to_a");return b!==r?b:[a]},k.$$arity=1);b.def(m,"$at_exit",q=function(){var a,b=q.$$p,c=b||r;null==p.__at_exit__&&(p.__at_exit__=r);b&&(q.$$p=null);p.__at_exit__=A(a=p.__at_exit__)?a:[];return p.__at_exit__["$<<"](c)},q.$$arity=0);b.def(m,"$caller",sa=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return[]},sa.$$arity=-1);b.def(m,"$class",u=function(){return this.$$class},u.$$arity=0);b.def(m,"$copy_instance_variables",Ea=function(a){var b=
Object.keys(a),c,d,f;c=0;for(d=b.length;c<d;c++)f=b[c],"$"!==f.charAt(0)&&a.hasOwnProperty(f)&&(this[f]=a[f])},Ea.$$arity=1);b.def(m,"$copy_singleton_methods",D=function(a){var c;if(a.hasOwnProperty("$$meta")){var d=b.get_singleton_class(a).$$proto,f=b.get_singleton_class(this).$$proto;for(c in d)"$"===c.charAt(0)&&d.hasOwnProperty(c)&&(f[c]=d[c])}for(c in a)"$"===c.charAt(0)&&"$"!==c.charAt(1)&&a.hasOwnProperty(c)&&(this[c]=a[c])},D.$$arity=1);b.def(m,"$clone",aa=function(a){var c=r;if(null==a||
!a.$$is_hash)if(null==a)w([],{});else throw b.ArgumentError.$new("expected kwargs");c=this.$class().$allocate();c.$copy_instance_variables(this);c.$copy_singleton_methods(this);c.$initialize_clone(this);return c},aa.$$arity=-1);b.def(m,"$initialize_clone",da=function(a){return this.$initialize_copy(a)},da.$$arity=1);b.def(m,"$define_singleton_method",J=function(b,c){var d=J.$$p,f=d||r;d&&(J.$$p=null);return a(this.$singleton_class(),"define_method",[b,c],f.$to_proc())},J.$$arity=-2);b.def(m,"$dup",
ja=function(){var a=r,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},ja.$$arity=0);b.def(m,"$initialize_dup",va=function(a){return this.$initialize_copy(a)},va.$$arity=1);b.def(m,"$enum_for",z=function(c,d){var f,e=z.$$p,g=e||r;null==c&&(c="each");var k=arguments.length;f=k-1;0>f&&(f=0);f=Array(f);for(var l=1;l<k;l++)f[l-1]=arguments[l];e&&(z.$$p=null);return a(n(C,"Enumerator"),"for",[this,c].concat(b.to_a(f)),g.$to_proc())},z.$$arity=-1);b.alias(m,
"to_enum","enum_for");b.def(m,"$equal?",T=function(a){return this===a},T.$$arity=1);b.def(m,"$exit",oa=function(a){var c,d=r;null==p.__at_exit__&&(p.__at_exit__=r);null==a&&(a=!0);for(p.__at_exit__=A(c=p.__at_exit__)?c:[];!A(p.__at_exit__["$empty?"]());)d=p.__at_exit__.$pop(),d.$call();a=null==a?0:a.$$is_boolean?a?0:1:a.$$is_numeric?a.$to_i():0;b.exit(a);return r},oa.$$arity=-1);b.def(m,"$extend",ba=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];
c=this.$singleton_class();for(d=b.length-1;0<=d;d--){var f=b[d];f.$$is_module||this.$raise(n(C,"TypeError"),"wrong argument type "+f.$class()+" (expected Module)");f.$append_features(c);f.$extend_object(this);f.$extended(this)}return this},ba.$$arity=-1);b.def(m,"$format",G=function(a,b){function c(){G&32&&m.$raise(n(C,"ArgumentError"),"flag after width");G&128&&m.$raise(n(C,"ArgumentError"),"flag after precision")}function d(){G&32&&m.$raise(n(C,"ArgumentError"),"width given twice");G&128&&m.$raise(n(C,
"ArgumentError"),"width after precision")}function f(a){a>=q.length&&m.$raise(n(C,"ArgumentError"),"too few arguments");return q[a]}function e(){switch(w){case -1:m.$raise(n(C,"ArgumentError"),"unnumbered("+Aa+") mixed with numbered");case -2:m.$raise(n(C,"ArgumentError"),"unnumbered("+Aa+") mixed with named")}w=Aa++;return f(w-1)}function g(a){0<w&&m.$raise(n(C,"ArgumentError"),"numbered("+a+") after unnumbered("+w+")");-2===w&&m.$raise(n(C,"ArgumentError"),"numbered("+a+") after named");1>a&&m.$raise(n(C,
"ArgumentError"),"invalid index - "+a+"$");w=-1;return f(a-1)}function k(){return void 0===J?e():J}function l(b){var c;for(c="";;z++){z===y&&m.$raise(n(C,"ArgumentError"),"malformed format string - %*[0-9]");if(48>a.charCodeAt(z)||57<a.charCodeAt(z))return z--,c=parseInt(c,10)||0,2147483647<c&&m.$raise(n(C,"ArgumentError"),""+b+" too big"),c;c+=a.charAt(z)}}function u(b){b=l(b);"$"===a.charAt(z+1)?(z++,b=g(b)):b=e();return b.$to_int()}var m=this,q,Pa=r;null==p.DEBUG&&(p.DEBUG=r);var Pa=arguments.length,
t=Pa-1;0>t&&(t=0);q=Array(t);for(t=1;t<Pa;t++)q[t-1]=arguments[t];A(q.$length()["$=="](1)?q["$[]"](0)["$respond_to?"]("to_ary"):q.$length()["$=="](1))&&(Pa=n(C,"Opal")["$coerce_to?"](q["$[]"](0),n(C,"Array"),"to_ary"),A(Pa["$nil?"]())||(q=Pa.$to_a()));var Pa="",t=0,H,z,y=a.length,E,h,ua,D,v,za,Q,T,sa,J,Aa=1,w=0,G;for(z=a.indexOf("%");-1!==z;z=a.indexOf("%",z)){h=void 0;G=0;v=D=-1;J=void 0;H=z;z++;switch(a.charAt(z)){case "%":t=z;case "":case "\n":case "\x00":z++;continue}a:for(;z<y;z++)switch(a.charAt(z)){case " ":c();
G|=16;continue a;case "#":c();G|=1;continue a;case "+":c();G|=4;continue a;case "-":c();G|=2;continue a;case "0":c();G|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":E=l("width");if("$"===a.charAt(z+1)){if(z+2===y){h="%";z++;break a}void 0!==J&&m.$raise(n(C,"ArgumentError"),"value given twice - %"+E+"$");J=g(E);z++}else d(),G|=32,D=E;continue a;case "<":case "{":for(ua="<"===a.charAt(z)?">":"}",E="",z++;;z++){z===y&&m.$raise(n(C,"ArgumentError"),"malformed name - unmatched parenthesis");
if(a.charAt(z)===ua)if(0<w&&m.$raise(n(C,"ArgumentError"),"named "+E+" after unnumbered("+w+")"),-1===w&&m.$raise(n(C,"ArgumentError"),"named "+E+" after numbered"),w=-2,void 0!==q[0]&&q[0].$$is_hash||m.$raise(n(C,"ArgumentError"),"one hash required"),J=q[0].$fetch(E),">"===ua)continue a;else{h=J.toString();-1!==v&&(h=h.slice(0,v));if(G&2)for(;h.length<D;)h+=" ";else for(;h.length<D;)h=" "+h;break a}E+=a.charAt(z)}case "*":z++;d();G|=32;D=u("width");0>D&&(G|=2,D=-D);continue a;case ".":G&128&&m.$raise(n(C,
"ArgumentError"),"precision given twice");G|=192;v=0;z++;if("*"===a.charAt(z)){z++;v=u("precision");0>v&&(G&=-65);continue a}v=l("precision");continue a;case "d":case "i":case "u":E=m.$Integer(k());if(0<=E){for(h=E.toString();h.length<v;)h="0"+h;if(G&2){if(G&4||G&16)h=(G&4?"+":" ")+h;for(;h.length<D;)h+=" "}else if(G&8&&-1===v){for(;h.length<D-(G&4||G&16?1:0);)h="0"+h;if(G&4||G&16)h=(G&4?"+":" ")+h}else{if(G&4||G&16)h=(G&4?"+":" ")+h;for(;h.length<D;)h=" "+h}}else{for(h=(-E).toString();h.length<v;)h=
"0"+h;if(G&2)for(h="-"+h;h.length<D;)h+=" ";else if(G&8&&-1===v){for(;h.length<D-1;)h="0"+h;h="-"+h}else for(h="-"+h;h.length<D;)h=" "+h}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(z)){case "b":case "B":za=2;Q="0b";T=/^1+/;sa="1";break;case "o":za=8;Q="0";T=/^3?7+/;sa="7";break;case "x":case "X":za=16,Q="0x",T=/^f+/,sa="f"}E=m.$Integer(k());if(0<=E){for(h=E.toString(za);h.length<v;)h="0"+h;if(G&2){if(G&4||G&16)h=(G&4?"+":" ")+h;for(G&1&&0!==E&&(h=Q+h);h.length<D;)h+=" "}else if(G&
8&&-1===v){for(;h.length<D-(G&4||G&16?1:0)-(G&1&&0!==E?Q.length:0);)h="0"+h;G&1&&0!==E&&(h=Q+h);if(G&4||G&16)h=(G&4?"+":" ")+h}else{G&1&&0!==E&&(h=Q+h);if(G&4||G&16)h=(G&4?"+":" ")+h;for(;h.length<D;)h=" "+h}}else if(G&4||G&16){for(h=(-E).toString(za);h.length<v;)h="0"+h;if(G&2)for(G&1&&(h=Q+h),h="-"+h;h.length<D;)h+=" ";else if(G&8&&-1===v){for(;h.length<D-1-(G&1?2:0);)h="0"+h;G&1&&(h=Q+h);h="-"+h}else for(G&1&&(h=Q+h),h="-"+h;h.length<D;)h=" "+h}else{for(h=(E>>>0).toString(za).replace(T,sa);h.length<
v-2;)h=sa+h;if(G&2)for(h=".."+h,G&1&&(h=Q+h);h.length<D;)h+=" ";else if(G&8&&-1===v){for(;h.length<D-2-(G&1?Q.length:0);)h=sa+h;h=".."+h;G&1&&(h=Q+h)}else for(h=".."+h,G&1&&(h=Q+h);h.length<D;)h=" "+h}a.charAt(z)===a.charAt(z).toUpperCase()&&(h=h.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":E=m.$Float(k());if(0<=E||isNaN(E)){if(Infinity===E)h="Inf";else switch(a.charAt(z)){case "f":h=E.toFixed(-1===v?6:v);break;case "e":case "E":h=E.toExponential(-1===v?6:v);break;case "g":case "G":h=
E.toExponential(),ua=parseInt(h.split("e")[1],10),-4>ua||ua>=(-1===v?6:v)||(h=E.toPrecision(-1===v?G&1?6:void 0:v))}if(G&2){if(G&4||G&16)h=(G&4?"+":" ")+h;for(;h.length<D;)h+=" "}else if(G&8&&Infinity!==E&&!isNaN(E)){for(;h.length<D-(G&4||G&16?1:0);)h="0"+h;if(G&4||G&16)h=(G&4?"+":" ")+h}else{if(G&4||G&16)h=(G&4?"+":" ")+h;for(;h.length<D;)h=" "+h}}else{if(-Infinity===E)h="Inf";else switch(a.charAt(z)){case "f":h=(-E).toFixed(-1===v?6:v);break;case "e":case "E":h=(-E).toExponential(-1===v?6:v);break;
case "g":case "G":h=(-E).toExponential(),ua=parseInt(h.split("e")[1],10),-4>ua||ua>=(-1===v?6:v)||(h=(-E).toPrecision(-1===v?G&1?6:void 0:v))}if(G&2)for(h="-"+h;h.length<D;)h+=" ";else if(G&8&&-Infinity!==E){for(;h.length<D-1;)h="0"+h;h="-"+h}else for(h="-"+h;h.length<D;)h=" "+h}a.charAt(z)!==a.charAt(z).toUpperCase()||Infinity===E||-Infinity===E||isNaN(E)||(h=h.toUpperCase());h=h.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":m.$raise(n(C,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":E=k();E["$respond_to?"]("to_ary")&&(E=E.$to_ary()[0]);h=E["$respond_to?"]("to_str")?E.$to_str():String.fromCharCode(n(C,"Opal").$coerce_to(E,n(C,"Integer"),"to_int"));1!==h.length&&m.$raise(n(C,"ArgumentError"),"%c requires a character");if(G&2)for(;h.length<D;)h+=" ";else for(;h.length<D;)h=" "+h;break a;case "p":h=k().$inspect();-1!==v&&(h=h.slice(0,v));if(G&2)for(;h.length<D;)h+=" ";else for(;h.length<D;)h=" "+h;break a;case "s":h=k().$to_s();-1!==v&&(h=h.slice(0,v));if(G&2)for(;h.length<
D;)h+=" ";else for(;h.length<D;)h=" "+h;break a;default:m.$raise(n(C,"ArgumentError"),"malformed format string - %"+a.charAt(z))}void 0===h&&m.$raise(n(C,"ArgumentError"),"malformed format string - %");Pa+=a.slice(t,H)+h;t=z+1}p.DEBUG&&0<=w&&Aa<q.length&&m.$raise(n(C,"ArgumentError"),"too many arguments for format string");return Pa+a.slice(t)},G.$$arity=-2);b.def(m,"$hash",Q=function(){return this.$__id__()},Q.$$arity=0);b.def(m,"$initialize_copy",R=function(a){return r},R.$$arity=1);b.def(m,"$inspect",
L=function(){return this.$to_s()},L.$$arity=0);b.def(m,"$instance_of?",S=function(a){a.$$is_class||a.$$is_module||this.$raise(n(C,"TypeError"),"class or module required");return this.$$class===a},S.$$arity=1);b.def(m,"$instance_variable_defined?",W=function(a){a=n(C,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},W.$$arity=1);b.def(m,"$instance_variable_get",O=function(a){a=n(C,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?
r:a},O.$$arity=1);b.def(m,"$instance_variable_set",X=function(a,c){a=n(C,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=c},X.$$arity=2);b.def(m,"$remove_instance_variable",N=function(a){a=n(C,"Opal")["$instance_variable_name!"](a);var c=b.ivar(a.substr(1));return this.hasOwnProperty(c)?(a=this[c],delete this[c],a):this.$raise(n(C,"NameError"),"instance variable "+a+" not defined")},N.$$arity=1);b.def(m,"$instance_variables",ea=function(){var a=[],b,c;for(c in this)this.hasOwnProperty(c)&&
"$"!==c.charAt(0)&&(b="$"===c.substr(-1)?c.slice(0,c.length-1):c,a.push("@"+b));return a},ea.$$arity=0);b.def(m,"$Integer",pa=function(a,b){var c=this,d,f;if(!a.$$is_string)return void 0!==b&&c.$raise(n(C,"ArgumentError"),"base specified for non string value"),a===r&&c.$raise(n(C,"TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&c.$raise(n(C,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(d=a.$to_int(),d!==r)?d:n(C,"Opal")["$coerce_to!"](a,
n(C,"Integer"),"to_i");if("0"===a)return 0;void 0===b?b=0:(b=n(C,"Opal").$coerce_to(b,n(C,"Integer"),"to_int"),(1===b||0>b||36<b)&&c.$raise(n(C,"ArgumentError"),"invalid radix "+b));d=a.toLowerCase();d=d.replace(/(\d)_(?=\d)/g,"$1");d=d.replace(/^(\s*[+-]?)(0[bodx]?)/,function(d,f,e){switch(e){case "0b":if(0===b||2===b)return b=2,f;case "0":case "0o":if(0===b||8===b)return b=8,f;case "0d":if(0===b||10===b)return b=10,f;case "0x":if(0===b||16===b)return b=16,f}c.$raise(n(C,"ArgumentError"),'invalid value for Integer(): "'+
a+'"')});b=0===b?10:b;f="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+f+"]+\\s*$")).test(d)||c.$raise(n(C,"ArgumentError"),'invalid value for Integer(): "'+a+'"');d=parseInt(d,b);isNaN(d)&&c.$raise(n(C,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return d},pa.$$arity=-2);b.def(m,"$Float",ga=function(a){var b;a===r&&this.$raise(n(C,"TypeError"),"can't convert nil into Float");if(a.$$is_string){b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(n(C,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return n(C,"Opal")["$coerce_to!"](a,n(C,"Float"),"to_f")},ga.$$arity=1);b.def(m,"$Hash",P=function(a){var b;return A(A(b=a["$nil?"]())?b:a["$=="]([]))?w([],{}):A(n(C,"Hash")["$==="](a))?a:n(C,"Opal")["$coerce_to!"](a,n(C,"Hash"),"to_hash")},P.$$arity=1);b.def(m,"$is_a?",U=function(a){a.$$is_class||a.$$is_module||this.$raise(n(C,"TypeError"),"class or module required");
return b.is_a(this,a)},U.$$arity=1);b.def(m,"$itself",F=function(){return this},F.$$arity=0);b.alias(m,"kind_of?","is_a?");b.def(m,"$lambda",V=function(){var a=V.$$p,c=a||r;a&&(V.$$p=null);return b.lambda(c)},V.$$arity=0);b.def(m,"$load",ha=function(a){a=n(C,"Opal")["$coerce_to!"](a,n(C,"String"),"to_str");return b.load(a)},ha.$$arity=1);b.def(m,"$loop",Z=function(){var c,d=Z.$$p,f=d||r,e=r;d&&(Z.$$p=null);if(f===r)return a(this,"enum_for",["loop"],(c=function(){return x(n(C,"Float"),"INFINITY")},
c.$$s=this,c.$$arity=0,c));for(;A(!0);)try{b.yieldX(f,[])}catch(g){if(b.rescue(g,[n(C,"StopIteration")])){e=g;try{return e.$result()}finally{b.pop_exception()}}else throw g;}return this},Z.$$arity=0);b.def(m,"$nil?",qa=function(){return!1},qa.$$arity=0);b.alias(m,"object_id","__id__");b.def(m,"$printf",ma=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];A(d["$any?"]())&&this.$print(a(this,"format",b.to_a(d)));return r},ma.$$arity=-1);b.def(m,
"$proc",fa=function(){var a=fa.$$p,b=a||r;a&&(fa.$$p=null);A(b)||this.$raise(n(C,"ArgumentError"),"tried to create Proc object without a block");b.$$is_lambda=!1;return b},fa.$$arity=0);b.def(m,"$puts",ka=function(c){var d;null==p.stdout&&(p.stdout=r);var f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];return a(p.stdout,"puts",b.to_a(d))},ka.$$arity=-1);b.def(m,"$p",Ba=function(b){var c,d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-
0]=arguments[e];a(d,"each",[],(c=function(a){null==p.stdout&&(p.stdout=r);null==a&&(a=r);return p.stdout.$puts(a.$inspect())},c.$$s=this,c.$$arity=1,c));return A(B(d.$length(),1))?d["$[]"](0):d},Ba.$$arity=-1);b.def(m,"$print",Y=function(c){var d;null==p.stdout&&(p.stdout=r);var f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];return a(p.stdout,"print",b.to_a(d))},Y.$$arity=-1);b.def(m,"$warn",la=function(c){var d,f;null==p.VERBOSE&&(p.VERBOSE=r);null==p.stderr&&
(p.stderr=r);var e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];return A(A(d=p.VERBOSE["$nil?"]())?d:f["$empty?"]())?r:a(p.stderr,"puts",b.to_a(f))},la.$$arity=-1);b.def(m,"$raise",na=function(a,c,d){null==p["!"]&&(p["!"]=r);null==c&&(c=r);if(null==a&&p["!"]!==r)throw p["!"];null==a?a=n(C,"RuntimeError").$new():a.$$is_string?a=n(C,"RuntimeError").$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(c):a["$is_a?"](n(C,"Exception"))||(a=n(C,"TypeError").$new("exception class/object expected"));
p["!"]!==r&&b.exceptions.push(p["!"]);p["!"]=a;throw a;},na.$$arity=-1);b.alias(m,"fail","raise");b.def(m,"$rand",wa=function(a){if(void 0===a)return x(n(C,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return x(n(C,"Random"),"DEFAULT").$rand(a)},wa.$$arity=-1);b.def(m,"$respond_to?",ta=function(a,b){null==b&&(b=!1);if(A(this["$respond_to_missing?"](a,b)))return!0;var c=this["$"+a];return"function"!==typeof c||c.$$stub?!1:!0},ta.$$arity=
-2);b.def(m,"$respond_to_missing?",Ca=function(a,b){return!1},Ca.$$arity=-2);b.def(m,"$require",ya=function(a){a=n(C,"Opal")["$coerce_to!"](a,n(C,"String"),"to_str");return b.require(a)},ya.$$arity=1);b.def(m,"$require_relative",Aa=function(a){n(C,"Opal")["$try_convert!"](a,n(C,"String"),"to_str");a=n(C,"File").$expand_path(n(C,"File").$join(b.current_file,"..",a));return b.require(a)},Aa.$$arity=1);b.def(m,"$require_tree",xa=function(a){var c=[];a=n(C,"File").$expand_path(a);a=b.normalize(a);"."===
a&&(a="");for(var d in b.modules)d["$start_with?"](a)&&c.push([d,b.require(d)]);return c},xa.$$arity=1);b.alias(m,"send","__send__");b.alias(m,"public_send","__send__");b.def(m,"$singleton_class",Da=function(){return b.get_singleton_class(this)},Da.$$arity=0);b.def(m,"$sleep",Fa=function(a){null==a&&(a=r);a===r&&this.$raise(n(C,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(n(C,"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(n(C,
"ArgumentError"),"time interval must be positive");for(var c=b.global.performance?function(){return performance.now()}:function(){return new Date},d=c();c()-d<=1E3*a;);return a},Fa.$$arity=-1);b.alias(m,"sprintf","format");b.def(m,"$srand",La=function(a){null==a&&(a=n(C,"Random").$new_seed());return n(C,"Random").$srand(a)},La.$$arity=-1);b.def(m,"$String",Ka=function(a){var b;return A(b=n(C,"Opal")["$coerce_to?"](a,n(C,"String"),"to_str"))?b:n(C,"Opal")["$coerce_to!"](a,n(C,"String"),"to_s")},Ka.$$arity=
1);b.def(m,"$tap",Ha=function(){var a=Ha.$$p,c=a||r;a&&(Ha.$$p=null);b.yield1(c,this);return this},Ha.$$arity=0);b.def(m,"$to_proc",Ma=function(){return this},Ma.$$arity=0);b.def(m,"$to_s",Ga=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ga.$$arity=0);b.def(m,"$catch",Ia=function(a){var c=Ia.$$p,d=c||r,f=r;c&&(Ia.$$p=null);try{return b.yieldX(d,[])}catch(e){if(b.rescue(e,[n(C,"UncaughtThrowError")])){f=e;try{return f.$sym()["$=="](a)?f.$arg():this.$raise()}finally{b.pop_exception()}}else throw e;
}},Ia.$$arity=1);b.def(m,"$throw",H=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$raise(n(C,"UncaughtThrowError"),b)},H.$$arity=-1);b.def(m,"$open",ua=function(c){var d,f=ua.$$p,e=f||r,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var k=0;k<g;k++)d[k-0]=arguments[k];f&&(ua.$$p=null);return a(n(C,"File"),"open",b.to_a(d),e.$to_proc())},ua.$$arity=-1);b.def(m,"$yield_self",za=function(){var c,d=za.$$p,f=d||r;d&&(za.$$p=null);
return f===r?a(this,"enum_for",["yield_self"],(c=function(){return 1},c.$$s=this,c.$$arity=0,c)):b.yield1(f,this)},za.$$arity=0)})(F[0],F);return function(a,$super,b){function h(){}a=h=f(a,$super,"Object",h);b=[a].concat(b);return a.$include(n(b,"Kernel"))}(F[0],null,F)},Opal.modules["corelib/error"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.klass,n=b.send,h=b.truthy,A=b.module,p=b.hash2;b.add_stubs("$new $clone $to_s $empty? $class $+ $attr_reader $[] $> $length $inspect $raise".split(" "));
(function(w,$super,f){function E(){}w=E=x(w,$super,"Exception",E);var t=w.$$proto;[w].concat(f);var m,C,e,c,l,d,y,v;t.message=F;var g;b.defs(w,"$new",m=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];f=0<d.length?d[0]:F;e=new this.$$alloc(f);e.name=this.$$name;e.message=f;b.send(e,e.$initialize,d);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(e,g);return e},m.$$arity=-1);g=w.$new;b.defs(w,"$exception",C=function(c){var d,
f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];return n(this,"new",b.to_a(d))},C.$$arity=-1);b.def(w,"$initialize",e=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];return this.message=0<c.length?c[0]:F},e.$$arity=-1);b.def(w,"$backtrace",c=function(){var b=this.stack;return"string"===typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},c.$$arity=0);b.def(w,"$exception",l=function(b){null==b&&(b=F);
if(b===F||this===b)return this;var c=this.$clone();c.message=b;return c},l.$$arity=-1);b.def(w,"$message",d=function(){return this.$to_s()},d.$$arity=0);b.def(w,"$inspect",y=function(){var b=F,b=this.$to_s();return h(b["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},y.$$arity=0);return(b.def(w,"$to_s",v=function(){var b,c;return h(b=h(c=this.message)?this.message.$to_s():c)?b:this.$class().$to_s()},v.$$arity=0),F)&&"to_s"})(B[0],Error,B);(function(b,$super,f){function h(){}
[h=x(b,$super,"ScriptError",h)].concat(f);return F})(B[0],r(B,"Exception"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"SyntaxError",h)].concat(f);return F})(B[0],r(B,"ScriptError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"LoadError",h)].concat(f);return F})(B[0],r(B,"ScriptError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"NotImplementedError",h)].concat(f);return F})(B[0],r(B,"ScriptError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"SystemExit",h)].concat(f);
return F})(B[0],r(B,"Exception"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"NoMemoryError",h)].concat(f);return F})(B[0],r(B,"Exception"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"SignalException",h)].concat(f);return F})(B[0],r(B,"Exception"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"Interrupt",h)].concat(f);return F})(B[0],r(B,"Exception"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"SecurityError",h)].concat(f);return F})(B[0],r(B,"Exception"),B);(function(b,
$super,f){function h(){}[h=x(b,$super,"StandardError",h)].concat(f);return F})(B[0],r(B,"Exception"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"EncodingError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"ZeroDivisionError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"NameError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=
x(b,$super,"NoMethodError",h)].concat(f);return F})(B[0],r(B,"NameError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"RuntimeError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"FrozenError",h)].concat(f);return F})(B[0],r(B,"RuntimeError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"LocalJumpError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"TypeError",h)].concat(f);
return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"ArgumentError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"IndexError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"StopIteration",h)].concat(f);return F})(B[0],r(B,"IndexError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"KeyError",h)].concat(f);return F})(B[0],r(B,"IndexError"),
B);(function(b,$super,f){function h(){}[h=x(b,$super,"RangeError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"FloatDomainError",h)].concat(f);return F})(B[0],r(B,"RangeError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"IOError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(b,$super,f){function h(){}[h=x(b,$super,"SystemCallError",h)].concat(f);return F})(B[0],r(B,"StandardError"),B);(function(w,a){var f=[A(w,
"Errno")].concat(a);(function(a,$super,f){function C(){}a=C=x(a,$super,"EINVAL",C);[a].concat(f);var e;return(b.defs(a,"$new",e=function(a){var f=e.$$p,d=F;null==a&&(a=F);f&&(e.$$p=null);d="Invalid argument";h(a)&&(a=" - "+a,d="number"===typeof d&&"number"===typeof a?d+a:d["$+"](a));return n(this,b.find_super_dispatcher(this,"new",e,!1,C),[d],null)},e.$$arity=-1),F)&&"new"})(f[0],r(f,"SystemCallError"),f)})(B[0],B);(function(w,$super,f){function E(){}w=E=x(w,$super,"UncaughtThrowError",E);var t=w.$$proto;
[w].concat(f);var m;t.sym=F;w.$attr_reader("sym","arg");return(b.def(w,"$initialize",m=function(f){m.$$p&&(m.$$p=null);this.sym=f["$[]"](0);var e;e=f.$length();e="number"===typeof e?1<e:e["$>"](1);h(e)&&(this.arg=f["$[]"](1));return n(this,b.find_super_dispatcher(this,"initialize",m,!1),["uncaught throw "+this.sym.$inspect()],null)},m.$$arity=1),F)&&"initialize"})(B[0],r(B,"ArgumentError"),B);(function(h,$super,f){function E(){}h=E=x(h,$super,"NameError",E);[h].concat(f);var t;h.$attr_reader("name");
return(b.def(h,"$initialize",t=function(f,h){var e=t.$$p;null==h&&(h=F);e&&(t.$$p=null);n(this,b.find_super_dispatcher(this,"initialize",t,!1),[f],null);return this.name=h},t.$$arity=-2),F)&&"initialize"})(B[0],null,B);(function(h,$super,f){function E(){}h=E=x(h,$super,"NoMethodError",E);[h].concat(f);var t;h.$attr_reader("args");return(b.def(h,"$initialize",t=function(f,h,e){var c=t.$$p;null==h&&(h=F);null==e&&(e=[]);c&&(t.$$p=null);n(this,b.find_super_dispatcher(this,"initialize",t,!1),[f,h],null);
return this.args=e},t.$$arity=-2),F)&&"initialize"})(B[0],null,B);(function(b,$super,f){function h(){}b=h=x(b,$super,"StopIteration",h);[b].concat(f);return b.$attr_reader("result")})(B[0],null,B);(function(w,$super,f){function E(){}w=E=x(w,$super,"KeyError",E);var t=w.$$proto,m=[w].concat(f),C,e,c;t.receiver=t.key=F;b.def(w,"$initialize",C=function(c,d){var f,e,g=C.$$p;if(null==d||!d.$$is_hash)if(null==d)d=p([],{});else throw b.ArgumentError.$new("expected kwargs");f=d.$$smap.receiver;null==f&&(f=
F);e=d.$$smap.key;null==e&&(e=F);g&&(C.$$p=null);n(this,b.find_super_dispatcher(this,"initialize",C,!1),[c],null);this.receiver=f;return this.key=e},C.$$arity=-2);b.def(w,"$receiver",e=function(){var b;return h(b=this.receiver)?b:this.$raise(r(m,"ArgumentError"),"no receiver is available")},e.$$arity=0);return(b.def(w,"$key",c=function(){var b;return h(b=this.key)?b:this.$raise(r(m,"ArgumentError"),"no key is available")},c.$$arity=0),F)&&"key"})(B[0],null,B);return function(b,a){var f=[A(b,"JS")].concat(a);
(function(a,$super,b){function f(){}[f=x(a,$super,"Error",f)].concat(b);return F})(f[0],null,f)}(B[0],B)},Opal.modules["corelib/constants"]=function(b){var B=[],F=b.const_get_relative;b.const_set(B[0],"RUBY_PLATFORM","opal");b.const_set(B[0],"RUBY_ENGINE","opal");b.const_set(B[0],"RUBY_VERSION","2.5.0");b.const_set(B[0],"RUBY_ENGINE_VERSION","0.11.1.dev");b.const_set(B[0],"RUBY_RELEASE_DATE","2018-03-06");b.const_set(B[0],"RUBY_PATCHLEVEL",0);b.const_set(B[0],"RUBY_REVISION",0);b.const_set(B[0],"RUBY_COPYRIGHT",
"opal - Copyright (C) 2013-2015 Adam Beynon");return b.const_set(B[0],"RUBY_DESCRIPTION","opal "+F(B,"RUBY_ENGINE_VERSION")+" ("+F(B,"RUBY_RELEASE_DATE")+" revision "+F(B,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(b){var B=b.top;b.add_stubs(["$require"]);B.$require("corelib/runtime");B.$require("corelib/helpers");B.$require("corelib/module");B.$require("corelib/class");B.$require("corelib/basic_object");B.$require("corelib/kernel");B.$require("corelib/error");return B.$require("corelib/constants")},
Opal.modules["corelib/nil"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.klass,n=b.hash2,h=b.truthy;b.add_stubs("$raise $name $new $> $length $Rational".split(" "));(function(A,$super,w){function a(){}A=a=x(A,$super,"NilClass",a);var f=A.$$proto,E=[A].concat(w),t,m,C,e,c,l,d,y,v,g,k,q,sa,u,Ea,D,aa,da;f.$$meta=A;(function(a,c){var d=[a].concat(c),f;b.def(a,"$allocate",f=function(){return this.$raise(r(d,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");
return F})(b.get_singleton_class(A),E);b.def(A,"$!",t=function(){return!0},t.$$arity=0);b.def(A,"$&",m=function(a){return!1},m.$$arity=1);b.def(A,"$|",C=function(a){return!1!==a&&a!==F},C.$$arity=1);b.def(A,"$^",e=function(a){return!1!==a&&a!==F},e.$$arity=1);b.def(A,"$==",c=function(a){return a===F},c.$$arity=1);b.def(A,"$dup",l=function(){return F},l.$$arity=0);b.def(A,"$clone",d=function(a){if(null==a||!a.$$is_hash)if(null==a)n([],{});else throw b.ArgumentError.$new("expected kwargs");return F},
d.$$arity=-1);b.def(A,"$inspect",y=function(){return"nil"},y.$$arity=0);b.def(A,"$nil?",v=function(){return!0},v.$$arity=0);b.def(A,"$singleton_class",g=function(){return r(E,"NilClass")},g.$$arity=0);b.def(A,"$to_a",k=function(){return[]},k.$$arity=0);b.def(A,"$to_h",q=function(){return b.hash()},q.$$arity=0);b.def(A,"$to_i",sa=function(){return 0},sa.$$arity=0);b.alias(A,"to_f","to_i");b.def(A,"$to_s",u=function(){return""},u.$$arity=0);b.def(A,"$to_c",Ea=function(){return r(E,"Complex").$new(0,
0)},Ea.$$arity=0);b.def(A,"$rationalize",D=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=b.$length();c="number"===typeof c?1<c:c["$>"](1);h(c)&&this.$raise(r(E,"ArgumentError"));return this.$Rational(0,1)},D.$$arity=-1);b.def(A,"$to_r",aa=function(){return this.$Rational(0,1)},aa.$$arity=0);return(b.def(A,"$instance_variables",da=function(){return[]},da.$$arity=0),F)&&"instance_variables"})(B[0],null,B);return b.const_set(B[0],"NIL",F)},
Opal.modules["corelib/boolean"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.klass,n=b.hash2;b.add_stubs(["$raise","$name"]);(function(h,$super,p){function w(){}h=w=x(h,$super,"Boolean",w);var a=h.$$proto,f=[h].concat(p),E,t,m,C,e,c,l,d,y,v;a.$$is_boolean=!0;a.$$meta=h;(function(a,c){var d=[a].concat(c),f;b.def(a,"$allocate",f=function(){return this.$raise(r(d,"TypeError"),"allocator undefined for "+this.$name())},f.$$arity=0);b.udef(a,"$new");return F})(b.get_singleton_class(h),f);b.def(h,
"$__id__",E=function(){return this.valueOf()?2:0},E.$$arity=0);b.alias(h,"object_id","__id__");b.def(h,"$!",t=function(){return 1!=this},t.$$arity=0);b.def(h,"$&",m=function(a){return 1==this?!1!==a&&a!==F:!1},m.$$arity=1);b.def(h,"$|",C=function(a){return 1==this?!0:!1!==a&&a!==F},C.$$arity=1);b.def(h,"$^",e=function(a){return 1==this?!1===a||a===F:!1!==a&&a!==F},e.$$arity=1);b.def(h,"$==",c=function(a){return 1==this===a.valueOf()},c.$$arity=1);b.alias(h,"equal?","==");b.alias(h,"eql?","==");b.def(h,
"$singleton_class",l=function(){return r(f,"Boolean")},l.$$arity=0);b.def(h,"$to_s",d=function(){return 1==this?"true":"false"},d.$$arity=0);b.def(h,"$dup",y=function(){return this},y.$$arity=0);return(b.def(h,"$clone",v=function(a){if(null==a||!a.$$is_hash)if(null==a)n([],{});else throw b.ArgumentError.$new("expected kwargs");return this},v.$$arity=-1),F)&&"clone"})(B[0],Boolean,B);b.const_set(B[0],"TrueClass",r(B,"Boolean"));b.const_set(B[0],"FalseClass",r(B,"Boolean"));b.const_set(B[0],"TRUE",
!0);return b.const_set(B[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(b){function B(b,h){return"number"===typeof b&&"number"===typeof h?b>h:b["$>"](h)}function F(b,h){return"number"===typeof b&&"number"===typeof h?b<h:b["$<"](h)}var r=[],x=b.nil,n=b.const_get_relative,h=b.module,A=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(p,w){var a=h(p,"Comparable"),f=[a].concat(w),E,t,m,C,e,c,l,d;b.defs(a,"$normalize",E=function(a){return A(n(f,
"Integer")["$==="](a))?a:A(B(a,0))?1:A(F(a,0))?-1:0},E.$$arity=1);b.def(a,"$==",t=function(a){var c=x;try{return A(this["$equal?"](a))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):A(c=this["$<=>"](a))?0==n(f,"Comparable").$normalize(c):!1}catch(d){if(b.rescue(d,[n(f,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw d;}},t.$$arity=1);b.def(a,"$>",m=function(a){var b=x;A(b=this["$<=>"](a))||this.$raise(n(f,"ArgumentError"),"comparison of "+
this.$class()+" with "+a.$class()+" failed");return 0<n(f,"Comparable").$normalize(b)},m.$$arity=1);b.def(a,"$>=",C=function(a){var b=x;A(b=this["$<=>"](a))||this.$raise(n(f,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=n(f,"Comparable").$normalize(b)},C.$$arity=1);b.def(a,"$<",e=function(a){var b=x;A(b=this["$<=>"](a))||this.$raise(n(f,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>n(f,"Comparable").$normalize(b)},
e.$$arity=1);b.def(a,"$<=",c=function(a){var b=x;A(b=this["$<=>"](a))||this.$raise(n(f,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=n(f,"Comparable").$normalize(b)},c.$$arity=1);b.def(a,"$between?",l=function(a,b){return F(this,a)||B(this,b)?!1:!0},l.$$arity=2);b.def(a,"$clamp",d=function(a,b){var c=x,c=a["$<=>"](b);A(c)||this.$raise(n(f,"ArgumentError"),"comparison of "+a.$class()+" with "+b.$class()+" failed");A(B(n(f,"Comparable").$normalize(c),0))&&
this.$raise(n(f,"ArgumentError"),"min argument must be smaller than max argument");return A(F(n(f,"Comparable").$normalize(this["$<=>"](a)),0))?a:A(B(n(f,"Comparable").$normalize(this["$<=>"](b)),0))?b:this},d.$$arity=2)}(r[0],r)},Opal.modules["corelib/regexp"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.klass,n=b.send,h=b.truthy,A=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $=~ $attr_reader $=== $inspect $to_a".split(" "));
(function(b,$super,a){function f(){}[f=x(b,$super,"RegexpError",f)].concat(a);return F})(B[0],r(B,"StandardError"),B);(function(p,$super,a){function f(){}p=f=x(p,$super,"Regexp",f);var E=p.$$proto,t=[p].concat(a),m,C,e,c,l,d,y,v,g,k;b.const_set(t[0],"IGNORECASE",1);b.const_set(t[0],"EXTENDED",2);b.const_set(t[0],"MULTILINE",4);E.$$is_regexp=!0;(function(a,c){var d=[a].concat(c),f,e,g,k,l;b.def(a,"$allocate",f=function(){var a=f.$$p,c=F,d=c=F,e=F;a&&(f.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<
e;d++)c[d]=arguments[d];c=n(this,b.find_super_dispatcher(this,"allocate",f,!1),c,a);c.uninitialized=!0;return c},f.$$arity=0);b.def(a,"$escape",e=function(a){return b.escape_regexp(a)},e.$$arity=1);b.def(a,"$last_match",g=function(a){null==A["~"]&&(A["~"]=F);null==a&&(a=F);return h(a["$nil?"]())?A["~"]:A["~"]["$[]"](a)},g.$$arity=-1);b.alias(a,"quote","escape");b.def(a,"$union",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];var e,g;if(0==
b.length)return/(?!)/;if(1==b.length&&b[0].$$is_regexp)return b[0];c=b[0].$$is_array;1<b.length&&c&&this.$raise(r(d,"TypeError"),"no implicit conversion of Array into String");c&&(b=b[0]);e=void 0;for(var c=[],k=0;k<b.length;k++)f=b[k],f.$$is_string?c.push(this.$escape(f)):f.$$is_regexp?(g=f.$options(),void 0!=e&&e!=g&&this.$raise(r(d,"TypeError"),"All expressions must use the same options"),e=g,c.push("("+f.source+")")):c.push(this.$escape(f.$to_str()));return this.$new(c.$join("|"),e)},k.$$arity=
-1);return(b.def(a,"$new",l=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=r(d,"Opal")["$coerce_to!"](a,r(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(r(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var c="";r(d,"IGNORECASE")&b&&(c+="i");r(d,"MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},l.$$arity=-2),F)&&"new"})(b.get_singleton_class(p),t);b.def(p,"$==",
m=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},m.$$arity=1);b.def(p,"$===",C=function(a){return this.$match(r(t,"Opal")["$coerce_to?"](a,r(t,"String"),"to_str"))!==F},C.$$arity=1);b.def(p,"$=~",e=function(a){var b;null==A["~"]&&(A["~"]=F);return h(b=this.$match(a))?A["~"].$begin(0):b},e.$$arity=1);b.alias(p,"eql?","==");b.def(p,"$inspect",c=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),c=b.length,d=!1,f="",e=0;e<
c;e++){var g=b[e];d||"/"!=g||(f=f.concat("\\"));f=f.concat(g);d="\\"==g?d?!1:!0:!1}return"/"+f+"/"+a}return a},c.$$arity=0);b.def(p,"$match",l=function(a,c){var d=l.$$p,f=d||F;null==A["~"]&&(A["~"]=F);d&&(l.$$p=null);this.uninitialized&&this.$raise(r(t,"TypeError"),"uninitialized Regexp");if(void 0===c)return a===F?A["~"]=F:(d=this.exec(r(t,"Opal").$coerce_to(a,r(t,"String"),"to_str")))?(A["~"]=r(t,"MatchData").$new(this,d),f===F?A["~"]:b.yield1(f,A["~"])):A["~"]=F;c=r(t,"Opal").$coerce_to(c,r(t,
"Integer"),"to_int");if(a===F)return A["~"]=F;a=r(t,"Opal").$coerce_to(a,r(t,"String"),"to_str");if(0>c&&(c+=a.length,0>c))return A["~"]=F;for(var e=new RegExp(this.source,(this.multiline?"gm":"g")+(this.ignoreCase?"i":""));;){d=e.exec(a);if(null===d)return A["~"]=F;if(d.index>=c)return A["~"]=r(t,"MatchData").$new(e,d),f===F?A["~"]:b.yield1(f,A["~"]);e.lastIndex=d.index+1}},l.$$arity=-2);b.def(p,"$match?",d=function(a,b){this.uninitialized&&this.$raise(r(t,"TypeError"),"uninitialized Regexp");if(void 0===
b)return a===F?!1:this.test(r(t,"Opal").$coerce_to(a,r(t,"String"),"to_str"));b=r(t,"Opal").$coerce_to(b,r(t,"Integer"),"to_int");if(a===F)return!1;a=r(t,"Opal").$coerce_to(a,r(t,"String"),"to_str");if(0>b&&(b+=a.length,0>b))return!1;var c;c=(new RegExp(this.source,(this.multiline?"gm":"g")+(this.ignoreCase?"i":""))).exec(a);return null===c||c.index<b?!1:!0},d.$$arity=-2);b.def(p,"$~",y=function(){null==A._&&(A._=F);return this["$=~"](A._)},y.$$arity=0);b.def(p,"$source",v=function(){return this.source},
v.$$arity=0);b.def(p,"$options",g=function(){this.uninitialized&&this.$raise(r(t,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=r(t,"MULTILINE"));this.ignoreCase&&(a|=r(t,"IGNORECASE"));return a},g.$$arity=0);b.def(p,"$casefold?",k=function(){return this.ignoreCase},k.$$arity=0);return b.alias(p,"to_s","source")})(B[0],RegExp,B);return function(p,$super,a){function f(){}p=f=x(p,$super,"MatchData",f);var E=p.$$proto,t=[p].concat(a),m,C,e,c,l,d,y,v,g,k,q,sa;E.matches=F;p.$attr_reader("post_match",
"pre_match","regexp","string");b.def(p,"$initialize",m=function(a,b){A["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,d=b.length;c<d;c++){var f=b[c];null==f?this.matches.push(F):this.matches.push(f)}},m.$$arity=2);b.def(p,"$[]",C=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];return n(this.matches,"[]",b.to_a(c))},
C.$$arity=-1);b.def(p,"$offset",e=function(a){0!==a&&this.$raise(r(t,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},e.$$arity=1);b.def(p,"$==",c=function(a){var b,c,d,f;return h(r(t,"MatchData")["$==="](a))?h(b=h(c=h(d=h(f=this.string==a.string)?this.regexp.toString()==a.regexp.toString():f)?this.pre_match==a.pre_match:d)?this.post_match==a.post_match:c)?this.begin==a.begin:b:!1},c.$$arity=1);b.alias(p,"eql?","==");b.def(p,"$begin",
l=function(a){0!==a&&this.$raise(r(t,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},l.$$arity=1);b.def(p,"$end",d=function(a){0!==a&&this.$raise(r(t,"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},d.$$arity=1);b.def(p,"$captures",y=function(){return this.matches.slice(1)},y.$$arity=0);b.def(p,"$inspect",v=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+
":"+this.matches[b].$inspect();return a+">"},v.$$arity=0);b.def(p,"$length",g=function(){return this.matches.length},g.$$arity=0);b.alias(p,"size","length");b.def(p,"$to_a",k=function(){return this.matches},k.$$arity=0);b.def(p,"$to_s",q=function(){return this.matches[0]},q.$$arity=0);return(b.def(p,"$values_at",sa=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(var f,d=[],c=0;c<b.length;c++){b[c].$$is_range&&(f=b[c].$to_a(),f.unshift(c,
1),Array.prototype.splice.apply(b,f));f=r(t,"Opal")["$coerce_to!"](b[c],r(t,"Integer"),"to_int");if(0>f&&(f+=this.matches.length,0>f)){d.push(F);continue}d.push(this.matches[f])}return d},sa.$$arity=-1),F)&&"values_at"}(B[0],null,B)},Opal.modules["corelib/string"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var r=b.top,x=[],n=b.nil,h=b.const_get_relative,A=b.klass,p=b.truthy,
w=b.send,a=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $force_encoding $casecmp $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $succ $escape".split(" "));r.$require("corelib/comparable");r.$require("corelib/regexp");(function(f,$super,t){function m(){}function C(a){function b(a){var d=
"",f,g=a.length,k,l;for(f=0;f<g;f++)if(k=a.charAt(f),"-"===k&&0<f&&f<g-1&&!l){l=a.charCodeAt(f-1);k=a.charCodeAt(f+1);l>k&&e.$raise(h(c,"ArgumentError"),'invalid range "'+l+"-"+k+'" in string transliteration');for(l+=1;l<k+1;l++)d+=String.fromCharCode(l);l=!0;f++}else l="\\"===k,d+=k;return d}function d(a,b){if(0===a.length)return b;var c="",f,e=a.length,g;for(f=0;f<e;f++)g=a.charAt(f),-1!==b.indexOf(g)&&(c+=g);return c}var f,g,k,l,m="",t="";f=0;for(g=a.length;f<g;f++)k=h(c,"Opal").$coerce_to(a[f],
h(c,"String"),"to_str"),l="^"===k.charAt(0)&&1<k.length,k=b(l?k.slice(1):k),l?t=d(t,k):m=d(m,k);if(0<m.length&&0<t.length){k="";f=0;for(g=m.length;f<g;f++)a=m.charAt(f),-1===t.indexOf(a)&&(k+=a);m=k;t=""}return 0<m.length?"["+h(c,"Regexp").$escape(m)+"]":0<t.length?"[^"+h(c,"Regexp").$escape(t)+"]":null}var e=m=A(f,$super,"String",m);f=e.$$proto;var c=[e].concat(t),l,d,y,v,g,k,q,sa,u,x,D,aa,r,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,
La,Ka,Ha,Ma,Ga,Ia,H,ua,za,Na,Ja,M,ca,Oa,ra,Qa,Sa,Ra,I;f.length=n;e.$include(h(c,"Comparable"));f.$$is_string=!0;b.def(e,"$__id__",l=function(){return this.toString()},l.$$arity=0);b.alias(e,"object_id","__id__");b.defs(e,"$try_convert",d=function(a){return h(c,"Opal")["$coerce_to?"](a,h(c,"String"),"to_str")},d.$$arity=1);b.defs(e,"$new",y=function(a){null==a&&(a="");a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str");return new String(a)},y.$$arity=-1);b.def(e,"$initialize",v=function(a){return void 0===
a?this:this.$raise(h(c,"NotImplementedError"),"Mutable strings are not supported in Opal.")},v.$$arity=-1);b.def(e,"$%",g=function(a){return p(h(c,"Array")["$==="](a))?w(this,"format",[this].concat(b.to_a(a))):this.$format(this,a)},g.$$arity=1);b.def(e,"$*",k=function(a){a=h(c,"Opal").$coerce_to(a,h(c,"Integer"),"to_int");0>a&&this.$raise(h(c,"ArgumentError"),"negative argument");if(0===a)return"";var b="",d=this.toString();for(268435456<=d.length*a&&this.$raise(h(c,"RangeError"),"multiply count must not overflow maximum string size");;){1===
(a&1)&&(b+=d);a>>>=1;if(0===a)break;d+=d}return b},k.$$arity=1);b.def(e,"$+",q=function(a){a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str");return this+a.$to_s()},q.$$arity=1);b.def(e,"$<=>",sa=function(a){if(p(a["$respond_to?"]("to_str")))return a=a.$to_str().$to_s(),this>a?1:this<a?-1:0;a=a["$<=>"](this);return a===n?n:0<a?-1:0>a?1:0},sa.$$arity=1);b.def(e,"$==",u=function(a){return a.$$is_string?this.toString()===a.toString():h(c,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},u.$$arity=
1);b.alias(e,"eql?","==");b.alias(e,"===","==");b.def(e,"$=~",x=function(a){a.$$is_string&&this.$raise(h(c,"TypeError"),"type mismatch: String given");return a["$=~"](this)},x.$$arity=1);b.def(e,"$[]",D=function(b,d){var f=this.length,e;if(b.$$is_range){e=b.excl;d=h(c,"Opal").$coerce_to(b.end,h(c,"Integer"),"to_int");b=h(c,"Opal").$coerce_to(b.begin,h(c,"Integer"),"to_int");if(Math.abs(b)>f)return n;0>b&&(b+=f);0>d&&(d+=f);e||(d+=1);d-=b;0>d&&(d=0);return this.substr(b,d)}if(b.$$is_string)return null!=
d&&this.$raise(h(c,"TypeError")),-1!==this.indexOf(b)?b:n;if(b.$$is_regexp){f=this.match(b);if(null===f)return a["~"]=n;a["~"]=h(c,"MatchData").$new(b,f);if(null==d)return f[0];d=h(c,"Opal").$coerce_to(d,h(c,"Integer"),"to_int");return 0>d&&-d<f.length?f[d+f.length]:0<=d&&d<f.length?f[d]:n}b=h(c,"Opal").$coerce_to(b,h(c,"Integer"),"to_int");0>b&&(b+=f);if(null==d)return b>=f||0>b?n:this.substr(b,1);d=h(c,"Opal").$coerce_to(d,h(c,"Integer"),"to_int");return 0>d||b>f||0>b?n:this.substr(b,d)},D.$$arity=
-2);b.alias(e,"byteslice","[]");b.def(e,"$b",aa=function(){return this.$force_encoding("binary")},aa.$$arity=0);b.def(e,"$capitalize",r=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},r.$$arity=0);b.def(e,"$casecmp",J=function(a){var b=this;if(!p(a["$respond_to?"]("to_str")))return n;a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str").$to_s();var d=/^[\x00-\x7F]*$/;d.test(b)&&d.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},J.$$arity=1);b.def(e,"$casecmp?",
ja=function(a){a=this.$casecmp(a);return a===n?n:0===a},ja.$$arity=1);b.def(e,"$center",va=function(a,b){null==b&&(b=" ");a=h(c,"Opal").$coerce_to(a,h(c,"Integer"),"to_int");b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str").$to_s();p(b["$empty?"]())&&this.$raise(h(c,"ArgumentError"),"zero width padding");if(p(a<=this.length))return this;var d=this.$ljust(B(F(a,this.length),2).$ceil(),b);return this.$rjust(B(F(a,this.length),2).$floor(),b)+d.slice(this.length)},va.$$arity=-2);b.def(e,"$chars",z=function(){var a=
z.$$p,b=a||n;a&&(z.$$p=null);return p(b)?w(this,"each_char",[],b.$to_proc()):this.$each_char().$to_a()},z.$$arity=0);b.def(e,"$chomp",T=function(b){null==a["/"]&&(a["/"]=n);null==b&&(b=a["/"]);if(p(b===n||0===this.length))return this;b=h(c,"Opal")["$coerce_to!"](b,h(c,"String"),"to_str").$to_s();return"\n"===b?this.replace(/\r?\n?$/,""):""===b?this.replace(/(\r?\n)+$/,""):this.length>b.length&&this.substr(this.length-b.length,b.length)===b?this.substr(0,this.length-b.length):this},T.$$arity=-1);b.def(e,
"$chop",oa=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},oa.$$arity=0);b.def(e,"$chr",ba=function(){return this.charAt(0)},ba.$$arity=0);b.def(e,"$clone",G=function(){var a=n,a=this.slice();a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},G.$$arity=0);b.def(e,"$dup",Q=function(){var a=n,a=this.slice();a.$initialize_dup(this);return a},Q.$$arity=0);b.def(e,"$count",R=function(a){var b,d=arguments.length;
b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];0===b.length&&this.$raise(h(c,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=C(b);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},R.$$arity=-1);b.def(e,"$delete",L=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];0===b.length&&this.$raise(h(c,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");d=C(b);return null===
d?this:this.replace(new RegExp(d,"g"),"")},L.$$arity=-1);b.def(e,"$delete_prefix",S=function(a){a.$$is_string||(a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str"));return this.slice(0,a.length)===a?this.slice(a.length):this},S.$$arity=1);b.def(e,"$delete_suffix",W=function(a){a.$$is_string||(a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str"));return this.slice(this.length-a.length)===a?this.slice(0,this.length-a.length):this},W.$$arity=1);b.def(e,"$downcase",O=function(){return this.toLowerCase()},
O.$$arity=0);b.def(e,"$each_char",X=function(){var a,c=X.$$p,d=c||n;c&&(X.$$p=null);if(d===n)return w(this,"enum_for",["each_char"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,f=this.length;c<f;c++)b.yield1(d,this.charAt(c));return this},X.$$arity=0);b.def(e,"$each_line",N=function(d){var f=N.$$p,e=f||n;null==a["/"]&&(a["/"]=n);null==d&&(d=a["/"]);f&&(N.$$p=null);if(e===n)return this.$enum_for("each_line",d);if(d===n)return b.yield1(e,this),this;d=h(c,"Opal").$coerce_to(d,
h(c,"String"),"to_str");var g,k,l;if(0===d.length){d=this.split(/(\n{2,})/);f=0;for(g=d.length;f<g;f+=2)(d[f]||d[f+1])&&b.yield1(e,(d[f]||"")+(d[f+1]||""));return this}f=this.$chomp(d);g=this.length!=f.length;l=f.split(d);f=0;for(k=l.length;f<k;f++)f<k-1||g?b.yield1(e,l[f]+d):b.yield1(e,l[f]);return this},N.$$arity=-1);b.def(e,"$empty?",ea=function(){return 0===this.length},ea.$$arity=0);b.def(e,"$end_with?",pa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-
0]=arguments[f];d=0;for(f=b.length;d<f;d++){var e=h(c,"Opal").$coerce_to(b[d],h(c,"String"),"to_str").$to_s();if(this.length>=e.length&&this.substr(this.length-e.length,e.length)==e)return!0}return!1},pa.$$arity=-1);b.alias(e,"equal?","===");b.def(e,"$gsub",ga=function(b,d){var f=this,e=ga.$$p,g=e||n;e&&(ga.$$p=null);if(void 0===d&&g===n)return f.$enum_for("gsub",b);var e="",k=n,l=0,m,t;b.$$is_regexp?b=new RegExp(b.source,"gm"+(b.ignoreCase?"i":"")):(b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str"),
b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){m=b.exec(f);if(null===m){a["~"]=n;e+=f.slice(l);break}k=h(c,"MatchData").$new(b,m);void 0===d?t=g(m[0]):d.$$is_hash?t=d["$[]"](m[0]).$to_s():(d.$$is_string||(d=h(c,"Opal").$coerce_to(d,h(c,"String"),"to_str")),t=d.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=m.length-1;0<a;a--)if(void 0!==m[a])return b.slice(1)+m[a];return"";case "&":return b.slice(1)+m[0];case "`":return b.slice(1)+
f.slice(0,m.index);case "'":return b.slice(1)+f.slice(m.index+m[0].length);default:return b.slice(1)+(m[c]||"")}}).replace(/\\\\/g,"\\"));b.lastIndex===m.index?(e+=t+f.slice(l,m.index+1),b.lastIndex+=1):e+=f.slice(l,m.index)+t;l=b.lastIndex}a["~"]=k;return e},ga.$$arity=-2);b.def(e,"$hash",P=function(){return this.toString()},P.$$arity=0);b.def(e,"$hex",U=function(){return this.$to_i(16)},U.$$arity=0);b.def(e,"$include?",ia=function(a){a.$$is_string||(a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str"));
return-1!==this.indexOf(a)},ia.$$arity=1);b.def(e,"$index",V=function(b,d){var f,e;if(void 0===d)d=0;else if(d=h(c,"Opal").$coerce_to(d,h(c,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return n;if(b.$$is_regexp)for(e=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));;){f=e.exec(this);if(null===f){a["~"]=n;f=-1;break}if(f.index>=d){a["~"]=h(c,"MatchData").$new(e,f);f=f.index;break}e.lastIndex=f.index+1}else b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str"),f=0===b.length&&d>this.length?-1:this.indexOf(b,
d);return-1===f?n:f},V.$$arity=-2);b.def(e,"$inspect",ha=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},ha.$$arity=0);b.def(e,"$intern",
Z=function(){return this},Z.$$arity=0);b.def(e,"$lines",qa=function(b){var c=qa.$$p,d=c||n,f=n;null==a["/"]&&(a["/"]=n);null==b&&(b=a["/"]);c&&(qa.$$p=null);f=w(this,"each_line",[b],d.$to_proc());return p(d)?this:f.$to_a()},qa.$$arity=-1);b.def(e,"$length",ma=function(){return this.length},ma.$$arity=0);b.def(e,"$ljust",fa=function(a,b){null==b&&(b=" ");a=h(c,"Opal").$coerce_to(a,h(c,"Integer"),"to_int");b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str").$to_s();p(b["$empty?"]())&&this.$raise(h(c,
"ArgumentError"),"zero width padding");if(p(a<=this.length))return this;var d=-1,f="";for(a-=this.length;++d<a;)f+=b;return this+f.slice(0,a)},fa.$$arity=-2);b.def(e,"$lstrip",ka=function(){return this.replace(/^\s*/,"")},ka.$$arity=0);b.def(e,"$ascii_only?",Ba=function(){return this.match(/[ -~\n]*/)[0]===this},Ba.$$arity=0);b.def(e,"$match",Y=function(a,b){var d,f=Y.$$p,e=f||n;f&&(Y.$$p=null);p(p(d=h(c,"String")["$==="](a))?d:a["$respond_to?"]("to_str"))&&(a=h(c,"Regexp").$new(a.$to_str()));p(h(c,
"Regexp")["$==="](a))||this.$raise(h(c,"TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return w(a,"match",[this,b],e.$to_proc())},Y.$$arity=-2);b.def(e,"$next",la=function(){var a=this.length;if(0===a)return"";for(var b=this,c=this.search(/[a-zA-Z0-9]/),d=!1,f;a--;){f=this.charCodeAt(a);if(48<=f&&57>=f||65<=f&&90>=f||97<=f&&122>=f)switch(f){case 57:d=!0;f=48;break;case 90:d=!0;f=65;break;case 122:d=!0;f=97;break;default:d=!1,f+=1}else-1===c?255===f?(d=!0,f=0):(d=!1,f+=1):d=!0;
b=b.slice(0,a)+String.fromCharCode(f)+b.slice(a+1);if(d&&(0===a||a===c)){switch(f){case 65:break;case 97:break;default:f+=1}b=0===a?String.fromCharCode(f)+b:b.slice(0,a)+String.fromCharCode(f)+b.slice(a);d=!1}if(!d)break}return b},la.$$arity=0);b.def(e,"$oct",na=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,d,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===d)return a}switch(d){case "0b":b=
2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+f});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},na.$$arity=0);b.def(e,"$ord",wa=function(){return this.charCodeAt(0)},wa.$$arity=0);b.def(e,"$partition",ta=function(a){var b;a.$$is_regexp?(b=a.exec(this),null===b?b=-1:(h(c,"MatchData").$new(a,b),a=b[0],b=b.index)):(a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str"),b=this.indexOf(a));return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),
this.slice(b+a.length)]},ta.$$arity=1);b.def(e,"$reverse",Ca=function(){return this.split("").reverse().join("")},Ca.$$arity=0);b.def(e,"$rindex",ya=function(b,d){var f,e,g;if(void 0===d)d=this.length;else if(d=h(c,"Opal").$coerce_to(d,h(c,"Integer"),"to_int"),0>d&&(d+=this.length,0>d))return n;if(b.$$is_regexp){f=null;for(e=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));;){g=e.exec(this);if(null===g||g.index>d)break;f=g;e.lastIndex=f.index+1}null===f?(a["~"]=n,f=-1):(h(c,"MatchData").$new(e,f),
f=f.index)}else b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str"),f=this.lastIndexOf(b,d);return-1===f?n:f},ya.$$arity=-2);b.def(e,"$rjust",Aa=function(a,b){null==b&&(b=" ");a=h(c,"Opal").$coerce_to(a,h(c,"Integer"),"to_int");b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str").$to_s();p(b["$empty?"]())&&this.$raise(h(c,"ArgumentError"),"zero width padding");if(p(a<=this.length))return this;var d=Math.floor(a-this.length),f=Array(Math.floor(d/b.length)+1).join(b);return f+b.slice(0,d-f.length)+this},
Aa.$$arity=-2);b.def(e,"$rpartition",xa=function(a){var b,d,f;if(a.$$is_regexp){b=null;for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){f=d.exec(this);if(null===f)break;b=f;d.lastIndex=b.index+1}null===b?b=-1:(h(c,"MatchData").$new(d,b),a=b[0],b=b.index)}else a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str"),b=this.lastIndexOf(a);return-1===b?["","",this]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},xa.$$arity=1);b.def(e,"$rstrip",Da=function(){return this.replace(/[\s\u0000]*$/,
"")},Da.$$arity=0);b.def(e,"$scan",Fa=function(b){var d=Fa.$$p,f=d||n;d&&(Fa.$$p=null);var d=[],e=n,g;b.$$is_regexp?b=new RegExp(b.source,"gm"+(b.ignoreCase?"i":"")):(b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str"),b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(g=b.exec(this));)e=h(c,"MatchData").$new(b,g),f===n?1==g.length?d.push(g[0]):d.push(e.$captures()):1==g.length?f(g[0]):f.call(this,e.$captures()),b.lastIndex===g.index&&(b.lastIndex+=1);a["~"]=e;return f!==n?this:
d},Fa.$$arity=1);b.alias(e,"size","length");b.alias(e,"slice","[]");b.def(e,"$split",La=function(b,d){var f;null==a[";"]&&(a[";"]=n);if(0===this.length)return[];if(void 0===d)d=0;else if(d=h(c,"Opal")["$coerce_to!"](d,h(c,"Integer"),"to_int"),1===d)return[this];if(void 0===b||b===n)b=p(f=a[";"])?f:" ";f=[];var e=this.toString(),g=0,k,l;b.$$is_regexp?b=new RegExp(b.source,"gm"+(b.ignoreCase?"i":"")):(b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str").$to_s()," "===b?(b=/\s+/gm,e=e.replace(/^\s+/,"")):
b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));f=e.split(b);if(1===f.length&&f[0]===e)return f;for(;-1!==(l=f.indexOf(void 0));)f.splice(l,1);if(0===d){for(;""===f[f.length-1];)--f.length;return f}k=b.exec(e);if(0>d){if(null!==k&&""===k[0]&&-1===b.source.indexOf("(?="))for(l=0,e=k.length;l<e;l++)f.push("");return f}if(null!==k&&""===k[0])return f.splice(d-1,f.length-1,f.slice(d-1).join("")),f;if(d>=f.length)return f;for(l=0;null!==k;){l++;g=b.lastIndex;if(l+1===d)break;k=b.exec(e)}f.splice(d-
1,f.length-1,e.slice(g));return f},La.$$arity=-1);b.def(e,"$squeeze",Ka=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];if(0===b.length)return this.replace(/(.)\1+/g,"$1");c=C(b);return null===c?this:this.replace(new RegExp("("+c+")\\1+","g"),"$1")},Ka.$$arity=-1);b.def(e,"$start_with?",Ha=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];d=0;for(f=b.length;d<f;d++){var e=h(c,"Opal").$coerce_to(b[d],
h(c,"String"),"to_str").$to_s();if(0===this.indexOf(e))return!0}return!1},Ha.$$arity=-1);b.def(e,"$strip",Ma=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},Ma.$$arity=0);b.def(e,"$sub",Ga=function(b,d){var f=this,e=Ga.$$p,g=e||n;e&&(Ga.$$p=null);b.$$is_regexp||(b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str"),b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var k=b.exec(f);if(null===k)return a["~"]=n,f.toString();h(c,"MatchData").$new(b,k);if(void 0===d)return g===n&&
f.$raise(h(c,"ArgumentError"),"wrong number of arguments (1 for 2)"),f.slice(0,k.index)+g(k[0])+f.slice(k.index+k[0].length);if(d.$$is_hash)return f.slice(0,k.index)+d["$[]"](k[0]).$to_s()+f.slice(k.index+k[0].length);d=h(c,"Opal").$coerce_to(d,h(c,"String"),"to_str");d=d.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=k.length-1;0<a;a--)if(void 0!==k[a])return b.slice(1)+k[a];return"";case "&":return b.slice(1)+k[0];case "`":return b.slice(1)+f.slice(0,
k.index);case "'":return b.slice(1)+f.slice(k.index+k[0].length);default:return b.slice(1)+(k[c]||"")}}).replace(/\\\\/g,"\\");return f.slice(0,k.index)+d+f.slice(k.index+k[0].length)},Ga.$$arity=-2);b.alias(e,"succ","next");b.def(e,"$sum",Ia=function(a){null==a&&(a=16);a=h(c,"Opal").$coerce_to(a,h(c,"Integer"),"to_int");for(var b=0,d=this.length,f=0;f<d;f++)b+=this.charCodeAt(f);return 0>=a?b:b&Math.pow(2,a)-1},Ia.$$arity=-1);b.def(e,"$swapcase",H=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,
function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},H.$$arity=0);b.def(e,"$to_f",ua=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},ua.$$arity=0);b.def(e,"$to_i",za=function(a){null==a&&(a=10);var b=this.toLowerCase(),d=h(c,"Opal").$coerce_to(a,h(c,"Integer"),"to_int");(1===d||0>d||36<d)&&this.$raise(h(c,"ArgumentError"),"invalid radix "+d);if(/^\s*_/.test(b))return 0;
b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,f){switch(f.charAt(0)){case "+":case "-":return a;case "0":if("x"===f.charAt(1)&&"0x"===c&&(0===d||16===d))return a}switch(c){case "0b":if(0===d||2===d)return d=2,b+f;break;case "0":case "0o":if(0===d||8===d)return d=8,b+f;break;case "0d":if(0===d||10===d)return d=10,b+f;break;case "0x":if(0===d||16===d)return d=16,b+f}return a});a=parseInt(b.replace(/_(?!_)/g,""),d);return isNaN(a)?0:a},za.$$arity=-1);b.def(e,"$to_proc",Na=function(){var a,
d=n,d=this.valueOf();return w(this,"proc",[],(a=function(f){var e=a.$$s||this,g,k;if(g=a.$$p||n)a.$$p=null;var l=arguments.length;k=l-0;0>k&&(k=0);k=Array(k);for(var m=0;m<l;m++)k[m-0]=arguments[m];0===k.length&&e.$raise(h(c,"ArgumentError"),"no receiver given");e=k.shift();null==e&&(e=n);return b.send(e,d,k,g)},a.$$s=this,a.$$arity=-1,a))},Na.$$arity=0);b.def(e,"$to_s",Ja=function(){return this.toString()},Ja.$$arity=0);b.alias(e,"to_str","to_s");b.alias(e,"to_sym","intern");b.def(e,"$tr",M=function(a,
b){a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str").$to_s();b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str").$to_s();if(0==a.length||a===b)return this;var d,f,e,g,k,l={};k=a.split("");var m=k.length,t=b.split(""),M=t.length,u=!1,ca=null;"^"===k[0]&&1<k.length&&(u=!0,k.shift(),ca=t[M-1],--m);var q=[];e=null;f=!1;for(d=0;d<m;d++)if(g=k[d],null==e)e=g,q.push(g);else if("-"===g)"-"===e?(q.push("-"),q.push("-")):d==m-1?q.push("-"):f=!0;else if(f){e=e.charCodeAt(0);f=g.charCodeAt(0);e>f&&this.$raise(h(c,
"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(f)+'" in string transliteration');for(e+=1;e<f;e++)q.push(String.fromCharCode(e));q.push(g);e=f=null}else q.push(g);k=q;m=k.length;if(u)for(d=0;d<m;d++)l[k[d]]=!0;else{if(0<M){q=[];e=null;f=!1;for(d=0;d<M;d++)if(g=t[d],null==e)e=g,q.push(g);else if("-"===g)"-"===e?(q.push("-"),q.push("-")):d==M-1?q.push("-"):f=!0;else if(f){e=e.charCodeAt(0);f=g.charCodeAt(0);e>f&&this.$raise(h(c,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+
"-"+String.fromCharCode(f)+'" in string transliteration');for(e+=1;e<f;e++)q.push(String.fromCharCode(e));q.push(g);e=f=null}else q.push(g);t=q;M=t.length}g=m-M;if(0<g)for(M=0<M?t[M-1]:"",d=0;d<g;d++)t.push(M);for(d=0;d<m;d++)l[k[d]]=t[d]}m="";d=0;for(k=this.length;d<k;d++)g=this.charAt(d),t=l[g],m=u?m+(null==t?ca:g):m+(null!=t?t:g);return m},M.$$arity=2);b.def(e,"$tr_s",ca=function(a,b){a=h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str").$to_s();b=h(c,"Opal").$coerce_to(b,h(c,"String"),"to_str").$to_s();
if(0==a.length)return this;var d,f,e,g,k,l={};k=a.split("");var m=k.length,t=b.split(""),M=t.length,u=!1,ca=null;"^"===k[0]&&1<k.length&&(u=!0,k.shift(),ca=t[M-1],--m);var q=[];e=null;f=!1;for(d=0;d<m;d++)if(g=k[d],null==e)e=g,q.push(g);else if("-"===g)"-"===e?(q.push("-"),q.push("-")):d==m-1?q.push("-"):f=!0;else if(f){e=e.charCodeAt(0);f=g.charCodeAt(0);e>f&&this.$raise(h(c,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(f)+'" in string transliteration');for(e+=
1;e<f;e++)q.push(String.fromCharCode(e));q.push(g);e=f=null}else q.push(g);k=q;m=k.length;if(u)for(d=0;d<m;d++)l[k[d]]=!0;else{if(0<M){q=[];f=!1;for(d=0;d<M;d++)if(g=t[d],null==e)e=g,q.push(g);else if("-"===g)d==M-1?q.push("-"):f=!0;else if(f){e=e.charCodeAt(0);f=g.charCodeAt(0);e>f&&this.$raise(h(c,"ArgumentError"),'invalid range "'+String.fromCharCode(e)+"-"+String.fromCharCode(f)+'" in string transliteration');for(e+=1;e<f;e++)q.push(String.fromCharCode(e));q.push(g);e=f=null}else q.push(g);t=
q;M=t.length}g=m-M;if(0<g)for(M=0<M?t[M-1]:"",d=0;d<g;d++)t.push(M);for(d=0;d<m;d++)l[k[d]]=t[d]}m="";t=null;d=0;for(k=this.length;d<k;d++)if(g=this.charAt(d),M=l[g],u)null==M?null==t&&(m+=ca,t=!0):(m+=g,t=null);else if(null!=M){if(null==t||t!==M)m+=M,t=M}else m+=g,t=null;return m},ca.$$arity=2);b.def(e,"$upcase",Oa=function(){return this.toUpperCase()},Oa.$$arity=0);b.def(e,"$upto",ra=function(a,b){var d=ra.$$p,f=d||n;null==b&&(b=!1);d&&(ra.$$p=null);if(f===n)return this.$enum_for("upto",a,b);a=
h(c,"Opal").$coerce_to(a,h(c,"String"),"to_str");var e,d=this.toString();if(1===d.length&&1===a.length)for(d=d.charCodeAt(0),e=a.charCodeAt(0);d<=e&&(!b||d!==e);)f(String.fromCharCode(d)),d+=1;else if(parseInt(d,10).toString()===d&&parseInt(a,10).toString()===a)for(d=parseInt(d,10),e=parseInt(a,10);d<=e&&(!b||d!==e);)f(d.toString()),d+=1;else for(;d.length<=a.length&&d<=a&&(!b||d!==a);)f(d),d=d.$succ();return this},ra.$$arity=-2);b.def(e,"$instance_variables",Qa=function(){return[]},Qa.$$arity=0);
b.defs(e,"$_load",Sa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];return w(this,"new",b.to_a(c))},Sa.$$arity=-1);b.def(e,"$unpack",Ra=function(a){return this.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")},Ra.$$arity=1);return(b.def(e,"$unpack1",I=function(a){return this.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")},I.$$arity=1),n)&&"unpack1"})(x[0],String,x);return b.const_set(x[0],
"Symbol",h(x,"String"))},Opal.modules["corelib/enumerable"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var n=[],h=b.nil,A=b.const_get_qualified,p=b.const_get_relative,w=b.module,a=b.truthy,f=b.send,E=b.falsy,t=b.hash2,
m=b.lambda;b.add_stubs("$each $public_send $destructure $to_enum $enumerator_size $new $yield $raise $slice_when $! $enum_for $flatten $map $warn $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $ceil $/ $size $__send__ $length $<= $[] $push $<< $[]= $=== $inspect $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $sort! $map! $key? $values $zip".split(" "));return function(C,e){function c(a){0===a.length&&(a=[h]);1<a.length&&(a=[a]);return a}var l=w(C,"Enumerable"),
d=[l].concat(e),y,v,g,k,q,n,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya;b.def(l,"$all?",y=function(e){try{var g,k,l,m=y.$$p,t=m||h;m&&(y.$$p=null);a(void 0!==e)?f(this,"each",[],(g=function(d){var g,k=h,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var l=0;l<k;l++)g[l-0]=arguments[l];k=c(g);if(a(f(e,"public_send",["==="].concat(b.to_a(k)))))return h;b.ret(!1)},g.$$s=this,g.$$arity=-1,g)):t!==h?f(this,"each",[],(k=function(c){var d,
f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];if(a(b.yieldX(t,b.to_a(d))))return h;b.ret(!1)},k.$$s=this,k.$$arity=-1,k)):f(this,"each",[],(l=function(c){var f,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];if(a(p(d,"Opal").$destructure(f)))return h;b.ret(!1)},l.$$s=this,l.$$arity=-1,l));return!0}catch(q){if(q===b.returner)return q.$v;throw q;}},y.$$arity=-1);b.def(l,"$any?",v=function(e){try{var g,k,l,m=v.$$p,t=m||h;
m&&(v.$$p=null);a(void 0!==e)?f(this,"each",[],(g=function(d){var g,k=h,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var l=0;l<k;l++)g[l-0]=arguments[l];k=c(g);if(a(f(e,"public_send",["==="].concat(b.to_a(k)))))b.ret(!0);else return h},g.$$s=this,g.$$arity=-1,g)):t!==h?f(this,"each",[],(k=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];if(a(b.yieldX(t,b.to_a(d))))b.ret(!0);else return h},k.$$s=this,k.$$arity=-1,k)):f(this,"each",[],(l=
function(c){var f,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];if(a(p(d,"Opal").$destructure(f)))b.ret(!0);else return h},l.$$s=this,l.$$arity=-1,l));return!1}catch(q){if(q===b.returner)return q.$v;throw q;}},v.$$arity=-1);b.def(l,"$chunk",g=function(){var a,c,d=g.$$p,e=d||h;d&&(g.$$p=null);return e===h?f(this,"to_enum",["chunk"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a)):f(A("::","Enumerator"),"new",[],(c=function(a){function d(){0<
k.length&&a.$yield(g,k)}var f=c.$$s||this;null==a&&(a=h);var g=h,k=[];f.$each.$$p=function(a){var c=b.yield1(e,a);c===h?(d(),k=[],g=h):(g===h||g===c?k.push(a):(d(),k=[a]),g=c)};f.$each();d()},c.$$s=this,c.$$arity=1,c))},g.$$arity=0);b.def(l,"$chunk_while",k=function(){var a,c=k.$$p,e=c||h;c&&(k.$$p=null);e===h&&this.$raise(p(d,"ArgumentError"),"no block given");return f(this,"slice_when",[],(a=function(a,c){null==a&&(a=h);null==c&&(c=h);return b.yieldX(e,[a,c])["$!"]()},a.$$s=this,a.$$arity=2,a))},
k.$$arity=0);b.def(l,"$collect",q=function(){var a,c=q.$$p,d=c||h;c&&(q.$$p=null);if(d===h)return f(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){var a=b.yieldX(d,arguments);e.push(a)};this.$each();return e},q.$$arity=0);b.def(l,"$collect_concat",n=function(){var a,c,d=n.$$p,e=d||h;d&&(n.$$p=null);return e===h?f(this,"enum_for",["collect_concat"],(a=function(){return(a.$$s||this).$enumerator_size()},
a.$$s=this,a.$$arity=0,a)):f(this,"map",[],(c=function(a){null==a&&(a=h);return b.yield1(e,a)},c.$$s=this,c.$$arity=1,c)).$flatten(1)},n.$$arity=0);b.def(l,"$count",u=function(c){var e,g,k,l=u.$$p,m=l||h,t=h;l&&(u.$$p=null);t=0;null!=c&&m!==h&&this.$warn("warning: given block not used");a(null!=c)?m=f(this,"proc",[],(e=function(a){var b,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var e=0;e<f;e++)b[e-0]=arguments[e];return p(d,"Opal").$destructure(b)["$=="](c)},e.$$s=this,e.$$arity=-1,e)):a(m["$nil?"]())&&
(m=f(this,"proc",[],(g=function(){return!0},g.$$s=this,g.$$arity=0,g)));f(this,"each",[],(k=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];return a(b.yieldX(m,d))?t++:h},k.$$s=this,k.$$arity=-1,k));return t},u.$$arity=-1);b.def(l,"$cycle",Ea=function(c){var e,g=Ea.$$p,k=g||h;null==c&&(c=h);g&&(Ea.$$p=null);if(k===h)return f(this,"enum_for",["cycle",c],(e=function(){var b=e.$$s||this;if(a(c["$nil?"]()))return a(b["$respond_to?"]("size"))?A(p(d,
"Float"),"INFINITY"):h;c=p(d,"Opal")["$coerce_to!"](c,p(d,"Integer"),"to_int");return a(B(c,0))?(b=b.$enumerator_size(),"number"===typeof b&&"number"===typeof c?b*c:b["$*"](c)):0},e.$$s=this,e.$$arity=0,e));if(!a(c["$nil?"]())&&(c=p(d,"Opal")["$coerce_to!"](c,p(d,"Integer"),"to_int"),a(0>=c)))return h;var l=[],m;this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);b.yield1(k,a);l.push(a)};this.$each();if(0===l.length)return h;if(c===h)for(;;)for(g=0,m=l.length;g<m;g++)b.yield1(k,l[g]);
else for(;1<c;){g=0;for(m=l.length;g<m;g++)b.yield1(k,l[g]);c--}},Ea.$$arity=-1);b.def(l,"$detect",D=function(c){try{var e,g=D.$$p,k=g||h;g&&(D.$$p=null);if(k===h)return this.$enum_for("detect",c);f(this,"each",[],(e=function(c){var f,e=h,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];e=p(d,"Opal").$destructure(f);if(a(b.yield1(k,e)))b.ret(e);else return h},e.$$s=this,e.$$arity=-1,e));return void 0!==c?"function"===typeof c?c():c:h}catch(l){if(l===b.returner)return l.$v;
throw l;}},D.$$arity=-1);b.def(l,"$drop",aa=function(b){b=p(d,"Opal").$coerce_to(b,p(d,"Integer"),"to_int");a(0>b)&&this.$raise(p(d,"ArgumentError"),"attempt to drop negative size");var c=[],f=0;this.$each.$$p=function(){b<=f&&c.push(p(d,"Opal").$destructure(arguments));f++};this.$each();return c},aa.$$arity=1);b.def(l,"$drop_while",da=function(){var a=da.$$p,c=a||h;a&&(da.$$p=null);if(c===h)return this.$enum_for("drop_while");var f=[],e=!0;this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);
if(e){var g=b.yield1(c,a);E(g)&&(e=!1,f.push(a))}else f.push(a)};this.$each();return f},da.$$arity=0);b.def(l,"$each_cons",J=function(c){var e,g=J.$$p,k=g||h;g&&(J.$$p=null);a(1!=arguments.length)&&this.$raise(p(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");c=p(d,"Opal").$try_convert(c,p(d,"Integer"),"to_int");a(0>=c)&&this.$raise(p(d,"ArgumentError"),"invalid size");if(k===h)return f(this,"enum_for",["each_cons",c],(e=function(){var b,d=h,d=(e.$$s||this).$enumerator_size();
return a(d["$nil?"]())?h:a(a(b=d["$=="](0))?b:"number"===typeof d&&"number"===typeof c?d<c:d["$<"](c))?0:F(r(d,c),1)},e.$$s=this,e.$$arity=0,e));var l=[];this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);l.push(a);l.length>c&&l.shift();l.length==c&&b.yield1(k,l.slice(0,c))};this.$each();return h},J.$$arity=1);b.def(l,"$each_entry",ja=function(a){var c,e,g=ja.$$p,k=g||h,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var m=0;m<l;m++)e[m-0]=arguments[m];g&&(ja.$$p=null);if(k===
h)return f(this,"to_enum",["each_entry"].concat(b.to_a(e)),(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);b.yield1(k,a)};this.$each.apply(this,e);return this},ja.$$arity=-1);b.def(l,"$each_slice",va=function(c){var e,g=va.$$p,k=g||h;g&&(va.$$p=null);c=p(d,"Opal").$coerce_to(c,p(d,"Integer"),"to_int");a(0>=c)&&this.$raise(p(d,"ArgumentError"),"invalid slice size");if(k===h)return f(this,"enum_for",
["each_slice",c],(e=function(){var b=e.$$s||this;return a(b["$respond_to?"]("size"))?(b=b.$size(),("number"===typeof b&&"number"===typeof c?b/c:b["$/"](c)).$ceil()):h},e.$$s=this,e.$$arity=0,e));var l=[];this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);l.push(a);l.length===c&&(b.yield1(k,l),l=[])};this.$each();0<l.length&&b.yield1(k,l);return h},va.$$arity=1);b.def(l,"$each_with_index",z=function(a){var c,e,g=z.$$p,k=g||h,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var m=
0;m<l;m++)e[m-0]=arguments[m];g&&(z.$$p=null);if(k===h)return f(this,"enum_for",["each_with_index"].concat(b.to_a(e)),(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var t=0;this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);k(a,t);t++};this.$each.apply(this,e);return this},z.$$arity=-1);b.def(l,"$each_with_object",T=function(a){var b,c=T.$$p,e=c||h;c&&(T.$$p=null);if(e===h)return f(this,"enum_for",["each_with_object",a],(b=function(){return(b.$$s||
this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));this.$each.$$p=function(){var b=p(d,"Opal").$destructure(arguments);e(b,a)};this.$each();return a},T.$$arity=1);b.def(l,"$entries",oa=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];var e=[];this.$each.$$p=function(){e.push(p(d,"Opal").$destructure(arguments))};this.$each.apply(this,b);return e},oa.$$arity=-1);b.alias(l,"find","detect");b.def(l,"$find_all",ba=function(){var c,e=ba.$$p,g=e||
h;e&&(ba.$$p=null);if(g===h)return f(this,"enum_for",["find_all"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var k=[];this.$each.$$p=function(){var c=p(d,"Opal").$destructure(arguments),f=b.yield1(g,c);a(f)&&k.push(c)};this.$each();return k},ba.$$arity=0);b.def(l,"$find_index",G=function(c){try{var e,g,k=G.$$p,l=k||h,m=h;k&&(G.$$p=null);if(a(void 0===c&&l===h))return this.$enum_for("find_index");null!=c&&l!==h&&this.$warn("warning: given block not used");m=0;
a(null!=c)?f(this,"each",[],(e=function(a){var f,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];p(d,"Opal").$destructure(f)["$=="](c)&&b.ret(m);return m+=1},e.$$s=this,e.$$arity=-1,e)):f(this,"each",[],(g=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];a(b.yieldX(l,b.to_a(d)))&&b.ret(m);return m+=1},g.$$s=this,g.$$arity=-1,g));return h}catch(t){if(t===b.returner)return t.$v;throw t;}},G.$$arity=-1);b.def(l,
"$first",Q=function(c){try{var e,g,k=h,l=h;if(a(void 0===c))return f(this,"each",[],(e=function(a){null==a&&(a=h);b.ret(a)},e.$$s=this,e.$$arity=1,e));k=[];c=p(d,"Opal").$coerce_to(c,p(d,"Integer"),"to_int");a(0>c)&&this.$raise(p(d,"ArgumentError"),"attempt to take negative size");if(a(0==c))return[];l=0;f(this,"each",[],(g=function(f){var e,g=arguments.length;e=g-0;0>e&&(e=0);e=Array(e);for(var m=0;m<g;m++)e[m-0]=arguments[m];k.push(p(d,"Opal").$destructure(e));if(a(c<=++l))b.ret(k);else return h},
g.$$s=this,g.$$arity=-1,g));return k}catch(m){if(m===b.returner)return m.$v;throw m;}},Q.$$arity=-1);b.alias(l,"flat_map","collect_concat");b.def(l,"$grep",R=function(d){var e,g=R.$$p,k=g||h,l=h;g&&(R.$$p=null);l=[];f(this,"each",[],(e=function(e){var g,m=h,m=arguments.length;g=m-0;0>g&&(g=0);g=Array(g);for(var t=0;t<m;t++)g[t-0]=arguments[t];m=c(g);if(!a(f(d,"__send__",["==="].concat(b.to_a(m)))))return h;k!==h?(a(B(g.$length(),1))&&(g=[g]),g=b.yieldX(k,b.to_a(g))):a(x(g.$length(),1))&&(g=g["$[]"](0));
return l.$push(g)},e.$$s=this,e.$$arity=-1,e));return l},R.$$arity=1);b.def(l,"$grep_v",L=function(d){var e,g=L.$$p,k=g||h,l=h;g&&(L.$$p=null);l=[];f(this,"each",[],(e=function(e){var g,m=h,m=arguments.length;g=m-0;0>g&&(g=0);g=Array(g);for(var t=0;t<m;t++)g[t-0]=arguments[t];m=c(g);if(a(f(d,"__send__",["==="].concat(b.to_a(m)))))return h;k!==h?(a(B(g.$length(),1))&&(g=[g]),g=b.yieldX(k,b.to_a(g))):a(x(g.$length(),1))&&(g=g["$[]"](0));return l.$push(g)},e.$$s=this,e.$$arity=-1,e));return l},L.$$arity=
1);b.def(l,"$group_by",S=function(){var c,e,g=S.$$p,k=g||h,l=h,m=h;g&&(S.$$p=null);if(k===h)return f(this,"enum_for",["group_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));l=t([],{});this.$each.$$p=function(){var c=p(d,"Opal").$destructure(arguments),g=b.yield1(k,c);(a(e=l["$[]"](g))?e:(m=[g,[]],f(l,"[]=",b.to_a(m)),m[r(m.length,1)]))["$<<"](c)};this.$each();return l},S.$$arity=0);b.def(l,"$include?",W=function(a){try{var c;f(this,"each",[],(c=function(c){var f,
e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];if(p(d,"Opal").$destructure(f)["$=="](a))b.ret(!0);else return h},c.$$s=this,c.$$arity=-1,c));return!1}catch(e){if(e===b.returner)return e.$v;throw e;}},W.$$arity=1);b.def(l,"$inject",O=function(a,c){var f=O.$$p,e=f||h;f&&(O.$$p=null);var g=a;e!==h&&void 0===c?this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);void 0!==g&&(a=b.yieldX(e,[g,a]));g=a}:(void 0===c&&(p(d,"Symbol")["$==="](a)||this.$raise(p(d,
"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,g=void 0),this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(c,a)});this.$each();return void 0==g?h:g},O.$$arity=-1);b.def(l,"$lazy",X=function(){var a;return f(A(p(d,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var g=1;g<e;g++)d[g-1]=arguments[g];null==a&&(a=h);return f(a,"yield",b.to_a(d))},a.$$s=this,a.$$arity=-2,
a))},X.$$arity=0);b.def(l,"$enumerator_size",N=function(){return a(this["$respond_to?"]("size"))?this.$size():h},N.$$arity=0);b.alias(l,"map","collect");b.def(l,"$max",ea=function(a){var c=this,e=ea.$$p,g=e||h;e&&(ea.$$p=null);if(void 0===a||a===h){var k,l;c.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);void 0===k?k=a:(l=g!==h?b.yieldX(g,[a,k]):a["$<=>"](k),l===h&&c.$raise(p(d,"ArgumentError"),"comparison failed"),0<l&&(k=a))};c.$each();return void 0===k?h:k}a=p(d,"Opal").$coerce_to(a,
p(d,"Integer"),"to_int");return f(c,"sort",[],g.$to_proc()).$reverse().$first(a)},ea.$$arity=-1);b.def(l,"$max_by",pa=function(){var c,e=pa.$$p,g=e||h;e&&(pa.$$p=null);if(!a(g))return f(this,"enum_for",["max_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var k,l;this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments),c=b.yield1(g,a);void 0===k?(k=a,l=c):0<c["$<=>"](l)&&(k=a,l=c)};this.$each();return void 0===k?h:k},pa.$$arity=0);b.alias(l,"member?",
"include?");b.def(l,"$min",ga=function(){var a=this,b=ga.$$p,c=b||h;b&&(ga.$$p=null);var f;a.$each.$$p=c!==h?function(){var b=p(d,"Opal").$destructure(arguments);if(void 0===f)f=b;else{var e=c(b,f);e===h&&a.$raise(p(d,"ArgumentError"),"comparison failed");0>e&&(f=b)}}:function(){var a=p(d,"Opal").$destructure(arguments);void 0===f?f=a:0>p(d,"Opal").$compare(a,f)&&(f=a)};a.$each();return void 0===f?h:f},ga.$$arity=0);b.def(l,"$min_by",P=function(){var c,e=P.$$p,g=e||h;e&&(P.$$p=null);if(!a(g))return f(this,
"enum_for",["min_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var k,l;this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments),c=b.yield1(g,a);void 0===k?(k=a,l=c):0>c["$<=>"](l)&&(k=a,l=c)};this.$each();return void 0===k?h:k},P.$$arity=0);b.def(l,"$minmax",U=function(){var b,c,e=this,g=U.$$p,k=g||h;g&&(U.$$p=null);var k=a(b=k)?b:f(e,"proc",[],(c=function(a,b){null==a&&(a=h);null==b&&(b=h);return a["$<=>"](b)},c.$$s=e,c.$$arity=2,c)),l=h,m=h,t=!0;
e.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments);if(t)l=m=a,t=!1;else{var b=k.$call(l,a);b===h?e.$raise(p(d,"ArgumentError"),"comparison failed"):0<b&&(l=a);b=k.$call(m,a);b===h?e.$raise(p(d,"ArgumentError"),"comparison failed"):0>b&&(m=a)}};e.$each();return[l,m]},U.$$arity=0);b.def(l,"$minmax_by",ia=function(){ia.$$p&&(ia.$$p=null);return this.$raise(p(d,"NotImplementedError"))},ia.$$arity=0);b.def(l,"$none?",V=function(e){try{var g,k,l,m=V.$$p,t=m||h;m&&(V.$$p=null);a(void 0!==e)?
f(this,"each",[],(g=function(d){var g,k=h,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var l=0;l<k;l++)g[l-0]=arguments[l];k=c(g);if(a(f(e,"public_send",["==="].concat(b.to_a(k)))))b.ret(!1);else return h},g.$$s=this,g.$$arity=-1,g)):t!==h?f(this,"each",[],(k=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];if(a(b.yieldX(t,b.to_a(d))))b.ret(!1);else return h},k.$$s=this,k.$$arity=-1,k)):f(this,"each",[],(l=function(c){var f,e=h,e=arguments.length;
f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];e=p(d,"Opal").$destructure(f);if(a(e))b.ret(!1);else return h},l.$$s=this,l.$$arity=-1,l));return!0}catch(q){if(q===b.returner)return q.$v;throw q;}},V.$$arity=-1);b.def(l,"$one?",ha=function(e){try{var g,k,l,m=ha.$$p,t=m||h,q=h;m&&(ha.$$p=null);q=0;a(void 0!==e)?f(this,"each",[],(g=function(d){var g,k=h,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var l=0;l<k;l++)g[l-0]=arguments[l];k=c(g);if(a(f(e,"public_send",["==="].concat(b.to_a(k)))))if(q=
F(q,1),a(B(q,1)))b.ret(!1);else return h;else return h},g.$$s=this,g.$$arity=-1,g)):t!==h?f(this,"each",[],(k=function(c){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];if(!a(b.yieldX(t,b.to_a(d))))return h;q=F(q,1);if(a(B(q,1)))b.ret(!1);else return h},k.$$s=this,k.$$arity=-1,k)):f(this,"each",[],(l=function(c){var f,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];if(!a(p(d,"Opal").$destructure(f)))return h;q=F(q,
1);if(a(B(q,1)))b.ret(!1);else return h},l.$$s=this,l.$$arity=-1,l));return q["$=="](1)}catch(u){if(u===b.returner)return u.$v;throw u;}},ha.$$arity=-1);b.def(l,"$partition",Z=function(){var c,e=Z.$$p,g=e||h;e&&(Z.$$p=null);if(g===h)return f(this,"enum_for",["partition"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var k=[],l=[];this.$each.$$p=function(){var c=p(d,"Opal").$destructure(arguments),f=b.yield1(g,c);a(f)?k.push(c):l.push(c)};this.$each();return[k,l]},
Z.$$arity=0);b.alias(l,"reduce","inject");b.def(l,"$reject",qa=function(){var a,c=qa.$$p,e=c||h;c&&(qa.$$p=null);if(e===h)return f(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var g=[];this.$each.$$p=function(){var a=p(d,"Opal").$destructure(arguments),c=b.yield1(e,a);E(c)&&g.push(a)};this.$each();return g},qa.$$arity=0);b.def(l,"$reverse_each",ma=function(){var a,c=ma.$$p,d=c||h;c&&(ma.$$p=null);if(d===h)return f(this,"enum_for",["reverse_each"],
(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){e.push(arguments)};this.$each();for(c=e.length-1;0<=c;c--)b.yieldX(d,e[c]);return e},ma.$$arity=0);b.alias(l,"select","find_all");b.def(l,"$slice_before",fa=function(c){var e,g=fa.$$p,k=g||h;g&&(fa.$$p=null);a(void 0===c&&k===h)&&this.$raise(p(d,"ArgumentError"),"both pattern and block are given");a(void 0!==c&&k!==h||1<arguments.length)&&this.$raise(p(d,"ArgumentError"),"wrong number of arguments ("+
arguments.length+" expected 1)");return f(p(d,"Enumerator"),"new",[],(e=function(f){var g=e.$$s||this;null==f&&(f=h);var l=[];g.$each.$$p=k!==h?void 0===c?function(){var c=p(d,"Opal").$destructure(arguments),e=b.yield1(k,c);a(e)&&0<l.length&&(f["$<<"](l),l=[]);l.push(c)}:function(){var b=p(d,"Opal").$destructure(arguments),e=k(b,c.$dup());a(e)&&0<l.length&&(f["$<<"](l),l=[]);l.push(b)}:function(){var b=p(d,"Opal").$destructure(arguments),e=c["$==="](b);a(e)&&0<l.length&&(f["$<<"](l),l=[]);l.push(b)};
g.$each();if(0<l.length)f["$<<"](l)},e.$$s=this,e.$$arity=1,e))},fa.$$arity=-1);b.def(l,"$slice_after",ka=function(c){var e,g,k=ka.$$p,l=k||h;k&&(ka.$$p=null);a(void 0===c&&l===h)&&this.$raise(p(d,"ArgumentError"),"both pattern and block are given");a(void 0!==c&&l!==h||1<arguments.length)&&this.$raise(p(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");a(void 0!==c)&&(l=f(this,"proc",[],(e=function(a){null==a&&(a=h);return c["$==="](a)},e.$$s=this,e.$$arity=1,e)));
return f(p(d,"Enumerator"),"new",[],(g=function(c){var f=g.$$s||this;null==c&&(c=h);var e;f.$each.$$p=function(){var f=p(d,"Opal").$destructure(arguments),g=b.yield1(l,f);null==e&&(e=[]);a(g)?(e.push(f),c.$yield(e),e=null):e.push(f)};f.$each();null!=e&&c.$yield(e)},g.$$s=this,g.$$arity=1,g))},ka.$$arity=-1);b.def(l,"$slice_when",Ba=function(){var c,e=Ba.$$p,g=e||h;e&&(Ba.$$p=null);g===h&&this.$raise(p(d,"ArgumentError"),"wrong number of arguments (0 for 1)");return f(p(d,"Enumerator"),"new",[],(c=
function(f){var e=c.$$s||this;null==f&&(f=h);var k=h,l=h;e.$each_cons.$$p=function(){var c=p(d,"Opal").$destructure(arguments),e=c[0],c=c[1],m=b.yieldX(g,[e,c]);l=c;k===h&&(k=[]);a(m)?(k.push(e),f.$yield(k),k=[]):k.push(e)};e.$each_cons(2);k!==h&&(k.push(l),f.$yield(k))},c.$$s=this,c.$$arity=1,c))},Ba.$$arity=0);b.def(l,"$sort",Y=function(){var a,b=Y.$$p,c=b||h,d=h;b&&(Y.$$p=null);d=this.$to_a();c===h&&(c=m((a=function(a,b){null==a&&(a=h);null==b&&(b=h);return a["$<=>"](b)},a.$$s=this,a.$$arity=2,
a)));return f(d,"sort",[],c.$to_proc())},Y.$$arity=0);b.def(l,"$sort_by",la=function(){var a,c,e,g,k=la.$$p,l=k||h,m=h;k&&(la.$$p=null);if(l===h)return f(this,"enum_for",["sort_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));m=f(this,"map",[],(c=function(){var a=h,a=p(d,"Opal").$destructure(arguments);return[b.yield1(l,a),a]},c.$$s=this,c.$$arity=0,c));f(m,"sort!",[],(e=function(a,b){null==a&&(a=h);null==b&&(b=h);return a[0]["$<=>"](b[0])},e.$$s=this,e.$$arity=
2,e));return f(m,"map!",[],(g=function(a){null==a&&(a=h);return a[1]},g.$$s=this,g.$$arity=1,g))},la.$$arity=0);b.def(l,"$sum",na=function(a){var c,e=na.$$p,g=e||h,k=h;null==a&&(a=0);e&&(na.$$p=null);k=a;f(this,"each",[],(c=function(a){var c,f=h,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];f=g!==h?b.yieldX(g,b.to_a(c)):p(d,"Opal").$destructure(c);return k=F(k,f)},c.$$s=this,c.$$arity=-1,c));return k},na.$$arity=-1);b.def(l,"$take",wa=function(a){return this.$first(a)},
wa.$$arity=1);b.def(l,"$take_while",ta=function(){try{var c,e=ta.$$p,g=e||h,k=h;e&&(ta.$$p=null);if(!a(g))return this.$enum_for("take_while");k=[];return f(this,"each",[],(c=function(c){var f,e=h,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var l=0;l<e;l++)f[l-0]=arguments[l];e=p(d,"Opal").$destructure(f);a(b.yield1(g,e))||b.ret(k);return k.push(e)},c.$$s=this,c.$$arity=-1,c))}catch(l){if(l===b.returner)return l.$v;throw l;}},ta.$$arity=0);b.def(l,"$uniq",Ca=function(){var c,e=Ca.$$p,g=e||h,
k=h;e&&(Ca.$$p=null);k=t([],{});f(this,"each",[],(c=function(c){var e,l=h,l=e=h,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var m=0;m<l;m++)e[m-0]=arguments[m];l=p(d,"Opal").$destructure(e);e=g!==h?b.yield1(g,l):l;if(a(k["$key?"](e)))return h;l=[e,l];f(k,"[]=",b.to_a(l));return l[r(l.length,1)]},c.$$s=this,c.$$arity=-1,c));return k.$values()},Ca.$$arity=0);b.alias(l,"to_a","entries");b.def(l,"$zip",ya=function(a){var c,d=ya.$$p,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var g=0;g<e;g++)c[g-
0]=arguments[g];d&&(ya.$$p=null);return f(this.$to_a(),"zip",b.to_a(c))},ya.$$arity=-1)}(n[0],n)},Opal.modules["corelib/enumerator"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var r=b.top,x=[],n=b.nil,h=b.const_get_relative,A=b.breaker,p=b.slice,w=b.klass,a=b.truthy,f=b.send,E=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $any? $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
r.$require("corelib/enumerable");return function(t,$super,C){function e(){}t=e=w(t,$super,"Enumerator",e);var c=t.$$proto,l=[t].concat(C),d,y,v,g,k,q;c.size=c.args=c.object=c.method=n;t.$include(h(l,"Enumerable"));c.$$is_enumerator=!0;b.defs(t,"$for",d=function(a,b,c){var f,e=d.$$p,g=e||n;null==b&&(b="each");var k=arguments.length;f=k-2;0>f&&(f=0);f=Array(f);for(var l=2;l<k;l++)f[l-2]=arguments[l];e&&(d.$$p=null);e=this.$allocate();e.object=a;e.size=g;e.method=b;e.args=f;return e},d.$$arity=-2);b.def(t,
"$initialize",y=function(b){var c=y.$$p,d=c||n;c&&(y.$$p=null);if(a(d))return this.object=f(h(l,"Generator"),"new",[],d.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||n,a(this.size)?this.size=h(l,"Opal").$coerce_to(this.size,h(l,"Integer"),"to_int"):n;this.object=arguments[0];this.method=arguments[1]||"each";this.args=p.call(arguments,2);return this.size=n},y.$$arity=-1);b.def(t,"$each",v=function(c){var d,e,g=v.$$p,k=g||n,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var h=
0;h<l;h++)e[h-0]=arguments[h];g&&(v.$$p=null);if(a(a(d=k["$nil?"]())?e["$empty?"]():d))return this;e=B(this.args,e);return a(k["$nil?"]())?f(this.$class(),"new",[this.object,this.method].concat(b.to_a(e))):f(this.object,"__send__",[this.method].concat(b.to_a(e)),k.$to_proc())},v.$$arity=-1);b.def(t,"$size",g=function(){return a(h(l,"Proc")["$==="](this.size))?f(this.size,"call",b.to_a(this.args)):this.size},g.$$arity=0);b.def(t,"$with_index",k=function(b){var c,d=k.$$p,e=d||n;null==b&&(b=0);d&&(k.$$p=
null);b=a(b)?h(l,"Opal").$coerce_to(b,h(l,"Integer"),"to_int"):0;if(!a(e))return f(this,"enum_for",["with_index",b],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));var g=b;this.$each.$$p=function(){var a=h(l,"Opal").$destructure(arguments),a=e(a,g);g++;return a};return this.$each()},k.$$arity=-1);b.alias(t,"with_object","each_with_object");b.def(t,"$inspect",q=function(){var b=n,b="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;a(this.args["$any?"]())&&(b=B(b,
"("+this.args.$inspect()["$[]"](h(l,"Range").$new(1,-2))+")"));return B(b,">")},q.$$arity=0);(function(c,$super,d){function e(){}c=e=w(c,$super,"Generator",e);var g=c.$$proto,k=[c].concat(d),l,t;g.block=n;c.$include(h(k,"Enumerable"));b.def(c,"$initialize",l=function(){var b=l.$$p,c=b||n;b&&(l.$$p=null);a(c)||this.$raise(h(k,"LocalJumpError"),"no block given");return this.block=c},l.$$arity=0);return(b.def(c,"$each",t=function(a){var c,d=t.$$p,e=d||n,g=n,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);
for(var l=0;l<g;l++)c[l-0]=arguments[l];d&&(t.$$p=null);g=f(h(k,"Yielder"),"new",[],e.$to_proc());try{c.unshift(g),b.yieldX(this.block,c)}catch(q){if(q===A)return A.$v;throw q;}return this},t.$$arity=-1),n)&&"each"})(l[0],null,l);(function(a,$super,c){function d(){}a=d=w(a,$super,"Yielder",d);var e=a.$$proto;[a].concat(c);var g,k,l;e.block=n;b.def(a,"$initialize",g=function(){var a=g.$$p,b=a||n;a&&(g.$$p=null);return this.block=b},g.$$arity=0);b.def(a,"$yield",k=function(a){var c,d=arguments.length;
c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];d=b.yieldX(this.block,c);if(d===A)throw A;return d},k.$$arity=-1);return(b.def(a,"$<<",l=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];f(this,"yield",b.to_a(c));return this},l.$$arity=-1),n)&&"<<"})(l[0],null,l);return function(c,$super,d){function e(){}c=e=w(c,$super,"Lazy",e);var g=c.$$proto,k=[c].concat(d),l,t,q,C,y,v,p,G,Q,R,x,r,A;g.enumerator=n;(function(a,$super,b){function c(){}
[c=w(a,$super,"StopLazyError",c)].concat(b);return n})(k[0],h(k,"Exception"),k);b.def(c,"$initialize",l=function(a,c){var d,e=l.$$p,g=e||n;null==c&&(c=n);e&&(l.$$p=null);g===n&&this.$raise(h(k,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=a;return f(this,b.find_super_dispatcher(this,"initialize",l,!1),[c],(d=function(c,e){var l=d.$$s||this,t,q,C=arguments.length;t=C-1;0>t&&(t=0);t=Array(t);for(var z=1;z<C;z++)t[z-1]=arguments[z];null==c&&(c=n);try{return f(a,"each",b.to_a(t),
(q=function(a){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];d.unshift(c);b.yieldX(g,d)},q.$$s=l,q.$$arity=-1,q))}catch(y){if(b.rescue(y,[h(k,"Exception")]))try{return n}finally{b.pop_exception()}else throw y;}},d.$$s=this,d.$$arity=-2,d))},l.$$arity=-2);b.alias(c,"force","to_a");b.def(c,"$lazy",t=function(){return this},t.$$arity=0);b.def(c,"$collect",q=function(){var c,d=q.$$p,e=d||n;d&&(q.$$p=null);a(e)||this.$raise(h(k,"ArgumentError"),"tried to call lazy map without a block");
return f(h(k,"Lazy"),"new",[this,this.$enumerator_size()],(c=function(a,c){var d,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var g=1;g<f;g++)d[g-1]=arguments[g];null==a&&(a=n);f=b.yieldX(e,d);a.$yield(f)},c.$$s=this,c.$$arity=-2,c))},q.$$arity=0);b.def(c,"$collect_concat",C=function(){var c,d=C.$$p,e=d||n;d&&(C.$$p=null);a(e)||this.$raise(h(k,"ArgumentError"),"tried to call lazy map without a block");return f(h(k,"Lazy"),"new",[this,n],(c=function(a,d){var g=c.$$s||this,l,t,q,C=arguments.length;
l=C-1;0>l&&(l=0);l=Array(l);for(var z=1;z<C;z++)l[z-1]=arguments[z];null==a&&(a=n);C=b.yieldX(e,l);C["$respond_to?"]("force")&&C["$respond_to?"]("each")?f(C,"each",[],(t=function(b){null==b&&(b=n);return a.$yield(b)},t.$$s=g,t.$$arity=1,t)):h(k,"Opal").$try_convert(C,h(k,"Array"),"to_ary")===n?a.$yield(C):f(C,"each",[],(q=function(b){null==b&&(b=n);return a.$yield(b)},q.$$s=g,q.$$arity=1,q))},c.$$s=this,c.$$arity=-2,c))},C.$$arity=0);b.def(c,"$drop",y=function(c){var d,e=n,g=e=n;c=h(k,"Opal").$coerce_to(c,
h(k,"Integer"),"to_int");a(F(c,0))&&this.$raise(h(k,"ArgumentError"),"attempt to drop negative size");e=this.$enumerator_size();e=a(h(k,"Integer")["$==="](e))?a(F(c,e))?c:e:e;g=0;return f(h(k,"Lazy"),"new",[this,e],(d=function(d,e){var k,l=arguments.length;k=l-1;0>k&&(k=0);k=Array(k);for(var h=1;h<l;h++)k[h-1]=arguments[h];null==d&&(d=n);return a(F(g,c))?g=B(g,1):f(d,"yield",b.to_a(k))},d.$$s=this,d.$$arity=-2,d))},y.$$arity=1);b.def(c,"$drop_while",v=function(){var c,d=v.$$p,e=d||n,g=n;d&&(v.$$p=
null);a(e)||this.$raise(h(k,"ArgumentError"),"tried to call lazy drop_while without a block");g=!0;return f(h(k,"Lazy"),"new",[this,n],(c=function(c,d){var k,l=arguments.length;k=l-1;0>k&&(k=0);k=Array(k);for(var h=1;h<l;h++)k[h-1]=arguments[h];null==c&&(c=n);if(a(g))l=b.yieldX(e,k),E(l)&&(g=!1,f(c,"yield",b.to_a(k)));else return f(c,"yield",b.to_a(k))},c.$$s=this,c.$$arity=-2,c))},v.$$arity=0);b.def(c,"$enum_for",p=function(a,c){var d,e=p.$$p,g=e||n;null==a&&(a="each");var k=arguments.length;d=k-
1;0>d&&(d=0);d=Array(d);for(var l=1;l<k;l++)d[l-1]=arguments[l];e&&(p.$$p=null);return f(this.$class(),"for",[this,a].concat(b.to_a(d)),g.$to_proc())},p.$$arity=-1);b.def(c,"$find_all",G=function(){var c,d=G.$$p,e=d||n;d&&(G.$$p=null);a(e)||this.$raise(h(k,"ArgumentError"),"tried to call lazy select without a block");return f(h(k,"Lazy"),"new",[this,n],(c=function(c,d){var g,k=arguments.length;g=k-1;0>g&&(g=0);g=Array(g);for(var l=1;l<k;l++)g[l-1]=arguments[l];null==c&&(c=n);k=b.yieldX(e,g);a(k)&&
f(c,"yield",b.to_a(g))},c.$$s=this,c.$$arity=-2,c))},G.$$arity=0);b.alias(c,"flat_map","collect_concat");b.def(c,"$grep",Q=function(c){var d,e,g=Q.$$p,l=g||n;g&&(Q.$$p=null);return a(l)?f(h(k,"Lazy"),"new",[this,n],(d=function(d,f){var e,g=arguments.length;e=g-1;0>e&&(e=0);e=Array(e);for(var t=1;t<g;t++)e[t-1]=arguments[t];null==d&&(d=n);g=h(k,"Opal").$destructure(e);e=c["$==="](g);a(e)&&(b.yield1(l,g),d.$yield(b.yield1(l,g)))},d.$$s=this,d.$$arity=-2,d)):f(h(k,"Lazy"),"new",[this,n],(e=function(b,
d){var f,e=arguments.length;f=e-1;0>f&&(f=0);f=Array(f);for(var g=1;g<e;g++)f[g-1]=arguments[g];null==b&&(b=n);e=h(k,"Opal").$destructure(f);f=c["$==="](e);a(f)&&b.$yield(e)},e.$$s=this,e.$$arity=-2,e))},Q.$$arity=1);b.alias(c,"map","collect");b.alias(c,"select","find_all");b.def(c,"$reject",R=function(){var c,d=R.$$p,e=d||n;d&&(R.$$p=null);a(e)||this.$raise(h(k,"ArgumentError"),"tried to call lazy reject without a block");return f(h(k,"Lazy"),"new",[this,n],(c=function(a,c){var d,g=arguments.length;
d=g-1;0>d&&(d=0);d=Array(d);for(var k=1;k<g;k++)d[k-1]=arguments[k];null==a&&(a=n);g=b.yieldX(e,d);E(g)&&f(a,"yield",b.to_a(d))},c.$$s=this,c.$$arity=-2,c))},R.$$arity=0);b.def(c,"$take",x=function(c){var d,e=n,g=e=n;c=h(k,"Opal").$coerce_to(c,h(k,"Integer"),"to_int");a(F(c,0))&&this.$raise(h(k,"ArgumentError"),"attempt to take negative size");e=this.$enumerator_size();e=a(h(k,"Integer")["$==="](e))?a(F(c,e))?c:e:e;g=0;return f(h(k,"Lazy"),"new",[this,e],(d=function(e,l){var t=d.$$s||this,q,C=arguments.length;
q=C-1;0>q&&(q=0);q=Array(q);for(var z=1;z<C;z++)q[z-1]=arguments[z];null==e&&(e=n);return a(F(g,c))?(f(e,"yield",b.to_a(q)),g=B(g,1)):t.$raise(h(k,"StopLazyError"))},d.$$s=this,d.$$arity=-2,d))},x.$$arity=1);b.def(c,"$take_while",r=function(){var c,d=r.$$p,e=d||n;d&&(r.$$p=null);a(e)||this.$raise(h(k,"ArgumentError"),"tried to call lazy take_while without a block");return f(h(k,"Lazy"),"new",[this,n],(c=function(d,g){var l=c.$$s||this,t,q=arguments.length;t=q-1;0>t&&(t=0);t=Array(t);for(var C=1;C<
q;C++)t[C-1]=arguments[C];null==d&&(d=n);q=b.yieldX(e,t);a(q)?f(d,"yield",b.to_a(t)):l.$raise(h(k,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},r.$$arity=0);b.alias(c,"to_enum","enum_for");return(b.def(c,"$inspect",A=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},A.$$arity=0),n)&&"inspect"}(l[0],t,l)}(x[0],null,x)},Opal.modules["corelib/numeric"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function F(a,b){return"number"===typeof a&&
"number"===typeof b?a*b:a["$*"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}var n=b.top,h=[],A=b.nil,p=b.const_get_qualified,w=b.const_get_relative,a=b.klass,f=b.truthy,E=b.hash2;b.add_stubs("$require $include $instance_of? $class $Float $respond_to? $coerce $__send__ $=== $raise $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));
n.$require("corelib/comparable");return function(h,$super,C){function e(){}h=e=a(h,$super,"Numeric",e);var c=[h].concat(C),l,d,y,v,g,k,q,n,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha;h.$include(w(c,"Comparable"));b.def(h,"$coerce",l=function(a){return f(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},l.$$arity=1);b.def(h,"$__coerced__",d=function(a,d){var e,g,k=A;g=e=A;if(f(d["$respond_to?"]("coerce")))return g=d.$coerce(this),e=b.to_ary(g),
k=null==e[0]?A:e[0],e=null==e[1]?A:e[1],g,k.$__send__(a,e);g=a;return"+"["$==="](g)||"-"["$==="](g)||"*"["$==="](g)||"/"["$==="](g)||"%"["$==="](g)||"&"["$==="](g)||"|"["$==="](g)||"^"["$==="](g)||"**"["$==="](g)?this.$raise(w(c,"TypeError"),""+d.$class()+" can't be coerced into Numeric"):">"["$==="](g)||">="["$==="](g)||"<"["$==="](g)||"<="["$==="](g)||"<=>"["$==="](g)?this.$raise(w(c,"ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed"):A},d.$$arity=2);b.def(h,"$<=>",y=
function(a){return f(this["$equal?"](a))?0:A},y.$$arity=1);b.def(h,"$+@",v=function(){return this},v.$$arity=0);b.def(h,"$-@",g=function(){return B(0,this)},g.$$arity=0);b.def(h,"$%",k=function(a){return B(this,F(a,this.$div(a)))},k.$$arity=1);b.def(h,"$abs",q=function(){return r(this,0)?this["$-@"]():this},q.$$arity=0);b.def(h,"$abs2",n=function(){return F(this,this)},n.$$arity=0);b.def(h,"$angle",u=function(){return r(this,0)?p(w(c,"Math"),"PI"):0},u.$$arity=0);b.alias(h,"arg","angle");b.def(h,
"$ceil",Ea=function(a){null==a&&(a=0);return this.$to_f().$ceil(a)},Ea.$$arity=-1);b.def(h,"$conj",D=function(){return this},D.$$arity=0);b.alias(h,"conjugate","conj");b.def(h,"$denominator",aa=function(){return this.$to_r().$denominator()},aa.$$arity=0);b.def(h,"$div",da=function(a){a["$=="](0)&&this.$raise(w(c,"ZeroDivisionError"),"divided by o");return x(this,a).$floor()},da.$$arity=1);b.def(h,"$divmod",J=function(a){return[this.$div(a),this["$%"](a)]},J.$$arity=1);b.def(h,"$fdiv",ja=function(a){return x(this.$to_f(),
a)},ja.$$arity=1);b.def(h,"$floor",va=function(a){null==a&&(a=0);return this.$to_f().$floor(a)},va.$$arity=-1);b.def(h,"$i",z=function(){return this.$Complex(0,this)},z.$$arity=0);b.def(h,"$imag",T=function(){return 0},T.$$arity=0);b.alias(h,"imaginary","imag");b.def(h,"$integer?",oa=function(){return!1},oa.$$arity=0);b.alias(h,"magnitude","abs");b.alias(h,"modulo","%");b.def(h,"$nonzero?",ba=function(){return f(this["$zero?"]())?A:this},ba.$$arity=0);b.def(h,"$numerator",G=function(){return this.$to_r().$numerator()},
G.$$arity=0);b.alias(h,"phase","arg");b.def(h,"$polar",Q=function(){return[this.$abs(),this.$arg()]},Q.$$arity=0);b.def(h,"$quo",R=function(a){return x(w(c,"Opal")["$coerce_to!"](this,w(c,"Rational"),"to_r"),a)},R.$$arity=1);b.def(h,"$real",L=function(){return this},L.$$arity=0);b.def(h,"$real?",S=function(){return!0},S.$$arity=0);b.def(h,"$rect",W=function(){return[this,0]},W.$$arity=0);b.alias(h,"rectangular","rect");b.def(h,"$round",O=function(a){return this.$to_f().$round(a)},O.$$arity=-1);b.def(h,
"$to_c",X=function(){return this.$Complex(this,0)},X.$$arity=0);b.def(h,"$to_int",N=function(){return this.$to_i()},N.$$arity=0);b.def(h,"$truncate",ea=function(a){null==a&&(a=0);return this.$to_f().$truncate(a)},ea.$$arity=-1);b.def(h,"$zero?",pa=function(){return this["$=="](0)},pa.$$arity=0);b.def(h,"$positive?",ga=function(){return"number"===typeof this?0<this:this["$>"](0)},ga.$$arity=0);b.def(h,"$negative?",P=function(){return r(this,0)},P.$$arity=0);b.def(h,"$dup",U=function(){return this},
U.$$arity=0);b.def(h,"$clone",ia=function(a){if(null==a||!a.$$is_hash)if(null==a)E([],{});else throw b.ArgumentError.$new("expected kwargs");return this},ia.$$arity=-1);b.def(h,"$finite?",V=function(){return!0},V.$$arity=0);return(b.def(h,"$infinite?",ha=function(){return A},ha.$$arity=0),A)&&"infinite?"}(h[0],null,h)},Opal.modules["corelib/array"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var F=b.top,r=[],x=b.nil,n=b.const_get_qualified,h=b.const_get_relative,
A=b.klass,p=b.truthy,w=b.hash2,a=b.send,f=b.gvars;b.add_stubs("$require $include $to_a $warn $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $nil? $coerce_to! $> $* $enumerator_size $empty? $size $map $equal? $dup $each $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $max $min $! $>= $** $delete_if $reverse $rotate $rand $at $keep_if $shuffle! $< $sort $sort_by $!= $times $[]= $- $<< $values $is_a? $last $first $upto $reject $pristine $singleton_class".split(" "));
F.$require("corelib/enumerable");F.$require("corelib/numeric");return function(E,$super,m){function C(){}function e(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function c(a,c){var d=a.length,f,g,k;f=c.excl;g=b.Opal.$coerce_to(c.begin,b.Integer,"to_int");k=b.Opal.$coerce_to(c.end,b.Integer,"to_int");if(0>g&&(g+=d,0>g)||g>d)return x;if(0>k&&(k+=d,0>k))return[];f||(k+=1);d=a.slice(g,k);return e(d,a.$class())}function l(a,c,d){var f=a.length;c=b.Opal.$coerce_to(c,b.Integer,"to_int");
if(0>c&&(c+=f,0>c))return x;if(void 0===d)return c>=f||0>c?x:a[c];d=b.Opal.$coerce_to(d,b.Integer,"to_int");if(0>d||c>f||0>c)return x;c=a.slice(c,c+d);return e(c,a.$class())}function d(a,b){return a===b||0===b?1:0<b&&a>b?d(a-1,b-1)+d(a-1,b):0}var y=C=A(E,$super,"Array",C),v=y.$$proto,g=[y].concat(m),k,q,sa,u,r,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,F,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,La,Ka,Ha,Ma,Ga,Ia,H,ua,za,Na,Ja,M,ca,Oa,ra,Qa,Sa,Ra,I,Ta,Ua,Pa,Za,ab,kb,lb,mb,
nb,bb,cb,db,ob,eb,pb,qb,jb,Xa,Wa,hb,ib,Ya,K,Va,rb;y.$include(h(g,"Enumerable"));v.$$is_array=!0;b.defs(y,"$[]",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return e(b,this)},k.$$arity=-1);b.def(y,"$initialize",q=function(a,b){var c=q.$$p,d=c||x;null==a&&(a=x);null==b&&(b=x);c&&(q.$$p=null);b!==x&&d!==x&&this.$warn("warning: block supersedes default value argument");a>n(h(g,"Integer"),"MAX")&&this.$raise(h(g,"ArgumentError"),"array size too big");
2<arguments.length&&this.$raise(h(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");0>a&&this.$raise(h(g,"ArgumentError"),"negative array size");this.splice(0,this.length);var f;if(d===x)for(c=0;c<a;c++)this.push(b);
else for(c=0,f;c<a;c++)f=d(c),this[c]=f;return this},q.$$arity=-1);b.defs(y,"$try_convert",sa=function(a){return h(g,"Opal")["$coerce_to?"](a,h(g,"Array"),"to_ary")},sa.$$arity=1);b.def(y,"$&",u=function(a){a=p(h(g,"Array")["$==="](a))?a.$to_a():h(g,"Opal").$coerce_to(a,h(g,"Array"),"to_ary").$to_a();var c=[],d=w([],{}),f,e;f=0;for(e=a.length;f<e;f++)b.hash_put(d,a[f],!0);f=0;for(e=this.length;f<e;f++)a=this[f],void 0!==b.hash_delete(d,a)&&c.push(a);return c},u.$$arity=1);b.def(y,"$|",r=function(a){a=
p(h(g,"Array")["$==="](a))?a.$to_a():h(g,"Opal").$coerce_to(a,h(g,"Array"),"to_ary").$to_a();var c=w([],{}),d,f;d=0;for(f=this.length;d<f;d++)b.hash_put(c,this[d],!0);d=0;for(f=a.length;d<f;d++)b.hash_put(c,a[d],!0);return c.$keys()},r.$$arity=1);b.def(y,"$*",D=function(a){if(p(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");p(0>a)&&this.$raise(h(g,"ArgumentError"),"negative argument");for(var b=[],c=this.$to_a(),d=0;d<a;d++)b=b.concat(c);
return e(b,this.$class())},D.$$arity=1);b.def(y,"$+",aa=function(a){a=p(h(g,"Array")["$==="](a))?a.$to_a():h(g,"Opal").$coerce_to(a,h(g,"Array"),"to_ary").$to_a();return this.concat(a)},aa.$$arity=1);b.def(y,"$-",da=function(a){a=p(h(g,"Array")["$==="](a))?a.$to_a():h(g,"Opal").$coerce_to(a,h(g,"Array"),"to_ary").$to_a();if(p(0===this.length))return[];if(p(0===a.length))return this.slice();var c=[],d=w([],{}),f,e;f=0;for(e=a.length;f<e;f++)b.hash_put(d,a[f],!0);f=0;for(e=this.length;f<e;f++)a=this[f],
void 0===b.hash_get(d,a)&&c.push(a);return c},da.$$arity=1);b.def(y,"$<<",J=function(a){this.push(a);return this},J.$$arity=1);b.def(y,"$<=>",ja=function(a){if(p(h(g,"Array")["$==="](a)))a=a.$to_a();else if(p(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return x;if(this.$hash()===a.$hash())return 0;for(var b=Math.min(this.length,a.length),c=0;c<b;c++){var d=this[c]["$<=>"](a[c]);if(0!==d)return d}return this.length["$<=>"](a.length)},ja.$$arity=1);b.def(y,"$==",va=function(a){function b(a,
d){var f,e,k,l;if(a===d)return!0;if(!d.$$is_array)return h(g,"Opal")["$respond_to?"](d,"to_ary")?d["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());d.constructor!==Array&&(d=d.$to_a());if(a.length!==d.length)return!1;c[a.$object_id()]=!0;f=0;for(e=a.length;f<e;f++)if(k=a[f],l=d[f],k.$$is_array){if(l.$$is_array&&l.length!==k.length||!c.hasOwnProperty(k.$object_id())&&!b(k,l))return!1}else if(!k["$=="](l))return!1;return!0}var c={};return b(this,a)},va.$$arity=1);b.def(y,"$[]",z=function(a,b){return a.$$is_range?
c(this,a):l(this,a,b)},z.$$arity=-2);b.def(y,"$[]=",T=function(a,b,c){var d=x,f=x,e;e=this.length;if(p(h(g,"Range")["$==="](a))){var d=p(h(g,"Array")["$==="](b))?b.$to_a():p(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b],k=a.excl;c=h(g,"Opal").$coerce_to(a.begin,h(g,"Integer"),"to_int");f=h(g,"Opal").$coerce_to(a.end,h(g,"Integer"),"to_int");0>c&&(c+=e,0>c&&this.$raise(h(g,"RangeError"),""+a.$inspect()+" out of range"));0>f&&(f+=e);k||(f+=1);if(c>e)for(;e<c;e++)this[e]=x;0>f?this.splice.apply(this,
[c,0].concat(d)):this.splice.apply(this,[c,f-c].concat(d))}else{p(void 0===c)?f=1:(f=b,b=c,d=p(h(g,"Array")["$==="](b))?b.$to_a():p(b["$respond_to?"]("to_ary"))?b.$to_ary().$to_a():[b]);a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");f=h(g,"Opal").$coerce_to(f,h(g,"Integer"),"to_int");0>a&&(k=a,a+=e,0>a&&this.$raise(h(g,"IndexError"),"index "+k+" too small for array; minimum "+-this.length));0>f&&this.$raise(h(g,"IndexError"),"negative length ("+f+")");if(a>e)for(;e<a;e++)this[e]=x;void 0===c?
this[a]=b:this.splice.apply(this,[a,f].concat(d))}return b},T.$$arity=-3);b.def(y,"$any?",oa=function(c){var d=oa.$$p,f=x,e=x,g=x;d&&(oa.$$p=null);e=0;g=arguments.length;for(f=Array(g);e<g;e++)f[e]=arguments[e];return 0===this.length?!1:a(this,b.find_super_dispatcher(this,"any?",oa,!1),f,d)},oa.$$arity=-1);b.def(y,"$assoc",ba=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&d[0]["$=="](a))return d;return x},ba.$$arity=1);b.def(y,"$at",G=function(a){a=h(g,"Opal").$coerce_to(a,
h(g,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?x:this[a]},G.$$arity=1);b.def(y,"$bsearch_index",Q=function(){var a=Q.$$p,c=a||x;a&&(Q.$$p=null);if(c===x)return this.$enum_for("bsearch_index");for(var a=0,d=this.length,f,e,k=!1,l=x;a<d;){f=a+Math.floor((d-a)/2);e=this[f];e=b.yield1(c,e);if(!0===e)l=f,k=!0;else if(!1===e||e===x)k=!1;else if(e.$$is_number){if(0===e)return f;k=0>e}else this.$raise(h(g,"TypeError"),"wrong argument type "+e.$class()+" (must be numeric, true, false or nil)");
k?d=f:a=f+1}return l},Q.$$arity=0);b.def(y,"$bsearch",R=function(){var b=R.$$p,c=b||x,d=x;b&&(R.$$p=null);if(c===x)return this.$enum_for("bsearch");d=a(this,"bsearch_index",[],c.$to_proc());return null!=d&&d.$$is_number?this[d]:d},R.$$arity=0);b.def(y,"$cycle",L=function(c){var d,f,e=L.$$p,k=e||x;null==c&&(c=x);e&&(L.$$p=null);if(k===x)return a(this,"enum_for",["cycle",c],(d=function(){var a=d.$$s||this;if(p(c["$nil?"]()))return n(h(g,"Float"),"INFINITY");c=h(g,"Opal")["$coerce_to!"](c,h(g,"Integer"),
"to_int");return p(B(c,0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)):0},d.$$s=this,d.$$arity=0,d));if(p(p(f=this["$empty?"]())?f:c["$=="](0)))return x;if(c===x)for(;;)for(f=0,e=this.length;f<e;f++)b.yield1(k,this[f]);else{c=h(g,"Opal")["$coerce_to!"](c,h(g,"Integer"),"to_int");if(0>=c)return this;for(;0<c;){f=0;for(e=this.length;f<e;f++)b.yield1(k,this[f]);c--}}return this},L.$$arity=-1);b.def(y,"$clear",S=function(){this.splice(0,this.length);return this},S.$$arity=
0);b.def(y,"$count",W=function(c){var d,f=W.$$p,e=f||x,g=x,k=x,l=x;null==c&&(c=x);f&&(W.$$p=null);k=0;l=arguments.length;for(g=Array(l);k<l;k++)g[k]=arguments[k];return p(p(d=c)?d:e)?a(this,b.find_super_dispatcher(this,"count",W,!1),g,f):this.$size()},W.$$arity=-1);b.def(y,"$initialize_copy",O=function(a){return this.$replace(a)},O.$$arity=1);b.def(y,"$collect",X=function(){var c,d=X.$$p,f=d||x;d&&(X.$$p=null);if(f===x)return a(this,"enum_for",["collect"],(c=function(){return(c.$$s||this).$size()},
c.$$s=this,c.$$arity=0,c));for(var d=[],e=0,g=this.length;e<g;e++){var k=b.yield1(f,this[e]);d.push(k)}return d},X.$$arity=0);b.def(y,"$collect!",N=function(){var c,d=N.$$p,f=d||x;d&&(N.$$p=null);if(f===x)return a(this,"enum_for",["collect!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=0,e=this.length;d<e;d++){var g=b.yield1(f,this[d]);this[d]=g}return this},N.$$arity=0);b.def(y,"$combination",ea=function(c){var f,e=ea.$$p,k=e||x,l=x;e&&(ea.$$p=null);l=h(g,"Opal")["$coerce_to!"](c,
h(g,"Integer"),"to_int");if(k===x)return a(this,"enum_for",["combination",l],(f=function(){return d((f.$$s||this).length,l)},f.$$s=this,f.$$arity=0,f));var m,q;if(0===l)b.yield1(k,[]);else if(1===l)for(e=0,c=this.length;e<c;e++)b.yield1(k,[this[e]]);else if(l===this.length)b.yield1(k,this.slice());else if(0<=l&&l<this.length){c=[];for(e=0;e<=l+1;e++)c.push(0);e=[];m=0;q=!1;for(c[0]=-1;!q;){for(e[m]=this[c[m+1]];m<l-1;)m++,q=c[m+1]=c[m]+1,e[m]=this[q];b.yield1(k,e.slice());m++;do q=0===m,c[m]++,m--;
while(c[m+1]+l===this.length+m+1)}}return this},ea.$$arity=1);b.def(y,"$repeated_combination",pa=function(c){function f(a,c,d,e){if(d.length==a)a=d.slice(),b.yield1(l,a);else for(;c<e.length;c++)d.push(e[c]),f(a,c,d,e),d.pop()}var e,k=pa.$$p,l=k||x,m=x;k&&(pa.$$p=null);m=h(g,"Opal")["$coerce_to!"](c,h(g,"Integer"),"to_int");if(l===x)return a(this,"enum_for",["repeated_combination",m],(e=function(){return d((e.$$s||this).length+m-1,m)},e.$$s=this,e.$$arity=0,e));0<=m&&f(m,0,[],this);return this},pa.$$arity=
1);b.def(y,"$compact",F=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==x&&a.push(d);return a},F.$$arity=0);b.def(y,"$compact!",P=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===x&&(this.splice(b,1),c--,b--);return this.length===a?x:this},P.$$arity=0);b.def(y,"$concat",U=function(b){var c,d,f,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var k=0;k<e;k++)f[k-0]=arguments[k];f=a(f,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=x);a=p(h(g,"Array")["$==="](a))?
a.$to_a():h(g,"Opal").$coerce_to(a,h(g,"Array"),"to_ary").$to_a();p(a["$equal?"](b))&&(a=a.$dup());return a},c.$$s=this,c.$$arity=1,c));a(f,"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=x);for(var c=0,f=a.length;c<f;c++)b.push(a[c])},d.$$s=this,d.$$arity=1,d));return this},U.$$arity=-1);b.def(y,"$delete",ia=function(a){var c=ia.$$p,d=c||x;c&&(ia.$$p=null);for(var c=this.length,f=0,e=c;f<e;f++)this[f]["$=="](a)&&(this.splice(f,1),e--,f--);return this.length===c?d!==x?b.yieldX(d,[]):x:a},ia.$$arity=
1);b.def(y,"$delete_at",V=function(a){a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return x;var b=this[a];this.splice(a,1);return b},V.$$arity=1);b.def(y,"$delete_if",ha=function(){var b,c=ha.$$p,d=c||x;c&&(ha.$$p=null);if(d===x)return a(this,"enum_for",["delete_if"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,f=this.length,e;c<f;c++)e=d(this[c]),!1!==e&&e!==x&&(this.splice(c,1),f--,c--);return this},ha.$$arity=
0);b.def(y,"$dig",Z=function(c,d){var f,e=x,e=arguments.length;f=e-1;0>f&&(f=0);f=Array(f);for(var k=1;k<e;k++)f[k-1]=arguments[k];e=this["$[]"](c);if(e===x||0===f.length)return e;p(e["$respond_to?"]("dig"))||this.$raise(h(g,"TypeError"),""+e.$class()+" does not have #dig method");return a(e,"dig",b.to_a(f))},Z.$$arity=-2);b.def(y,"$drop",qa=function(a){0>a&&this.$raise(h(g,"ArgumentError"));return this.slice(a)},qa.$$arity=1);b.def(y,"$dup",ma=function(){var c=ma.$$p,d=x,f=x,e=x;c&&(ma.$$p=null);
f=0;e=arguments.length;for(d=Array(e);f<e;f++)d[f]=arguments[f];return this.$$class===b.Array&&this.$$class.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):a(this,b.find_super_dispatcher(this,"dup",ma,!1),d,c)},ma.$$arity=0);b.def(y,"$each",fa=function(){var c,d=fa.$$p,f=d||x;d&&(fa.$$p=null);if(f===x)return a(this,"enum_for",["each"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=0,e=this.length;d<e;d++)b.yield1(f,
this[d]);return this},fa.$$arity=0);b.def(y,"$each_index",ka=function(){var c,d=ka.$$p,f=d||x;d&&(ka.$$p=null);if(f===x)return a(this,"enum_for",["each_index"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=0,e=this.length;d<e;d++)b.yield1(f,d);return this},ka.$$arity=0);b.def(y,"$empty?",Ba=function(){return 0===this.length},Ba.$$arity=0);b.def(y,"$eql?",Y=function(a){function b(a,d){var f,e,g,k;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;
c[a.$object_id()]=!0;f=0;for(e=a.length;f<e;f++)if(g=a[f],k=d[f],g.$$is_array){if(k.$$is_array&&k.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,k))return!1}else if(!g["$eql?"](k))return!1;return!0}var c={};return b(this,a)},Y.$$arity=1);b.def(y,"$fetch",la=function(a,b){var c=la.$$p,d=c||x;c&&(la.$$p=null);c=a;a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];d!==x&&null!=b&&this.$warn("warning: block supersedes default value argument");
if(d!==x)return d(c);if(null!=b)return b;0===this.length?this.$raise(h(g,"IndexError"),"index "+c+" outside of array bounds: 0...0"):this.$raise(h(g,"IndexError"),"index "+c+" outside of array bounds: -"+this.length+"..."+this.length)},la.$$arity=-2);b.def(y,"$fill",na=function(a){var c,d,f=(d=na.$$p)||x,e=x,k=x,l=x,k=c=x,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(k=0;k<e;k++)c[k-0]=arguments[k];d&&(na.$$p=null);p(f)?(p(2<c.length)&&this.$raise(h(g,"ArgumentError"),"wrong number of arguments ("+
c.$length()+" for 0..2)"),d=c,c=b.to_ary(d),e=null==c[0]?x:c[0],k=null==c[1]?x:c[1]):(p(0==c.length)?this.$raise(h(g,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):p(3<c.length)&&this.$raise(h(g,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 1..3)"),d=c,c=b.to_ary(d),l=null==c[0]?x:c[0],e=null==c[1]?x:c[1],k=null==c[2]?x:c[2]);d;if(p(h(g,"Range")["$==="](e))){if(p(k)&&this.$raise(h(g,"TypeError"),"length invalid with range"),c=h(g,"Opal").$coerce_to(e.$begin(),h(g,"Integer"),
"to_int"),p(0>c)&&(c+=this.length),p(0>c)&&this.$raise(h(g,"RangeError"),""+e.$inspect()+" out of range"),k=h(g,"Opal").$coerce_to(e.$end(),h(g,"Integer"),"to_int"),p(0>k)&&(k+=this.length),p(e["$exclude_end?"]())||(k+=1),p(k<=c))return this}else if(p(e))if(c=h(g,"Opal").$coerce_to(e,h(g,"Integer"),"to_int"),p(0>c)&&(c+=this.length),p(0>c)&&(c=0),p(k)){k=h(g,"Opal").$coerce_to(k,h(g,"Integer"),"to_int");if(p(0==k))return this;k+=c}else k=this.length;else c=0,k=this.length;if(p(c>this.length))for(d=
this.length;d<k;d++)this[d]=x;p(k>this.length)&&(this.length=k);if(p(f))for(;c<k;c++)l=f(c),this[c]=l;else for(;c<k;c++)this[c]=l;return this},na.$$arity=-1);b.def(y,"$first",wa=function(a){if(null==a)return 0===this.length?x:this[0];a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");0>a&&this.$raise(h(g,"ArgumentError"),"negative array size");return this.slice(0,a)},wa.$$arity=-1);b.def(y,"$flatten",ta=function(a){function b(a,d){var f=[],e,k,l,m;a=a.$to_a();e=0;for(k=a.length;e<k;e++)if(l=a[e],
h(g,"Opal")["$respond_to?"](l,"to_ary",!0))if(m=l.$to_ary(),m===x)f.push(l);else switch(m.$$is_array||c.$raise(h(g,"TypeError")),m===c&&c.$raise(h(g,"ArgumentError")),d){case void 0:f=f.concat(b(m));break;case 0:f.push(m);break;default:f.push.apply(f,b(m,d-1))}else f.push(l);return f}var c=this;void 0!==a&&(a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int"));return e(b(c,a),c.$class())},ta.$$arity=-1);b.def(y,"$flatten!",Ca=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<
c&&this[b]===a[b];b++);if(b==c)return x}this.$replace(a);return this},Ca.$$arity=-1);b.def(y,"$hash",ya=function(){var a=void 0===b.hash_ids,c=["A"],d=this.$object_id(),f,e,g;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[d])return"self";for(g in b.hash_ids)if(f=b.hash_ids[g],this["$eql?"](f))return"self";b.hash_ids[d]=this;for(e=0;e<this.length;e++)f=this[e],c.push(f.$hash());return c.join(",")}finally{a&&(b.hash_ids=void 0)}},ya.$$arity=0);b.def(y,"$include?",Aa=function(a){for(var b=0,c=
this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},Aa.$$arity=1);b.def(y,"$index",xa=function(a){var b=xa.$$p,c=b||x;b&&(xa.$$p=null);var d;null!=a&&c!==x&&this.$warn("warning: given block not used");if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==x)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==a&&a!==x)return b}else return this.$enum_for("index");return x},xa.$$arity=-1);b.def(y,"$insert",Da=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);
c=Array(c);for(var f=1;f<d;f++)c[f-1]=arguments[f];a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");if(0<c.length){0>a&&(a+=this.length+1,0>a&&this.$raise(h(g,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(d=this.length;d<a;d++)this.push(x);this.splice.apply(this,[a,0].concat(c))}return this},Da.$$arity=-2);b.def(y,"$inspect",Fa=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var f=this["$[]"](c);f.$__id__()===b?a.push("[...]"):a.push(f.$inspect())}return"["+
a.join(", ")+"]"},Fa.$$arity=0);b.def(y,"$join",La=function(a){null==f[","]&&(f[","]=x);null==a&&(a=x);if(p(0===this.length))return"";p(a===x)&&(a=f[","]);var c=[],d,e,k,l;d=0;for(e=this.length;d<e;d++){k=this[d];if(h(g,"Opal")["$respond_to?"](k,"to_str")&&(l=k.$to_str(),l!==x)){c.push(l.$to_s());continue}if(h(g,"Opal")["$respond_to?"](k,"to_ary")&&(l=k.$to_ary(),l===this&&this.$raise(h(g,"ArgumentError")),l!==x)){c.push(l.$join(a));continue}if(h(g,"Opal")["$respond_to?"](k,"to_s")&&(l=k.$to_s(),
l!==x)){c.push(l);continue}this.$raise(h(g,"NoMethodError").$new(""+b.inspect(k)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===x?c.join(""):c.join(h(g,"Opal")["$coerce_to!"](a,h(g,"String"),"to_str").$to_s())},La.$$arity=-1);b.def(y,"$keep_if",Ka=function(){var b,c=Ka.$$p,d=c||x;c&&(Ka.$$p=null);if(d===x)return a(this,"enum_for",["keep_if"],(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var c=0,f=this.length,e;c<f;c++)if(e=d(this[c]),!1===e||e===
x)this.splice(c,1),f--,c--;return this},Ka.$$arity=0);b.def(y,"$last",Ha=function(a){if(null==a)return 0===this.length?x:this[this.length-1];a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");0>a&&this.$raise(h(g,"ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},Ha.$$arity=-1);b.def(y,"$length",Ma=function(){return this.length},Ma.$$arity=0);b.alias(y,"map","collect");b.alias(y,"map!","collect!");b.def(y,"$max",Ga=function(b){var c=
Ga.$$p,d=c||x;c&&(Ga.$$p=null);return a(this.$each(),"max",[b],d.$to_proc())},Ga.$$arity=-1);b.def(y,"$min",Ia=function(){var b=Ia.$$p,c=b||x;b&&(Ia.$$p=null);return a(this.$each(),"min",[],c.$to_proc())},Ia.$$arity=0);b.def(y,"$permutation",H=function(c){var d,f=this,e=H.$$p,k=e||x,l=x,m=x;e&&(H.$$p=null);if(k===x)return a(f,"enum_for",["permutation",c],(d=function(){for(var a=d.$$s||this,b=a.length,a=void 0===c?a.length:c,f=0<=a?1:0;a;)f*=b,b--,a--;return f},d.$$s=f,d.$$arity=0,d));var q,M;c=void 0===
c?f.length:h(g,"Opal").$coerce_to(c,h(g,"Integer"),"to_int");if(!(0>c||f.length<c))if(0===c)b.yield1(k,[]);else if(1===c)for(l=0;l<f.length;l++)b.yield1(k,[f[l]]);else l=h(g,"Array").$new(c),m=h(g,"Array").$new(f.length,!1),q=function(a,c,d,e,g){f=this;for(var k=0;k<f.length;k++)if(e["$[]"](k)["$!"]())if(c[d]=k,d<a-1)e[k]=!0,q.call(f,a,c,d+1,e,g),e[k]=!1;else{M=[];for(var l=0;l<c.length;l++)M.push(f[c[l]]);b.yield1(g,M)}},k!==x?(e=f.slice(),q.call(e,c,l,0,m,k)):q.call(f,c,l,0,m,k);return f},H.$$arity=
-1);b.def(y,"$repeated_permutation",ua=function(c){function d(a,c,f){if(c.length==a)a=c.slice(),b.yield1(k,a);else for(var e=0;e<f.length;e++)c.push(f[e]),d(a,c,f),c.pop()}var f,e=ua.$$p,k=e||x,l=x;e&&(ua.$$p=null);l=h(g,"Opal")["$coerce_to!"](c,h(g,"Integer"),"to_int");if(k===x)return a(this,"enum_for",["repeated_permutation",l],(f=function(){var a=f.$$s||this;return p("number"===typeof l?0<=l:l["$>="](0))?a.$size()["$**"](l):0},f.$$s=this,f.$$arity=0,f));d(l,[],this.slice());return this},ua.$$arity=
1);b.def(y,"$pop",za=function(a){if(p(void 0===a))return p(0===this.length)?x:this.pop();a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");p(0>a)&&this.$raise(h(g,"ArgumentError"),"negative array size");return p(0===this.length)?[]:p(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},za.$$arity=-1);b.def(y,"$product",Na=function(a){var c,d=Na.$$p,f=d||x,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var k=0;k<e;k++)c[k-0]=arguments[k];d&&(Na.$$p=null);var d=f!==
x?null:[],e=c.length+1,k=Array(e),l=Array(e),m=Array(e),q,M=1;m[0]=this;for(q=1;q<e;q++)m[q]=h(g,"Opal").$coerce_to(c[q-1],h(g,"Array"),"to_ary");for(q=0;q<e;q++){c=m[q].length;if(0===c)return d||this;M*=c;2147483647<M&&this.$raise(h(g,"RangeError"),"too big to product");l[q]=c;k[q]=0}a:for(;;){c=[];for(q=0;q<e;q++)c.push(m[q][k[q]]);d?d.push(c):b.yield1(f,c);c=e-1;for(k[c]++;k[c]===l[c];){k[c]=0;if(0>--c)break a;k[c]++}}return d||this},Na.$$arity=-1);b.def(y,"$push",Ja=function(a){var c,b=arguments.length;
c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];b=0;for(d=c.length;b<d;b++)this.push(c[b]);return this},Ja.$$arity=-1);b.alias(y,"append","push");b.def(y,"$rassoc",M=function(a){for(var c=0,b=this.length,d;c<b;c++)if(d=this[c],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return x},M.$$arity=1);b.def(y,"$reject",ca=function(){var c,b=ca.$$p,d=b||x;b&&(ca.$$p=null);if(d===x)return a(this,"enum_for",["reject"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,
c));for(var b=[],f=0,e=this.length,g;f<e;f++)g=d(this[f]),!1!==g&&g!==x||b.push(this[f]);return b},ca.$$arity=0);b.def(y,"$reject!",Oa=function(){var c,b=Oa.$$p,d=b||x,f=x;b&&(Oa.$$p=null);if(d===x)return a(this,"enum_for",["reject!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));f=this.$length();a(this,"delete_if",[],d.$to_proc());return this.$length()["$=="](f)?x:this},Oa.$$arity=0);b.def(y,"$replace",ra=function(a){a=p(h(g,"Array")["$==="](a))?a.$to_a():h(g,"Opal").$coerce_to(a,
h(g,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},ra.$$arity=1);b.def(y,"$reverse",Qa=function(){return this.slice(0).reverse()},Qa.$$arity=0);b.def(y,"$reverse!",Sa=function(){return this.reverse()},Sa.$$arity=0);b.def(y,"$reverse_each",Ra=function(){var c,b=Ra.$$p,d=b||x;b&&(Ra.$$p=null);if(d===x)return a(this,"enum_for",["reverse_each"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));a(this.$reverse(),"each",[],d.$to_proc());return this},
Ra.$$arity=0);b.def(y,"$rindex",I=function(a){var c=I.$$p,b=c||x;c&&(I.$$p=null);null!=a&&b!==x&&this.$warn("warning: given block not used");if(null!=a)for(c=this.length-1;0<=c&&!(c>=this.length);c--){if(this[c]["$=="](a))return c}else if(b!==x)for(c=this.length-1;0<=c&&!(c>=this.length);c--){if(a=b(this[c]),!1!==a&&a!==x)return c}else if(null==a)return this.$enum_for("rindex");return x},I.$$arity=-1);b.def(y,"$rotate",Ta=function(a){null==a&&(a=1);a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");
var c,b;if(1===this.length)return this.slice();if(0===this.length)return[];c=this.slice();b=a%c.length;a=c.slice(b);c=c.slice(0,b);return a.concat(c)},Ta.$$arity=-1);b.def(y,"$rotate!",Ua=function(a){var c=x;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)},Ua.$$arity=-1);(function(a,$super,c){function d(){}a=d=A(a,$super,"SampleRandom",d);var f=a.$$proto,e=[a].concat(c),g,k;f.rng=x;b.def(a,
"$initialize",g=function(a){return this.rng=a},g.$$arity=1);return(b.def(a,"$rand",k=function(a){var c=x,c=h(e,"Opal").$coerce_to(this.rng.$rand(a),h(e,"Integer"),"to_int");p(0>c)&&this.$raise(h(e,"RangeError"),"random value must be >= 0");p(c<a)||this.$raise(h(e,"RangeError"),"random value must be less than Array size");return c},k.$$arity=1),x)&&"rand"})(g[0],null,g);b.def(y,"$sample",Pa=function(a,c){var b,d=x,f=x;if(p(void 0===a))return this.$at(h(g,"Kernel").$rand(this.length));p(void 0===c)?
p(d=h(g,"Opal")["$coerce_to?"](a,h(g,"Hash"),"to_hash"))?(c=d,a=x):(c=x,a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int")):(a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int"),c=h(g,"Opal").$coerce_to(c,h(g,"Hash"),"to_hash"));p(p(b=a)?0>a:b)&&this.$raise(h(g,"ArgumentError"),"count must be greater than 0");p(c)&&(f=c["$[]"]("random"));f=p(p(b=f)?f["$respond_to?"]("rand"):b)?h(g,"SampleRandom").$new(f):h(g,"Kernel");if(!p(a))return this[f.$rand(this.length)];var e,k,l,m;a>this.length&&(a=this.length);
switch(a){case 0:return[];case 1:return[this[f.$rand(this.length)]];case 2:return k=f.$rand(this.length),l=f.$rand(this.length),k===l&&(l=0===k?k+1:k-1),[this[k],this[l]];default:if(3<this.length/a){d=!1;e=0;b=h(g,"Array").$new(a);k=1;for(b[0]=f.$rand(this.length);k<a;){m=f.$rand(this.length);for(l=0;l<k;){for(;m===b[l];){e++;if(100<e){d=!0;break}m=f.$rand(this.length)}if(d)break;l++}if(d)break;b[k]=m;k++}if(!d){for(k=0;k<a;)b[k]=this[b[k]],k++;return b}}b=this.slice();for(k=0;k<a;k++)d=f.$rand(this.length),
e=b[k],b[k]=b[d],b[d]=e;return a===this.length?b:b["$[]"](0,a)}},Pa.$$arity=-1);b.def(y,"$select",Za=function(){var c,d=Za.$$p,f=d||x;d&&(Za.$$p=null);if(f===x)return a(this,"enum_for",["select"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));for(var d=[],e=0,g=this.length,k,l;e<g;e++)k=this[e],l=b.yield1(f,k),!1!==l&&l!==x&&d.push(k);return d},Za.$$arity=0);b.def(y,"$select!",ab=function(){var c,b=ab.$$p,d=b||x;b&&(ab.$$p=null);if(d===x)return a(this,"enum_for",["select!"],
(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));b=this.length;a(this,"keep_if",[],d.$to_proc());return this.length===b?x:this},ab.$$arity=0);b.def(y,"$shift",kb=function(a){if(p(void 0===a))return p(0===this.length)?x:this.shift();a=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");p(0>a)&&this.$raise(h(g,"ArgumentError"),"negative array size");return p(0===this.length)?[]:this.splice(0,a)},kb.$$arity=-1);b.alias(y,"size","length");b.def(y,"$shuffle",lb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},
lb.$$arity=-1);b.def(y,"$shuffle!",mb=function(a){var c,b=this.length,d;void 0!==a&&(a=h(g,"Opal")["$coerce_to?"](a,h(g,"Hash"),"to_hash"),a!==x&&(a=a["$[]"]("random"),a!==x&&a["$respond_to?"]("rand")&&(c=a)));for(;b;)c?(a=c.$rand(b).$to_int(),0>a&&this.$raise(h(g,"RangeError"),"random number too small "+a),a>=b&&this.$raise(h(g,"RangeError"),"random number too big "+a)):a=this.$rand(b),d=this[--b],this[b]=this[a],this[a]=d;return this},mb.$$arity=-1);b.alias(y,"slice","[]");b.def(y,"$slice!",nb=
function(a,c){var b=x,d=x,f=x,e=x,d=x;if(p(void 0===c))if(p(h(g,"Range")["$==="](a))){d=a;b=this["$[]"](d);f=h(g,"Opal").$coerce_to(d.$begin(),h(g,"Integer"),"to_int");e=h(g,"Opal").$coerce_to(d.$end(),h(g,"Integer"),"to_int");0>f&&(f+=this.length);0>e?e+=this.length:e>=this.length&&(e=this.length-1,d.excl&&(e+=1));var k=e-f;d.excl?--e:k+=1;f<this.length&&0<=f&&e<this.length&&0<=e&&0<k&&this.splice(f,k)}else{d=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");0>d&&(d+=this.length);if(0>d||d>=this.length)return x;
b=this[d];0===d?this.shift():this.splice(d,1)}else{d=h(g,"Opal").$coerce_to(a,h(g,"Integer"),"to_int");c=h(g,"Opal").$coerce_to(c,h(g,"Integer"),"to_int");if(0>c)return x;b=this["$[]"](d,c);0>d&&(d+=this.length);d+c>this.length&&(c=this.length-d);d<this.length&&0<=d&&this.splice(d,c)}return b},nb.$$arity=-2);b.def(y,"$sort",bb=function(){var a=this,c=bb.$$p,b=c||x;c&&(bb.$$p=null);if(!p(1<a.length))return a;b===x&&(b=function(a,c){return a["$<=>"](c)});return a.slice().sort(function(c,d){var f=b(c,
d);f===x&&a.$raise(h(g,"ArgumentError"),"comparison of "+c.$inspect()+" with "+d.$inspect()+" failed");return B(f,0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},bb.$$arity=0);b.def(y,"$sort!",cb=function(){var c=cb.$$p,b=c||x;c&&(cb.$$p=null);for(var c=b!==x?a(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort(),b=this.length=0,d=c.length;b<d;b++)this.push(c[b]);return this},cb.$$arity=0);b.def(y,"$sort_by!",db=function(){var c,b=db.$$p,d=b||x;b&&(db.$$p=null);return d===x?a(this,"enum_for",
["sort_by!"],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c)):this.$replace(a(this,"sort_by",[],d.$to_proc()))},db.$$arity=0);b.def(y,"$take",ob=function(a){0>a&&this.$raise(h(g,"ArgumentError"));return this.slice(0,a)},ob.$$arity=1);b.def(y,"$take_while",eb=function(){var a=eb.$$p,c=a||x;a&&(eb.$$p=null);for(var a=[],b=0,d=this.length,f,e;b<d;b++){f=this[b];e=c(f);if(!1===e||e===x)break;a.push(f)}return a},eb.$$arity=0);b.def(y,"$to_a",pb=function(){return this},pb.$$arity=0);
b.alias(y,"to_ary","to_a");b.def(y,"$to_h",qb=function(){var a,c=this.length,d,f,e=w([],{});for(a=0;a<c;a++)d=h(g,"Opal")["$coerce_to?"](this[a],h(g,"Array"),"to_ary"),d.$$is_array||this.$raise(h(g,"TypeError"),"wrong element type "+d.$class()+" at "+a+" (expected array)"),2!==d.length&&this.$raise(h(g,"ArgumentError"),"wrong array length at "+a+" (expected 2, was "+d.$length()+")"),f=d[0],d=d[1],b.hash_put(e,f,d);return e},qb.$$arity=0);b.alias(y,"to_s","inspect");b.def(y,"$transpose",jb=function(){var c,
d=x,f=x;if(p(this["$empty?"]()))return[];d=[];f=x;a(this,"each",[],(c=function(e){var k=c.$$s||this,l,m;null==e&&(e=x);e=p(h(g,"Array")["$==="](e))?e.$to_a():h(g,"Opal").$coerce_to(e,h(g,"Array"),"to_ary").$to_a();f=p(l=f)?l:e.length;p(e.length["$!="](f))&&k.$raise(h(g,"IndexError"),"element size differs ("+e.length+" should be "+f+")");return a(e.length,"times",[],(m=function(c){var f,g=x;null==c&&(c=x);p(f=d["$[]"](c))||(g=[c,[]],a(d,"[]=",b.to_a(g)),f=g,g=g.length,g="number"===typeof g?g-1:g["$-"](1),
f=f[g]);return f["$<<"](e.$at(c))},m.$$s=k,m.$$arity=1,m))},c.$$s=this,c.$$arity=1,c));return d},jb.$$arity=0);b.def(y,"$uniq",Xa=function(){var a=Xa.$$p,c=a||x;a&&(Xa.$$p=null);var a=w([],{}),d,f,g,k;if(c===x)for(d=0,f=this.length;d<f;d++)g=this[d],void 0===b.hash_get(a,g)&&b.hash_put(a,g,g);else for(d=0,f=this.length;d<f;d++)g=this[d],k=b.yield1(c,g),void 0===b.hash_get(a,k)&&b.hash_put(a,k,g);return e(a.$values(),this.$class())},Xa.$$arity=0);b.def(y,"$uniq!",Wa=function(){var a=Wa.$$p,c=a||x;
a&&(Wa.$$p=null);var a=this.length,d=w([],{}),f,e,g,k;f=0;for(e=a;f<e;f++)g=this[f],k=c===x?g:b.yield1(c,g),void 0===b.hash_get(d,k)?b.hash_put(d,k,g):(this.splice(f,1),e--,f--);return this.length===a?x:this},Wa.$$arity=0);b.def(y,"$unshift",hb=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];for(b=c.length-1;0<=b;b--)this.unshift(c[b]);return this},hb.$$arity=-1);b.alias(y,"prepend","unshift");b.def(y,"$values_at",ib=function(c){var b,d,f=x,
e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var k=0;k<e;k++)d[k-0]=arguments[k];f=[];a(d,"each",[],(b=function(c){var d=b.$$s||this,e,k=x,l=x,k=x;null==c&&(c=x);if(p(c["$is_a?"](h(g,"Range")))){k=h(g,"Opal").$coerce_to(c.$last(),h(g,"Integer"),"to_int");l=h(g,"Opal").$coerce_to(c.$first(),h(g,"Integer"),"to_int");if(0>l)return l+=d.length,x;0>k&&(k+=d.length);c["$exclude_end?"]()&&k--;return k<l?x:a(l,"upto",[k],(e=function(a){var c=e.$$s||this;null==a&&(a=x);return f["$<<"](c.$at(a))},e.$$s=
d,e.$$arity=1,e))}k=h(g,"Opal").$coerce_to(c,h(g,"Integer"),"to_int");return f["$<<"](d.$at(k))},b.$$s=this,b.$$arity=1,b));return f},ib.$$arity=-1);b.def(y,"$zip",Ya=function(a){var c,b,d=Ya.$$p,f=d||x,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var k=0;k<e;k++)b[k-0]=arguments[k];d&&(Ya.$$p=null);var d=[],e=this.length,l,m,q;m=0;for(q=b.length;m<q;m++)k=b[m],k.$$is_array||(k.$$is_enumerator?Infinity===k.$size()?b[m]=k.$take(e):b[m]=k.$to_a():b[m]=(p(c=h(g,"Opal")["$coerce_to?"](k,h(g,"Array"),
"to_ary"))?c:h(g,"Opal")["$coerce_to!"](k,h(g,"Enumerator"),"each")).$to_a());for(l=0;l<e;l++){c=[this[l]];m=0;for(q=b.length;m<q;m++)k=b[m][l],null==k&&(k=x),c[m+1]=k;d[l]=c}if(f!==x){for(l=0;l<e;l++)f(d[l]);return x}return d},Ya.$$arity=-1);b.defs(y,"$inherited",K=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},K.$$arity=1);b.def(y,"$instance_variables",Va=function(){var c,d=Va.$$p,f=x,e=x,g=x;d&&(Va.$$p=null);e=0;g=arguments.length;for(f=Array(g);e<g;e++)f[e]=arguments[e];
return a(a(this,b.find_super_dispatcher(this,"instance_variables",Va,!1),f,d),"reject",[],(c=function(a){var c;null==a&&(a=x);return p(c=/^@\d+$/.test(a))?c:a["$=="]("@length")},c.$$s=this,c.$$arity=1,c))},Va.$$arity=0);h(g,"Opal").$pristine(y.$singleton_class(),"allocate");h(g,"Opal").$pristine(y,"copy_instance_variables","initialize_dup");return(b.def(y,"$pack",rb=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},
rb.$$arity=-1),x)&&"pack"}(r[0],Array,r)},Opal.modules["corelib/hash"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var F=b.top,r=[],x=b.nil,n=b.const_get_relative,h=b.klass,A=b.send,p=b.hash2,w=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $enum_for $size $respond_to? $class $dig $new $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $proc".split(" "));
F.$require("corelib/enumerable");return function(a,$super,E){function t(){}a=t=h(a,$super,"Hash",t);var m=a.$$proto,C=[a].concat(E),e,c,l,d,y,v,g,k,q,sa,u,r,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,F,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,La,Ka,Ha,Ma,Ga,Ia;a.$include(n(C,"Enumerable"));m.$$is_hash=!0;b.defs(a,"$[]",e=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];var d=c.length,e;if(1===d){b=n(C,"Opal")["$coerce_to?"](c["$[]"](0),
n(C,"Hash"),"to_hash");if(b!==x)return this.$allocate()["$merge!"](b);c=n(C,"Opal")["$coerce_to?"](c["$[]"](0),n(C,"Array"),"to_ary");c===x&&this.$raise(n(C,"ArgumentError"),"odd number of arguments for Hash");d=c.length;b=this.$allocate();for(e=0;e<d;e++)if(c[e].$$is_array)switch(c[e].length){case 1:b.$store(c[e][0],x);break;case 2:b.$store(c[e][0],c[e][1]);break;default:this.$raise(n(C,"ArgumentError"),"invalid number of elements ("+c[e].length+" for 1..2)")}return b}0!==d%2&&this.$raise(n(C,"ArgumentError"),
"odd number of arguments for Hash");b=this.$allocate();for(e=0;e<d;e+=2)b.$store(c[e],c[e+1]);return b},e.$$arity=-1);b.defs(a,"$allocate",c=function(){var a=new this.$$alloc;b.hash_init(a);a.$$none=x;a.$$proc=x;return a},c.$$arity=0);b.defs(a,"$try_convert",l=function(a){return n(C,"Opal")["$coerce_to?"](a,n(C,"Hash"),"to_hash")},l.$$arity=1);b.def(a,"$initialize",d=function(a){var c=d.$$p,b=c||x;c&&(d.$$p=null);void 0!==a&&b!==x&&this.$raise(n(C,"ArgumentError"),"wrong number of arguments (1 for 0)");
this.$$none=void 0===a?x:a;this.$$proc=b;return this},d.$$arity=-1);b.def(a,"$==",y=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var c=0,d=this.$$keys,e=d.length,g,k;c<e;c++)if(g=d[c],g.$$is_string?(k=this.$$smap[g],g=a.$$smap[g]):(k=g.value,g=b.hash_get(a,g.key)),void 0===g||!k["$eql?"](g))return!1;return!0},y.$$arity=1);b.def(a,"$>=",v=function(a){var c,b=x;a=n(C,"Opal")["$coerce_to!"](a,n(C,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;
b=!0;A(a,"each",[],(c=function(a,d){var e=c.$$s||this,g=x;null==a&&(a=x);null==d&&(d=x);g=e.$fetch(a,null);if(null==g||g!==d)b=!1},c.$$s=this,c.$$arity=2,c));return b},v.$$arity=1);b.def(a,"$>",g=function(a){a=n(C,"Opal")["$coerce_to!"](a,n(C,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:B(this,a)},g.$$arity=1);b.def(a,"$<",k=function(a){a=n(C,"Opal")["$coerce_to!"](a,n(C,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},k.$$arity=1);b.def(a,
"$<=",q=function(a){a=n(C,"Opal")["$coerce_to!"](a,n(C,"Hash"),"to_hash");return B(a,this)},q.$$arity=1);b.def(a,"$[]",sa=function(a){var c=b.hash_get(this,a);return void 0!==c?c:this.$default(a)},sa.$$arity=1);b.def(a,"$[]=",u=function(a,c){b.hash_put(this,a,c);return c},u.$$arity=2);b.def(a,"$assoc",r=function(a){for(var c=0,b=this.$$keys,d=b.length,e;c<d;c++)if(e=b[c],e.$$is_string){if(e["$=="](a))return[e,this.$$smap[e]]}else if(e.key["$=="](a))return[e.key,e.value];return x},r.$$arity=1);b.def(a,
"$clear",D=function(){b.hash_init(this);return this},D.$$arity=0);b.def(a,"$clone",aa=function(){var a=new this.$$class.$$alloc;b.hash_init(a);b.hash_clone(this,a);return a},aa.$$arity=0);b.def(a,"$compact",da=function(){for(var a=b.hash(),c=0,d=this.$$keys,e=d.length,g,k;c<e;c++)g=d[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),k!==x&&b.hash_put(a,g,k);return a},da.$$arity=0);b.def(a,"$compact!",J=function(){for(var a=!1,c=0,d=this.$$keys,e=d.length,g,k;c<e;c++)g=d[c],g.$$is_string?k=this.$$smap[g]:
(k=g.value,g=g.key),k===x&&void 0!==b.hash_delete(this,g)&&(a=!0,e--,c--);return a?this:x},J.$$arity=0);b.def(a,"$compare_by_identity",ja=function(){var a,c,d,e=this.$$keys,g;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;g=p([],{}).$compare_by_identity();a=0;for(c=e.length;a<c;a++)d=e[a],d.$$is_string||(d=d.key),b.hash_put(g,d,b.hash_get(this,d));this.$$by_identity=!0;this.$$map=g.$$map;this.$$smap=g.$$smap;return this},ja.$$arity=0);b.def(a,"$compare_by_identity?",
va=function(){return!0===this.$$by_identity},va.$$arity=0);b.def(a,"$default",z=function(a){return void 0!==a&&this.$$proc!==x&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?x:this.$$none},z.$$arity=-1);b.def(a,"$default=",T=function(a){this.$$proc=x;return this.$$none=a},T.$$arity=1);b.def(a,"$default_proc",oa=function(){return void 0!==this.$$proc?this.$$proc:x},oa.$$arity=0);b.def(a,"$default_proc=",ba=function(a){var c=a;c!==x&&(c=n(C,"Opal")["$coerce_to!"](c,n(C,"Proc"),
"to_proc"),c["$lambda?"]()&&2!==c.$arity().$abs()&&this.$raise(n(C,"TypeError"),"default_proc takes two arguments"));this.$$none=x;this.$$proc=c;return a},ba.$$arity=1);b.def(a,"$delete",G=function(a){var c=G.$$p,d=c||x;c&&(G.$$p=null);c=b.hash_delete(this,a);return void 0!==c?c:d!==x?b.yield1(d,a):x},G.$$arity=1);b.def(a,"$delete_if",Q=function(){var a,c=Q.$$p,d=c||x;c&&(Q.$$p=null);if(!w(d))return A(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,
a));for(var c=0,e=this.$$keys,g=e.length,k,l;c<g;c++)k=e[c],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),l=d(k,l),!1!==l&&l!==x&&void 0!==b.hash_delete(this,k)&&(g--,c--);return this},Q.$$arity=0);b.alias(a,"dup","clone");b.def(a,"$dig",R=function(a,c){var d,e=x,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var g=1;g<e;g++)d[g-1]=arguments[g];e=this["$[]"](a);if(e===x||0===d.length)return e;w(e["$respond_to?"]("dig"))||this.$raise(n(C,"TypeError"),""+e.$class()+" does not have #dig method");
return A(e,"dig",b.to_a(d))},R.$$arity=-2);b.def(a,"$each",L=function(){var a,c=L.$$p,d=c||x;c&&(L.$$p=null);if(!w(d))return A(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.$$keys,g=e.length,k,l;c<g;c++)k=e[c],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),b.yield1(d,[k,l]);return this},L.$$arity=0);b.def(a,"$each_key",S=function(){var a,c=S.$$p,b=c||x;c&&(S.$$p=null);if(!w(b))return A(this,"enum_for",["each_key"],(a=function(){return(a.$$s||
this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,d=this.$$keys,e=d.length,g;c<e;c++)g=d[c],b(g.$$is_string?g:g.key);return this},S.$$arity=0);b.alias(a,"each_pair","each");b.def(a,"$each_value",W=function(){var a,c=W.$$p,b=c||x;c&&(W.$$p=null);if(!w(b))return A(this,"enum_for",["each_value"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,d=this.$$keys,e=d.length,g;c<e;c++)g=d[c],b(g.$$is_string?this.$$smap[g]:g.value);return this},W.$$arity=0);b.def(a,"$empty?",
O=function(){return 0===this.$$keys.length},O.$$arity=0);b.alias(a,"eql?","==");b.def(a,"$fetch",X=function(a,c){var d=X.$$p,e=d||x;d&&(X.$$p=null);d=b.hash_get(this,a);return void 0!==d?d:e!==x?e(a):void 0!==c?c:this.$raise(n(C,"KeyError").$new("key not found: "+a.$inspect(),p(["key","receiver"],{key:a,receiver:this})))},X.$$arity=-2);b.def(a,"$fetch_values",N=function(a){var c,b,d=N.$$p,e=d||x,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var k=0;k<g;k++)b[k-0]=arguments[k];d&&(N.$$p=null);
return A(b,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=x);return A(b,"fetch",[a],e.$to_proc())},c.$$s=this,c.$$arity=1,c))},N.$$arity=-1);b.def(a,"$flatten",ea=function(a){null==a&&(a=1);a=n(C,"Opal")["$coerce_to!"](a,n(C,"Integer"),"to_int");for(var c=[],b=0,d=this.$$keys,e=d.length,g,k;b<e;b++)g=d[b],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),c.push(g),k.$$is_array?1===a?c.push(k):c=c.concat(k.$flatten(a-2)):c.push(k);return c},ea.$$arity=-1);b.def(a,"$has_key?",pa=function(a){return void 0!==
b.hash_get(this,a)},pa.$$arity=1);b.def(a,"$has_value?",F=function(a){for(var c=0,b=this.$$keys,d=b.length,e;c<d;c++)if(e=b[c],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},F.$$arity=1);b.def(a,"$hash",P=function(){var a=void 0===b.hash_ids,c=this.$object_id(),d=["Hash"],e,g;try{a&&(b.hash_ids=Object.create(null));if(b[c])return"self";for(e in b.hash_ids)if(g=b.hash_ids[e],this["$eql?"](g))return"self";b.hash_ids[c]=this;for(var c=0,k=this.$$keys,l=k.length;c<l;c++)e=k[c],e.$$is_string?
d.push([e,this.$$smap[e].$hash()]):d.push([e.key_hash,e.value.$hash()]);return d.sort().join()}finally{a&&(b.hash_ids=void 0)}},P.$$arity=0);b.alias(a,"include?","has_key?");b.def(a,"$index",U=function(a){for(var c=0,b=this.$$keys,d=b.length,e,g;c<d;c++)if(e=b[c],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),g["$=="](a))return e;return x},U.$$arity=1);b.def(a,"$indexes",ia=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];for(var d=[],e=
0,g=c.length,k;e<g;e++)k=c[e],k=b.hash_get(this,k),void 0===k?d.push(this.$default()):d.push(k);return d},ia.$$arity=-1);b.alias(a,"indices","indexes");var H;b.def(a,"$inspect",V=function(){var a=void 0===H,c=this.$object_id(),b=[];try{a&&(H={});if(H.hasOwnProperty(c))return"{...}";H[c]=!0;for(var c=0,d=this.$$keys,e=d.length,g,k;c<e;c++)g=d[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),b.push(g.$inspect()+"=>"+k.$inspect());return"{"+b.join(", ")+"}"}finally{a&&(H=void 0)}},V.$$arity=0);
b.def(a,"$invert",ha=function(){for(var a=b.hash(),c=0,d=this.$$keys,e=d.length,g,k;c<e;c++)g=d[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),b.hash_put(a,k,g);return a},ha.$$arity=0);b.def(a,"$keep_if",Z=function(){var a,c=Z.$$p,d=c||x;c&&(Z.$$p=null);if(!w(d))return A(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.$$keys,g=e.length,k,l;c<g;c++)k=e[c],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),l=d(k,l),!1!==l&&
l!==x||void 0===b.hash_delete(this,k)||(g--,c--);return this},Z.$$arity=0);b.alias(a,"key","index");b.alias(a,"key?","has_key?");b.def(a,"$keys",qa=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,e;c<d;c++)e=b[c],e.$$is_string?a.push(e):a.push(e.key);return a},qa.$$arity=0);b.def(a,"$length",ma=function(){return this.$$keys.length},ma.$$arity=0);b.alias(a,"member?","has_key?");b.def(a,"$merge",fa=function(a){var c=fa.$$p,b=c||x;c&&(fa.$$p=null);return A(this.$dup(),"merge!",[a],b.$to_proc())},
fa.$$arity=1);b.def(a,"$merge!",ka=function(a){var c=ka.$$p,d=c||x;c&&(ka.$$p=null);a.$$is_hash||(a=n(C,"Opal")["$coerce_to!"](a,n(C,"Hash"),"to_hash"));var e=a.$$keys,g=e.length,k,l,m;if(d===x){for(c=0;c<g;c++)k=e[c],k.$$is_string?m=a.$$smap[k]:(m=k.value,k=k.key),b.hash_put(this,k,m);return this}for(c=0;c<g;c++)k=e[c],k.$$is_string?m=a.$$smap[k]:(m=k.value,k=k.key),l=b.hash_get(this,k),void 0===l?b.hash_put(this,k,m):b.hash_put(this,k,d(k,l,m));return this},ka.$$arity=1);b.def(a,"$rassoc",Ba=function(a){for(var c=
0,b=this.$$keys,d=b.length,e,g;c<d;c++)if(e=b[c],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),g["$=="](a))return[e,g];return x},Ba.$$arity=1);b.def(a,"$rehash",Y=function(){b.hash_rehash(this);return this},Y.$$arity=0);b.def(a,"$reject",la=function(){var a,c=la.$$p,d=c||x;c&&(la.$$p=null);if(!w(d))return A(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=b.hash(),e=0,g=this.$$keys,k=g.length,l,m,h;e<k;e++)l=g[e],l.$$is_string?m=this.$$smap[l]:
(m=l.value,l=l.key),h=d(l,m),!1!==h&&h!==x||b.hash_put(c,l,m);return c},la.$$arity=0);b.def(a,"$reject!",na=function(){var a,c=na.$$p,d=c||x;c&&(na.$$p=null);if(!w(d))return A(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=!1,e=0,g=this.$$keys,k=g.length,l,m;e<k;e++)l=g[e],l.$$is_string?m=this.$$smap[l]:(m=l.value,l=l.key),m=d(l,m),!1!==m&&m!==x&&void 0!==b.hash_delete(this,l)&&(c=!0,k--,e--);return c?this:x},na.$$arity=0);b.def(a,"$replace",
wa=function(a){var c=x;a=n(C,"Opal")["$coerce_to!"](a,n(C,"Hash"),"to_hash");b.hash_init(this);for(var c=0,d=a.$$keys,e=d.length,g,k;c<e;c++)g=d[c],g.$$is_string?k=a.$$smap[g]:(k=g.value,g=g.key),b.hash_put(this,g,k);w(a.$default_proc())?(c=[a.$default_proc()],A(this,"default_proc=",b.to_a(c))):(c=[a.$default()],A(this,"default=",b.to_a(c)));a=c;c=c.length;c="number"===typeof c?c-1:c["$-"](1);a[c];return this},wa.$$arity=1);b.def(a,"$select",ta=function(){var a,c=ta.$$p,d=c||x;c&&(ta.$$p=null);if(!w(d))return A(this,
"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=b.hash(),e=0,g=this.$$keys,k=g.length,l,m,h;e<k;e++)l=g[e],l.$$is_string?m=this.$$smap[l]:(m=l.value,l=l.key),h=d(l,m),!1!==h&&h!==x&&b.hash_put(c,l,m);return c},ta.$$arity=0);b.def(a,"$select!",Ca=function(){var a,c=Ca.$$p,d=c||x;c&&(Ca.$$p=null);if(!w(d))return A(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=x,e=0,g=this.$$keys,k=g.length,
l,m;e<k;e++)if(l=g[e],l.$$is_string?m=this.$$smap[l]:(m=l.value,l=l.key),m=d(l,m),!1===m||m===x)void 0!==b.hash_delete(this,l)&&(k--,e--),c=this;return c},Ca.$$arity=0);b.def(a,"$shift",ya=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(x)},ya.$$arity=0);b.alias(a,"size","length");b.def(a,"$slice",Aa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];for(var d=b.hash(),e=0,
g=c.length;e<g;e++){var k=c[e],l=b.hash_get(this,k);void 0!==l&&b.hash_put(d,k,l)}return d},Aa.$$arity=-1);b.alias(a,"store","[]=");b.def(a,"$to_a",xa=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,e,g;c<d;c++)e=b[c],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),a.push([e,g]);return a},xa.$$arity=0);b.def(a,"$to_h",Da=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash.$$alloc;b.hash_init(a);b.hash_clone(this,a);return a},Da.$$arity=0);b.def(a,"$to_hash",Fa=function(){return this},
Fa.$$arity=0);b.def(a,"$to_proc",La=function(){var a;return A(this,"proc",[],(a=function(c){var b=a.$$s||this;null==c&&b.$raise(n(C,"ArgumentError"),"no key given");return b["$[]"](c)},a.$$s=this,a.$$arity=-1,a))},La.$$arity=0);b.alias(a,"to_s","inspect");b.def(a,"$transform_keys",Ka=function(){var a,c=Ka.$$p,d=c||x;c&&(Ka.$$p=null);if(!w(d))return A(this,"enum_for",["transform_keys"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=b.hash(),e=0,g=this.$$keys,k=g.length,
l,m;e<k;e++)l=g[e],l.$$is_string?m=this.$$smap[l]:(m=l.value,l=l.key),l=b.yield1(d,l),b.hash_put(c,l,m);return c},Ka.$$arity=0);b.def(a,"$transform_keys!",Ha=function(){var a,c=Ha.$$p,d=c||x;c&&(Ha.$$p=null);if(!w(d))return A(this,"enum_for",["transform_keys!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));var c=b.slice.call(this.$$keys),e,g=c.length,k,l,m;for(e=0;e<g;e++)k=c[e],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),m=b.yield1(d,k),b.hash_delete(this,k),b.hash_put(this,
m,l);return this},Ha.$$arity=0);b.def(a,"$transform_values",Ma=function(){var a,c=Ma.$$p,d=c||x;c&&(Ma.$$p=null);if(!w(d))return A(this,"enum_for",["transform_values"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=b.hash(),e=0,g=this.$$keys,k=g.length,l,m;e<k;e++)l=g[e],l.$$is_string?m=this.$$smap[l]:(m=l.value,l=l.key),m=b.yield1(d,m),b.hash_put(c,l,m);return c},Ma.$$arity=0);b.def(a,"$transform_values!",Ga=function(){var a,c=Ga.$$p,d=c||x;c&&(Ga.$$p=null);if(!w(d))return A(this,
"enum_for",["transform_values!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.$$keys,g=e.length,k,l;c<g;c++)k=e[c],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),l=b.yield1(d,l),b.hash_put(this,k,l);return this},Ga.$$arity=0);b.alias(a,"update","merge!");b.alias(a,"value?","has_value?");b.alias(a,"values_at","indexes");return(b.def(a,"$values",Ia=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,e;c<d;c++)e=b[c],e.$$is_string?a.push(this.$$smap[e]):
a.push(e.value);return a},Ia.$$arity=0),x)&&"values"}(r[0],null,r)},Opal.modules["corelib/number"]=function(b){function B(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function F(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function r(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function x(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}
function h(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var A=b.top,p=[],w=b.nil,a=b.const_get_qualified,f=b.const_get_relative,E=b.klass,t=b.truthy,m=b.send,C=b.hash2;b.add_stubs("$require $bridge $raise $name $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $% $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $truncate $-@ $size $<= $>= $<=> $compare $any?".split(" "));A.$require("corelib/numeric");
(function(e,$super,l){function d(){}e=d=E(e,$super,"Number",d);var y=[e].concat(l),v,g,k,q,p,u,A,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,La,Ka,Ha,Ma,Ga,Ia,H,ua,za,Na,Ja,M,ca,Oa,ra,Qa,Sa,Ra,I,Ta,Ua;f(y,"Opal").$bridge(e,Number);Number.prototype.$$is_number=!0;e.$$is_number_class=!0;(function(a,d){var e=[a].concat(d),g;b.def(a,"$allocate",g=function(){return this.$raise(f(e,"TypeError"),"allocator undefined for "+this.$name())},
g.$$arity=0);b.udef(a,"$new");return w})(b.get_singleton_class(e),y);b.def(e,"$coerce",v=function(a){if(a!==w){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[f(y,"Opal")["$coerce_to!"](a,f(y,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(f(y,"TypeError"),"can't convert "+a.$class()+" into Float")},v.$$arity=1);b.def(e,"$__id__",g=function(){return 2*this+1},g.$$arity=0);b.alias(e,"object_id","__id__");b.def(e,"$+",k=function(a){return a.$$is_number?
this+a:this.$__coerced__("+",a)},k.$$arity=1);b.def(e,"$-",q=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},q.$$arity=1);b.def(e,"$*",p=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},p.$$arity=1);b.def(e,"$/",u=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},u.$$arity=1);b.alias(e,"fdiv","/");b.def(e,"$%",A=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(f(y,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?
(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},A.$$arity=1);b.def(e,"$&",D=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},D.$$arity=1);b.def(e,"$|",aa=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},aa.$$arity=1);b.def(e,"$^",da=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},da.$$arity=1);b.def(e,"$<",J=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},J.$$arity=1);b.def(e,"$<=",ja=function(a){return a.$$is_number?
this<=a:this.$__coerced__("<=",a)},ja.$$arity=1);b.def(e,"$>",va=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},va.$$arity=1);b.def(e,"$>=",z=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},z.$$arity=1);b.def(e,"$<=>",T=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?w:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(d){if(b.rescue(d,[f(y,"ArgumentError")]))try{return w}finally{b.pop_exception()}else throw d;}},T.$$arity=1);b.def(e,"$<<",oa=function(a){a=
f(y,"Opal")["$coerce_to!"](a,f(y,"Integer"),"to_int");return 0<a?this<<a:this>>-a},oa.$$arity=1);b.def(e,"$>>",ba=function(a){a=f(y,"Opal")["$coerce_to!"](a,f(y,"Integer"),"to_int");return 0<a?this>>a:this<<-a},ba.$$arity=1);b.def(e,"$[]",G=function(a){a=f(y,"Opal")["$coerce_to!"](a,f(y,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},G.$$arity=1);b.def(e,"$+@",Q=function(){return+this},Q.$$arity=0);b.def(e,"$-@",R=function(){return-this},R.$$arity=0);b.def(e,"$~",L=function(){return~this},
L.$$arity=0);b.def(e,"$**",S=function(a){var b,d;return t(f(y,"Integer")["$==="](a))?t(t(b=f(y,"Integer")["$==="](this)["$!"]())?b:B(a,0))?Math.pow(this,a):f(y,"Rational").$new(this,1)["$**"](a):t(F(this,0)?t(d=f(y,"Float")["$==="](a))?d:f(y,"Rational")["$==="](a):F(this,0))?f(y,"Complex").$new(this,0)["$**"](a.$to_f()):t(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},S.$$arity=1);b.def(e,"$===",W=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?
a["$=="](this):!1},W.$$arity=1);b.def(e,"$==",O=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},O.$$arity=1);b.def(e,"$abs",X=function(){return Math.abs(this)},X.$$arity=0);b.def(e,"$abs2",N=function(){return Math.abs(this*this)},N.$$arity=0);b.def(e,"$allbits?",ea=function(a){a=f(y,"Opal")["$coerce_to!"](a,f(y,"Integer"),"to_int");return(this&a)==a},ea.$$arity=1);b.def(e,"$anybits?",pa=function(a){a=f(y,"Opal")["$coerce_to!"](a,f(y,"Integer"),
"to_int");return 0!==(this&a)},pa.$$arity=1);b.def(e,"$angle",ga=function(){return t(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},ga.$$arity=0);b.alias(e,"arg","angle");b.alias(e,"phase","angle");b.def(e,"$bit_length",P=function(){t(f(y,"Integer")["$==="](this))||this.$raise(f(y,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,b=0>this?~this:this;0!=b;)a+=1,b>>>=1;return a},P.$$arity=0);b.def(e,
"$ceil",U=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.ceil(b*a)/a;0===b%1&&(a=Math.round(a));return a},U.$$arity=-1);b.def(e,"$chr",ia=function(a){return String.fromCharCode(this)},ia.$$arity=-1);b.def(e,"$denominator",V=function(){var a,d=V.$$p,f=w,e=w,g=w;d&&(V.$$p=null);e=0;g=arguments.length;for(f=Array(g);e<g;e++)f[e]=arguments[e];return t(t(a=this["$nan?"]())?a:this["$infinite?"]())?1:m(this,b.find_super_dispatcher(this,"denominator",V,!1),
f,d)},V.$$arity=0);b.def(e,"$downto",ha=function(a){var b,d=ha.$$p,e=d||w;d&&(ha.$$p=null);if(e===w)return m(this,"enum_for",["downto",a],(b=function(){var d=b.$$s||this;t(f(y,"Numeric")["$==="](a))||d.$raise(f(y,"ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return t(B(a,d))?0:r(x(d,a),1)},b.$$s=this,b.$$arity=0,b));a.$$is_number||this.$raise(f(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(d=this;d>=a;d--)e(d);return this},ha.$$arity=
1);b.alias(e,"eql?","==");b.def(e,"$equal?",Z=function(a){var b;return t(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},Z.$$arity=1);b.def(e,"$even?",qa=function(){return 0===this%2},qa.$$arity=0);b.def(e,"$floor",ma=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=Math.floor(b*a)/a;0===b%1&&(a=Math.round(a));return a},ma.$$arity=-1);b.def(e,"$gcd",fa=function(a){t(f(y,"Integer")["$==="](a))||this.$raise(f(y,"TypeError"),"not an integer");var b=Math.abs(this);
for(a=Math.abs(a);0<b;){var d=b,b=a%b;a=d}return a},fa.$$arity=1);b.def(e,"$gcdlcm",ka=function(a){return[this.$gcd(),this.$lcm()]},ka.$$arity=1);b.def(e,"$integer?",Ba=function(){return 0===this%1},Ba.$$arity=0);b.def(e,"$is_a?",Y=function(a){var d=Y.$$p,e=w,g=w,k=w;d&&(Y.$$p=null);g=0;k=arguments.length;for(e=Array(k);g<k;g++)e[g]=arguments[g];return t(a["$=="](f(y,"Integer"))?f(y,"Integer")["$==="](this):a["$=="](f(y,"Integer")))||t(a["$=="](f(y,"Integer"))?f(y,"Integer")["$==="](this):a["$=="](f(y,
"Integer")))||t(a["$=="](f(y,"Float"))?f(y,"Float")["$==="](this):a["$=="](f(y,"Float")))?!0:m(this,b.find_super_dispatcher(this,"is_a?",Y,!1),e,d)},Y.$$arity=1);b.alias(e,"kind_of?","is_a?");b.def(e,"$instance_of?",la=function(a){var d=la.$$p,e=w,g=w,k=w;d&&(la.$$p=null);g=0;k=arguments.length;for(e=Array(k);g<k;g++)e[g]=arguments[g];return t(a["$=="](f(y,"Integer"))?f(y,"Integer")["$==="](this):a["$=="](f(y,"Integer")))||t(a["$=="](f(y,"Integer"))?f(y,"Integer")["$==="](this):a["$=="](f(y,"Integer")))||
t(a["$=="](f(y,"Float"))?f(y,"Float")["$==="](this):a["$=="](f(y,"Float")))?!0:m(this,b.find_super_dispatcher(this,"instance_of?",la,!1),e,d)},la.$$arity=1);b.def(e,"$lcm",na=function(a){t(f(y,"Integer")["$==="](a))||this.$raise(f(y,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},na.$$arity=1);b.alias(e,"magnitude","abs");b.alias(e,"modulo","%");b.def(e,"$next",wa=function(){return this+1},wa.$$arity=0);b.def(e,"$nobits?",ta=function(a){a=f(y,"Opal")["$coerce_to!"](a,
f(y,"Integer"),"to_int");return 0==(this&a)},ta.$$arity=1);b.def(e,"$nonzero?",Ca=function(){return 0==this?w:this},Ca.$$arity=0);b.def(e,"$numerator",ya=function(){var a,d=ya.$$p,f=w,e=w,g=w;d&&(ya.$$p=null);e=0;g=arguments.length;for(f=Array(g);e<g;e++)f[e]=arguments[e];return t(t(a=this["$nan?"]())?a:this["$infinite?"]())?this:m(this,b.find_super_dispatcher(this,"numerator",ya,!1),f,d)},ya.$$arity=0);b.def(e,"$odd?",Aa=function(){return 0!==this%2},Aa.$$arity=0);b.def(e,"$ord",xa=function(){return this},
xa.$$arity=0);b.def(e,"$pow",Da=function(a,b){0==this&&this.$raise(f(y,"ZeroDivisionError"),"divided by 0");if(void 0===b)return this["$**"](a);f(y,"Integer")["$==="](a)||this.$raise(f(y,"TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer");0>a&&this.$raise(f(y,"TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified");f(y,"Integer")["$==="](b)||this.$raise(f(y,"TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers");
0===b&&this.$raise(f(y,"ZeroDivisionError"),"divided by 0");return this["$**"](a)["$%"](b)},Da.$$arity=-2);b.def(e,"$pred",Fa=function(){return this-1},Fa.$$arity=0);b.def(e,"$quo",La=function(a){var d=La.$$p,e=w,g=w,k=w;d&&(La.$$p=null);g=0;k=arguments.length;for(e=Array(k);g<k;g++)e[g]=arguments[g];return t(f(y,"Integer")["$==="](this))?m(this,b.find_super_dispatcher(this,"quo",La,!1),e,d):n(this,a)},La.$$arity=1);b.def(e,"$rationalize",Ka=function(d){var e,g,k=w;e=w;1<arguments.length&&this.$raise(f(y,
"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return t(f(y,"Integer")["$==="](this))?f(y,"Rational").$new(this,1):t(this["$infinite?"]())?this.$raise(f(y,"FloatDomainError"),"Infinity"):t(this["$nan?"]())?this.$raise(f(y,"FloatDomainError"),"NaN"):t(null==d)?(g=f(y,"Math").$frexp(this),e=b.to_ary(g),k=null==e[0]?w:e[0],e=null==e[1]?w:e[1],g,k=f(y,"Math").$ldexp(k,a(f(y,"Float"),"MANT_DIG")).$to_i(),e=x(e,a(f(y,"Float"),"MANT_DIG")),f(y,"Rational").$new(h(2,k),1["$<<"](x(1,
e))).$rationalize(f(y,"Rational").$new(1,1["$<<"](x(1,e))))):this.$to_r().$rationalize(d)},Ka.$$arity=-1);b.def(e,"$remainder",Ha=function(a){return x(this,h(a,n(this,a).$truncate()))},Ha.$$arity=1);b.def(e,"$round",Ma=function(d){var e,g,k=w;if(t(f(y,"Integer")["$==="](this))){if(t(null==d))return this;t(t(e=f(y,"Float")["$==="](d))?d["$infinite?"]():e)&&this.$raise(f(y,"RangeError"),"Infinity");d=f(y,"Opal")["$coerce_to!"](d,f(y,"Integer"),"to_int");t(F(d,a(f(y,"Integer"),"MIN")))&&this.$raise(f(y,
"RangeError"),"out of bounds");if(t(0<=d))return this;d=d["$-@"]();if(.415241*d-.125>this.$size())return 0;d=Math.pow(10,d);g=Math.floor((Math.abs(g)+d/2)/d)*d;return 0>this?-g:g}t(t(e=this["$nan?"]())?null==d:e)&&this.$raise(f(y,"FloatDomainError"),"NaN");d=f(y,"Opal")["$coerce_to!"](d||0,f(y,"Integer"),"to_int");if(t("number"===typeof d?0>=d:d["$<="](0)))t(this["$nan?"]())?this.$raise(f(y,"RangeError"),"NaN"):t(this["$infinite?"]())&&this.$raise(f(y,"FloatDomainError"),"Infinity");else{if(d["$=="](0))return Math.round(this);
if(t(t(e=this["$nan?"]())?e:this["$infinite?"]()))return this}g=f(y,"Math").$frexp(this);e=b.to_ary(g);k=null==e[1]?w:e[1];g;e=x(r(a(f(y,"Float"),"DIG"),2),t(B(k,0))?n(k,4):x(n(k,3),1));e="number"===typeof d&&"number"===typeof e?d>=e:d["$>="](e);return t(e)?this:t(F(d,(t(B(k,0))?r(n(k,3),1):n(k,4))["$-@"]()))?0:Math.round(this*Math.pow(10,d))/Math.pow(10,d)},Ma.$$arity=-1);b.def(e,"$step",Ga=function(d,e,g){function k(){void 0!==M&&(H=M);void 0===H&&(H=w);v===w&&t.$raise(f(y,"TypeError"),"step must be numeric");
0===v&&t.$raise(f(y,"ArgumentError"),"step can't be 0");void 0!==z&&(v=z);if(v===w||null==v)v=1;var b=v["$<=>"](0);b===w&&t.$raise(f(y,"ArgumentError"),"0 can't be coerced into "+v.$class());if(H===w||null==H)H=0<b?a(f(y,"Float"),"INFINITY"):a(f(y,"Float"),"INFINITY")["$-@"]();f(y,"Opal").$compare(t,H)}function l(){if(0<v&&t>H||0>v&&t<H)return 0;if(Infinity===v||-Infinity===v)return 1;var b=Math.abs,d=Math.floor,b=(b(t)+b(H)+b(H-t))/b(v)*a(f(y,"Float"),"EPSILON");if(Infinity===b||-Infinity===b)return 0;
.5<b&&(b=.5);return d((H-t)/v+b)+1}function h(){k();if(0===v)return Infinity;if(0!==v%1)return l();if(0<v&&t>H||0>v&&t<H)return 0;var a=Math.ceil,b=Math.abs,d=b(t-H)+1,b=b(v);return a(d/b)}var q,t=this,u,M,z,H,v,ca=Ga.$$p,E=ca||w,D=u=w;u=b.slice.call(arguments,0,arguments.length);g=b.extract_kwargs(u);if(null==g||!g.$$is_hash)if(null==g)g=C([],{});else throw b.ArgumentError.$new("expected kwargs");M=g.$$smap.to;z=g.$$smap.by;0<u.length&&(H=u.splice(0,1)[0]);0<u.length&&(v=u.splice(0,1)[0]);ca&&(Ga.$$p=
null);void 0!==H&&void 0!==M&&t.$raise(f(y,"ArgumentError"),"to is given twice");void 0!==v&&void 0!==z&&t.$raise(f(y,"ArgumentError"),"step is given twice");if(E===w)return u=[],D=C([],{}),void 0!==H&&u.push(H),void 0!==v&&u.push(v),void 0!==M&&b.hash_put(D,"to",M),void 0!==z&&b.hash_put(D,"by",z),D["$any?"]()&&u.push(D),m(t,"enum_for",["step"].concat(b.to_a(u)),(q=function(){return h()},q.$$s=t,q.$$arity=0,q));k();if(0===v)for(;;)E(t);if(0!==t%1||0!==H%1||0!==v%1){if(q=l(),0<q)if(Infinity===v||
-Infinity===v)E(t);else if(ca=0,0<v)for(;ca<q;)u=ca*v+t,H<u&&(u=H),E(u),ca+=1;else for(;ca<q;)u=ca*v+t,H>u&&(u=H),E(u),ca+=1}else if(q=t,0<v)for(;q<=H;)E(q),q+=v;else for(;q>=H;)E(q),q+=v;return t},Ga.$$arity=-1);b.alias(e,"succ","next");b.def(e,"$times",Ia=function(){var a,b=Ia.$$p,d=b||w;b&&(Ia.$$p=null);if(!t(d))return m(this,"enum_for",["times"],(a=function(){return a.$$s||this},a.$$s=this,a.$$arity=0,a));for(b=0;b<this;b++)d(b);return this},Ia.$$arity=0);b.def(e,"$to_f",H=function(){return this},
H.$$arity=0);b.def(e,"$to_i",ua=function(){return parseInt(this,10)},ua.$$arity=0);b.alias(e,"to_int","to_i");b.def(e,"$to_r",za=function(){var d,e,g=w;d=w;if(t(f(y,"Integer")["$==="](this)))return f(y,"Rational").$new(this,1);e=f(y,"Math").$frexp(this);d=b.to_ary(e);g=null==d[0]?w:d[0];d=null==d[1]?w:d[1];e;g=f(y,"Math").$ldexp(g,a(f(y,"Float"),"MANT_DIG")).$to_i();d=x(d,a(f(y,"Float"),"MANT_DIG"));return h(g,a(f(y,"Float"),"RADIX")["$**"](d)).$to_r()},za.$$arity=0);b.def(e,"$to_s",Na=function(a){var b;
null==a&&(a=10);a=f(y,"Opal")["$coerce_to!"](a,f(y,"Integer"),"to_int");t(t(b=F(a,2))?b:B(a,36))&&this.$raise(f(y,"ArgumentError"),"invalid radix "+a);return this.toString(a)},Na.$$arity=-1);b.def(e,"$truncate",Ja=function(a){null==a&&(a=0);var b=this.$to_f();if(0===b%1&&0<=a)return b;a=Math.pow(10,a);a=parseInt(b*a,10)/a;0===b%1&&(a=Math.round(a));return a},Ja.$$arity=-1);b.alias(e,"inspect","to_s");b.def(e,"$digits",M=function(b){null==b&&(b=10);F(this,0)&&this.$raise(a(f(y,"Math"),"DomainError"),
"out of domain");b=f(y,"Opal")["$coerce_to!"](b,f(y,"Integer"),"to_int");t(F(b,2))&&this.$raise(f(y,"ArgumentError"),"invalid radix "+b);for(var d=this,e=[];0!==d;)e.push(d%b),d=parseInt(d/b,10);return e},M.$$arity=-1);b.def(e,"$divmod",ca=function(a){var d,e=ca.$$p,g=w,k=w,l=w;e&&(ca.$$p=null);k=0;l=arguments.length;for(g=Array(l);k<l;k++)g[k]=arguments[k];return t(t(d=this["$nan?"]())?d:a["$nan?"]())?this.$raise(f(y,"FloatDomainError"),"NaN"):t(this["$infinite?"]())?this.$raise(f(y,"FloatDomainError"),
"Infinity"):m(this,b.find_super_dispatcher(this,"divmod",ca,!1),g,e)},ca.$$arity=1);b.def(e,"$upto",Oa=function(a){var b,d=Oa.$$p,e=d||w;d&&(Oa.$$p=null);if(e===w)return m(this,"enum_for",["upto",a],(b=function(){var d=b.$$s||this;t(f(y,"Numeric")["$==="](a))||d.$raise(f(y,"ArgumentError"),"comparison of "+d.$class()+" with "+a.$class()+" failed");return t(F(a,d))?0:r(x(a,d),1)},b.$$s=this,b.$$arity=0,b));a.$$is_number||this.$raise(f(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+
" failed");for(d=this;d<=a;d++)e(d);return this},Oa.$$arity=1);b.def(e,"$zero?",ra=function(){return 0==this},ra.$$arity=0);b.def(e,"$size",Qa=function(){return 4},Qa.$$arity=0);b.def(e,"$nan?",Sa=function(){return isNaN(this)},Sa.$$arity=0);b.def(e,"$finite?",Ra=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Ra.$$arity=0);b.def(e,"$infinite?",I=function(){return Infinity==this?1:-Infinity==this?-1:w},I.$$arity=0);b.def(e,"$positive?",Ta=function(){return 0!=this&&(Infinity==this||
0<1/this)},Ta.$$arity=0);return(b.def(e,"$negative?",Ua=function(){return-Infinity==this||0>1/this},Ua.$$arity=0),w)&&"negative?"})(p[0],f(p,"Numeric"),p);b.const_set(p[0],"Fixnum",f(p,"Number"));(function(e,$super,l){function d(){}e=d=E(e,$super,"Integer",d);l=[e].concat(l);e.$$is_number_class=!0;(function(d,e){var g=[d].concat(e),k,l,m;b.def(d,"$allocate",k=function(){return this.$raise(f(g,"TypeError"),"allocator undefined for "+this.$name())},k.$$arity=0);b.udef(d,"$new");b.def(d,"$===",l=function(a){return a.$$is_number?
0===a%1:!1},l.$$arity=1);return(b.def(d,"$sqrt",m=function(b){b=f(g,"Opal")["$coerce_to!"](b,f(g,"Integer"),"to_int");0>b&&this.$raise(a(f(g,"Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"');return parseInt(Math.sqrt(b),10)},m.$$arity=1),w)&&"sqrt"})(b.get_singleton_class(e),l);b.const_set(l[0],"MAX",Math.pow(2,30)-1);return b.const_set(l[0],"MIN",-Math.pow(2,30))})(p[0],f(p,"Numeric"),p);return function(a,$super,l){function d(){}a=d=E(a,$super,"Float",d);l=[a].concat(l);a.$$is_number_class=
!0;(function(a,d){var e=[a].concat(d),k,l;b.def(a,"$allocate",k=function(){return this.$raise(f(e,"TypeError"),"allocator undefined for "+this.$name())},k.$$arity=0);b.udef(a,"$new");return(b.def(a,"$===",l=function(a){return!!a.$$is_number},l.$$arity=1),w)&&"==="})(b.get_singleton_class(a),l);b.const_set(l[0],"INFINITY",Infinity);b.const_set(l[0],"MAX",Number.MAX_VALUE);b.const_set(l[0],"MIN",Number.MIN_VALUE);b.const_set(l[0],"NAN",NaN);b.const_set(l[0],"DIG",15);b.const_set(l[0],"MANT_DIG",53);
b.const_set(l[0],"RADIX",2);return b.const_set(l[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(p[0],f(p,"Numeric"),p)},Opal.modules["corelib/range"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var n=b.top,h=[],A=
b.nil,p=b.const_get_qualified,w=b.const_get_relative,a=b.klass,f=b.truthy,E=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));n.$require("corelib/enumerable");return function(h,$super,C){function e(){}h=e=a(h,$super,"Range",e);var c=h.$$proto,
l=[h].concat(C),d,y,v,g,k,q,n,u,Ea,D,aa,da,J,ja,va,z,T,oa;c.begin=c.end=c.excl=A;h.$include(w(l,"Enumerable"));c.$$is_range=!0;h.$attr_reader("begin","end");b.def(h,"$initialize",d=function(a,c,b){null==b&&(b=!1);f(this.begin)&&this.$raise(w(l,"NameError"),"'initialize' called twice");f(a["$<=>"](c))||this.$raise(w(l,"ArgumentError"),"bad value for range");this.begin=a;this.end=c;return this.excl=b},d.$$arity=-3);b.def(h,"$==",y=function(a){return a.$$is_range?this.excl===a.excl&&this.begin==a.begin&&
this.end==a.end:!1},y.$$arity=1);b.def(h,"$===",v=function(a){return this["$include?"](a)},v.$$arity=1);b.def(h,"$cover?",g=function(a){var c,b=A,b=A,b=this.begin["$<=>"](a);if(!f(f(c=b)?B(b,0):c))return!1;b=a["$<=>"](this.end);return f(this.excl)?f(c=b)?F(b,0):c:f(c=b)?B(b,0):c},g.$$arity=1);b.def(h,"$each",k=function(){var a,c=k.$$p,d=c||A,e=A,g=A;c&&(k.$$p=null);if(d===A)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(w(l,
"TypeError"),"can't iterate from Float");a=this.begin;for(c=this.end+(f(this.excl)?0:1);a<c;a++)d(a);return this}if(this.begin.$$is_string&&this.end.$$is_string)return E(this.begin,"upto",[this.end,this.excl],d.$to_proc()),this;e=this.begin;g=this.end;for(f(e["$respond_to?"]("succ"))||this.$raise(w(l,"TypeError"),"can't iterate from "+e.$class());f(F(e["$<=>"](g),0));)b.yield1(d,e),e=e.$succ();f(f(a=this.excl["$!"]())?e["$=="](g):a)&&b.yield1(d,e);return this},k.$$arity=0);b.def(h,"$eql?",q=function(a){var c,
b;return f(w(l,"Range")["$==="](a))?f(c=f(b=this.excl["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):b)?this.end["$eql?"](a.$end()):c:!1},q.$$arity=1);b.def(h,"$exclude_end?",n=function(){return this.excl},n.$$arity=0);b.def(h,"$first",u=function(a){var c=u.$$p,d=A,e=A,g=A;c&&(u.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];return f(null==a)?this.begin:E(this,b.find_super_dispatcher(this,"first",u,!1),d,c)},u.$$arity=-1);b.alias(h,"include?","cover?");b.def(h,
"$last",Ea=function(a){return f(null==a)?this.end:this.$to_a().$last(a)},Ea.$$arity=-1);b.def(h,"$max",D=function(){var a,c=D.$$p,d=c||A,e=A,g=A,k=A;c&&(D.$$p=null);g=0;k=arguments.length;for(e=Array(k);g<k;g++)e[g]=arguments[g];return d!==A?E(this,b.find_super_dispatcher(this,"max",D,!1),e,c):f(r(this.begin,this.end))?A:f(f(a=this.excl)?this.begin["$=="](this.end):a)?A:this.excl?this.end-1:this.end},D.$$arity=0);b.alias(h,"member?","cover?");b.def(h,"$min",aa=function(){var a,c=aa.$$p,d=c||A,e=A,
g=A,k=A;c&&(aa.$$p=null);g=0;k=arguments.length;for(e=Array(k);g<k;g++)e[g]=arguments[g];return d!==A?E(this,b.find_super_dispatcher(this,"min",aa,!1),e,c):f(r(this.begin,this.end))?A:f(f(a=this.excl)?this.begin["$=="](this.end):a)?A:this.begin},aa.$$arity=0);b.def(h,"$size",da=function(){var a,c=A,b=A,d=A,c=this.begin,b=this.end;f(this.excl)&&(b="number"===typeof b?b-1:b["$-"](1));if(!f(f(a=w(l,"Numeric")["$==="](c))?w(l,"Numeric")["$==="](b):a))return A;if(f(F(b,c)))return 0;d=p(w(l,"Float"),"INFINITY");
return f([c.$abs(),b.$abs()]["$include?"](d))?d:(Math.abs(b-c)+1).$to_i()},da.$$arity=0);b.def(h,"$step",J=function(a){function c(){a.$$is_number||(a=w(l,"Opal")["$coerce_to!"](a,w(l,"Integer"),"to_int"));0>a?h.$raise(w(l,"ArgumentError"),"step can't be negative"):0===a&&h.$raise(w(l,"ArgumentError"),"step can't be 0")}function d(){if(!h.begin["$respond_to?"]("succ")||h.begin.$$is_string&&h.end.$$is_string)return A;if(0===a%1){var c=h.$size();return("number"===typeof c&&"number"===typeof a?c/a:c["$/"](a)).$ceil()}var c=
h.begin,b=h.end,f=Math.abs,e=Math.floor,f=(f(c)+f(b)+f(b-c))/f(a)*p(w(l,"Float"),"EPSILON");.5<f&&(f=.5);h.excl?(e=e((b-c)/a-f),e*a+c<b&&e++):e=e((b-c)/a+f)+1;return e}var e,g,k,h=this,q=J.$$p,t=q||A,u=A;null==a&&(a=1);q&&(J.$$p=null);if(t===A)return E(h,"enum_for",["step",a],(e=function(){c();return d()},e.$$s=h,e.$$arity=0,e));c();f(h.begin.$$is_number&&h.end.$$is_number)?(u=0,function(){var c=b.new_brk();try{return E(h,"loop",[],(g=function(){var d=g.$$s||this,e=A;null==d.begin&&(d.begin=A);null==
d.excl&&(d.excl=A);null==d.end&&(d.end=A);e=x(d.begin,"number"===typeof u&&"number"===typeof a?u*a:u["$*"](a));f(d.excl)?(d=d.end,d="number"===typeof e&&"number"===typeof d?e>=d:e["$>="](d),f(d)&&b.brk(A,c)):f(r(e,d.end))&&b.brk(A,c);b.yield1(t,e);return u=x(u,1)},g.$$s=h,g.$$brk=c,g.$$arity=0,g))}catch(d){if(d===c)return d.$v;throw d;}}()):(h.begin.$$is_string&&h.end.$$is_string&&0!==a%1&&h.$raise(w(l,"TypeError"),"no implicit conversion to float from string"),E(h,"each_with_index",[],(k=function(c,
d){null==c&&(c=A);null==d&&(d=A);return d["$%"](a)["$=="](0)?b.yield1(t,c):A},k.$$s=h,k.$$arity=2,k)));return h},J.$$arity=-1);b.def(h,"$bsearch",ja=function(){var a=ja.$$p,c=a||A;a&&(ja.$$p=null);if(c===A)return this.$enum_for("bsearch");f(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(w(l,"TypeError"),"can't do binary search for "+this.begin.$class());return E(this.$to_a(),"bsearch",[],c.$to_proc())},ja.$$arity=0);b.def(h,"$to_s",va=function(){return""+this.begin+(f(this.excl)?"...":
"..")+this.end},va.$$arity=0);b.def(h,"$inspect",z=function(){return""+this.begin.$inspect()+(f(this.excl)?"...":"..")+this.end.$inspect()},z.$$arity=0);b.def(h,"$marshal_load",T=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.excl=a["$[]"]("excl")},T.$$arity=1);return(b.def(h,"$hash",oa=function(){return[this.begin,this.end,this.excl].$hash()},oa.$$arity=0),A)&&"hash"}(h[0],null,h)},Opal.modules["corelib/proc"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.slice,
n=b.klass,h=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);return function(A,$super,w){function a(){}A=a=n(A,$super,"Proc",a);var f=A.$$proto,E=[A].concat(w),t,m,C,e,c,l,d,y,v,g;f.$$is_proc=!0;f.$$is_lambda=!1;b.defs(A,"$new",t=function(){var a=t.$$p,c=a||F;a&&(t.$$p=null);h(c)||this.$raise(r(E,"ArgumentError"),"tried to create a Proc object without a block");return c},t.$$arity=0);b.def(A,"$call",m=function(a){var c,d=m.$$p,f=d||F,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var g=0;g<e;g++)c[g-
0]=arguments[g];d&&(m.$$p=null);f!==F&&(this.$$p=f);var l;if(d=this.$$brk)try{l=this.$$is_lambda?this.apply(null,c):b.yieldX(this,c)}catch(h){if(h===d)return d.$v;throw h;}else l=this.$$is_lambda?this.apply(null,c):b.yieldX(this,c);return l},m.$$arity=-1);b.alias(A,"[]","call");b.alias(A,"===","call");b.alias(A,"yield","call");b.def(A,"$to_proc",C=function(){return this},C.$$arity=0);b.def(A,"$lambda?",e=function(){return!!this.$$is_lambda},e.$$arity=0);b.def(A,"$arity",c=function(){return this.$$is_curried?
-1:this.$$arity},c.$$arity=0);b.def(A,"$source_location",l=function(){return F},l.$$arity=0);b.def(A,"$binding",d=function(){this.$$is_curried&&this.$raise(r(E,"ArgumentError"),"Can't create Binding");return F},d.$$arity=0);b.def(A,"$parameters",y=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],c,b;c=0;for(b=this.$$parameters.length;c<b;c++){var d=this.$$parameters[c];"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},
y.$$arity=0);b.def(A,"$curry",v=function(a){function c(){var d=x.call(arguments),f=d.length;f>a&&b.$$is_lambda&&!b.$$is_curried&&b.$raise(r(E,"ArgumentError"),"wrong number of arguments ("+f+" for "+a+")");if(f>=a)return b.$call.apply(b,d);f=function(){return c.apply(null,d.concat(x.call(arguments)))};f.$$is_lambda=b.$$is_lambda;f.$$is_curried=!0;return f}var b=this;void 0===a?a=b.length:(a=r(E,"Opal")["$coerce_to!"](a,r(E,"Integer"),"to_int"),b.$$is_lambda&&a!==b.length&&b.$raise(r(E,"ArgumentError"),
"wrong number of arguments ("+a+" for "+b.length+")"));c.$$is_lambda=b.$$is_lambda;c.$$is_curried=!0;return c},v.$$arity=-1);b.def(A,"$dup",g=function(){var a=this.$$original_proc||this,c=function(){return a.apply(this,arguments)},b;for(b in this)this.hasOwnProperty(b)&&(c[b]=this[b]);return c},g.$$arity=0);return b.alias(A,"clone","dup")}(B[0],Function,B)},Opal.modules["corelib/method"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.klass,n=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));
(function(h,$super,p){function w(){}h=w=x(h,$super,"Method",w);var a=h.$$proto,f=[h].concat(p),E,t,m,C,e,c,l,d,y;a.method=a.receiver=a.owner=a.name=F;h.$attr_reader("owner","receiver","name");b.def(h,"$initialize",E=function(a,c,b,d){this.receiver=a;this.owner=c;this.name=d;return this.method=b},E.$$arity=4);b.def(h,"$arity",t=function(){return this.method.$arity()},t.$$arity=0);b.def(h,"$parameters",m=function(){return this.method.$$parameters},m.$$arity=0);b.def(h,"$source_location",C=function(){var a;
return n(a=this.method.$$source_location)?a:["(eval)",0]},C.$$arity=0);b.def(h,"$comments",e=function(){var a;return n(a=this.method.$$comments)?a:[]},e.$$arity=0);b.def(h,"$call",c=function(a){var b,d=c.$$p,f=d||F,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var l=0;l<e;l++)b[l-0]=arguments[l];d&&(c.$$p=null);this.method.$$p=f;return this.method.apply(this.receiver,b)},c.$$arity=-1);b.alias(h,"[]","call");b.def(h,"$unbind",l=function(){return r(f,"UnboundMethod").$new(this.receiver.$class(),
this.owner,this.method,this.name)},l.$$arity=0);b.def(h,"$to_proc",d=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},d.$$arity=0);return(b.def(h,"$inspect",y=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},y.$$arity=0),F)&&"inspect"})(B[0],null,B);return function(h,$super,p){function w(){}h=w=x(h,$super,"UnboundMethod",w);var a=h.$$proto,f=[h].concat(p),
E,t,m,C,e,c,l;a.method=a.owner=a.name=a.source=F;h.$attr_reader("source","owner","name");b.def(h,"$initialize",E=function(a,c,b,f){this.source=a;this.owner=c;this.method=b;return this.name=f},E.$$arity=4);b.def(h,"$arity",t=function(){return this.method.$arity()},t.$$arity=0);b.def(h,"$parameters",m=function(){return this.method.$$parameters},m.$$arity=0);b.def(h,"$source_location",C=function(){var a;return n(a=this.method.$$source_location)?a:["(eval)",0]},C.$$arity=0);b.def(h,"$comments",e=function(){var a;
return n(a=this.method.$$comments)?a:[]},e.$$arity=0);b.def(h,"$bind",c=function(a){if(this.owner.$$is_module||b.is_a(a,this.owner))return r(f,"Method").$new(a,this.owner,this.method,this.name);this.$raise(r(f,"TypeError"),"can't bind singleton method to a different class (expected "+a+".kind_of?("+this.owner+" to be true)")},c.$$arity=1);return(b.def(h,"$inspect",l=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+
")>"},l.$$arity=0),F)&&"inspect"}(B[0],null,B)},Opal.modules["corelib/variables"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.gvars,n=b.hash2;b.add_stubs(["$new"]);x["&"]=x["~"]=x["`"]=x["'"]=F;x.LOADED_FEATURES=x['"']=b.loaded_features;x.LOAD_PATH=x[":"]=[];x["/"]="\n";x[","]=F;b.const_set(B[0],"ARGV",[]);b.const_set(B[0],"ARGF",r(B,"Object").$new());b.const_set(B[0],"ENV",n([],{}));x.VERBOSE=!1;x.DEBUG=!1;return x.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(b){var B=[],F=b.nil,
r=b.const_get_relative,x=b.module;b.add_stubs(["$==","$new"]);B=[x(B[0],"Opal")].concat(B);b.const_set(B[0],"REGEXP_START",r(B,"RUBY_ENGINE")["$=="]("opal")?"^":F);b.const_set(B[0],"REGEXP_END",r(B,"RUBY_ENGINE")["$=="]("opal")?"$":F);b.const_set(B[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(B[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(B[0],"INLINE_IDENTIFIER_REGEXP",r(B,"Regexp").$new("[^"+r(B,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+r(B,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(B[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(B[0],"CONST_NAME_REGEXP",r(B,"Regexp").$new(""+r(B,"REGEXP_START")+"(::)?[A-Z][^"+r(B,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+r(B,"REGEXP_END")))},Opal.modules["opal/mini"]=function(b){var B=
b.top;b.add_stubs(["$require"]);B.$require("opal/base");B.$require("corelib/nil");B.$require("corelib/boolean");B.$require("corelib/string");B.$require("corelib/comparable");B.$require("corelib/enumerable");B.$require("corelib/enumerator");B.$require("corelib/array");B.$require("corelib/hash");B.$require("corelib/number");B.$require("corelib/range");B.$require("corelib/proc");B.$require("corelib/method");B.$require("corelib/regexp");B.$require("corelib/variables");return B.$require("opal/regexp_anchors")},
Opal.modules["corelib/string/inheritance"]=function(b){var B=b.top,F=[],r=b.nil,x=b.const_get_qualified,n=b.const_get_relative,h=b.klass,A=b.send,p=b.truthy,w=b.gvars;b.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $to_s $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));B.$require("corelib/string");(function(a,$super,E){function t(){}a=t=h(a,$super,"String",t);var m=[a].concat(E),C;return(b.defs(a,"$inherited",C=function(a){var c=
r,c=n(m,"Class").$new(x(n(m,"String"),"Wrapper"));a.$$proto=c.$$proto;a.$$proto.$$class=a;a.$$alloc=c.$$alloc;a.$$parent=x(n(m,"String"),"Wrapper");a.$allocate=c.$allocate;a.$new=c.$new},C.$$arity=1),r)&&"inherited"})(F[0],null,F);return function(a,$super,E){function t(){}a=t=h(a,$super,"Wrapper",t);var m=a.$$proto;[a].concat(E);var C,e,c,l,d,y,v,g,k,q,n,u,x,D,aa,B,J,ja;m.literal=r;m.$$is_string=!0;b.defs(a,"$allocate",C=function(a){var c=C.$$p,d=r;null==a&&(a="");c&&(C.$$p=null);d=A(this,b.find_super_dispatcher(this,
"allocate",C,!1,t),[],null);d.literal=a;return d},C.$$arity=-1);b.defs(a,"$new",e=function(a){var c,d=e.$$p,g=d||r,k=r,k=arguments.length;c=k-0;0>c&&(c=0);c=Array(c);for(var l=0;l<k;l++)c[l-0]=arguments[l];d&&(e.$$p=null);k=this.$allocate();A(k,"initialize",b.to_a(c),g.$to_proc());return k},e.$$arity=-1);b.defs(a,"$[]",c=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$allocate(c)},c.$$arity=-1);b.def(a,"$initialize",l=function(a){null==
a&&(a="");return this.literal=a},l.$$arity=-1);b.def(a,"$method_missing",d=function(a){var c,e=d.$$p,g=e||r,k=r,k=arguments.length;c=k-0;0>c&&(c=0);c=Array(c);for(var l=0;l<k;l++)c[l-0]=arguments[l];e&&(d.$$p=null);k=A(this.literal,"__send__",b.to_a(c),g.$to_proc());return p(null!=k.$$is_string)?p(k==this.literal)?this:this.$class().$allocate(k):k},d.$$arity=-1);b.def(a,"$initialize_copy",y=function(a){return this.literal=a.literal.$clone()},y.$$arity=1);b.def(a,"$respond_to?",v=function(a,c){var d,
e=v.$$p,g=r,k=r,l=r;e&&(v.$$p=null);k=0;l=arguments.length;for(g=Array(l);k<l;k++)g[k]=arguments[k];return p(d=A(this,b.find_super_dispatcher(this,"respond_to?",v,!1),g,e))?d:this.literal["$respond_to?"](a)},v.$$arity=-2);b.def(a,"$==",g=function(a){return this.literal["$=="](a)},g.$$arity=1);b.alias(a,"eql?","==");b.alias(a,"===","==");b.def(a,"$to_s",k=function(){return this.literal.$to_s()},k.$$arity=0);b.alias(a,"to_str","to_s");b.def(a,"$inspect",q=function(){return this.literal.$inspect()},
q.$$arity=0);b.def(a,"$+",n=function(a){var c=this.literal;return"number"===typeof c&&"number"===typeof a?c+a:c["$+"](a)},n.$$arity=1);b.def(a,"$*",u=function(a){var c=this.literal;a="number"===typeof c&&"number"===typeof a?c*a:c["$*"](a);return a.$$is_string?this.$class().$allocate(a):a},u.$$arity=1);b.def(a,"$split",x=function(a,c){var b;return A(this.literal.$split(a,c),"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=r);return c.$class().$allocate(a)},b.$$s=this,b.$$arity=1,b))},x.$$arity=
-1);b.def(a,"$replace",D=function(a){return this.literal=a},D.$$arity=1);b.def(a,"$each_line",aa=function(a){var c,d=aa.$$p,e=d||r;null==w["/"]&&(w["/"]=r);null==a&&(a=w["/"]);d&&(aa.$$p=null);return e===r?this.$enum_for("each_line",a):A(this.literal,"each_line",[a],(c=function(a){var d=c.$$s||this;null==a&&(a=r);return b.yield1(e,d.$class().$allocate(a))},c.$$s=this,c.$$arity=1,c))},aa.$$arity=-1);b.def(a,"$lines",B=function(a){var c=B.$$p,b=c||r,d=r;null==w["/"]&&(w["/"]=r);null==a&&(a=w["/"]);
c&&(B.$$p=null);d=A(this,"each_line",[a],b.$to_proc());return p(b)?this:d.$to_a()},B.$$arity=-1);b.def(a,"$%",J=function(a){return this.literal["$%"](a)},J.$$arity=1);return(b.def(a,"$instance_variables",ja=function(){var a=ja.$$p,c=r,d=r,e=r;a&&(ja.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];a=A(this,b.find_super_dispatcher(this,"instance_variables",ja,!1),c,a);c=["@literal"];return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)},ja.$$arity=0),r)&&"instance_variables"}(n(F,
"String"),null,F)},Opal.modules["corelib/string/encoding"]=function(b){function B(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var F,r,x,n,h,A=b.top,p=[],w=b.nil,a=b.const_get_qualified,f=b.const_get_relative,E=b.klass,t=b.truthy,m=b.send,C=b.hash2;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $== $default_external $upcase $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $getbyte".split(" "));
A.$require("corelib/string");(function(a,$super,l){function d(){}a=d=E(a,$super,"Encoding",d);var h=a.$$proto,v=[a].concat(l),g,k,q,n,u,p,D,x,r,J;h.ascii=h.dummy=h.name=w;a.$$register={};b.defs(a,"$register",g=function(a,b){var d,e,k=g.$$p,l=k||w,h=w,q=w,u=w;null==b&&(b=C([],{}));k&&(g.$$p=null);h=B([a],t(d=b["$[]"]("aliases"))?d:[]);q=m(f(v,"Class"),"new",[this],l.$to_proc()).$new(a,h,t(d=b["$[]"]("ascii"))?d:!1,t(d=b["$[]"]("dummy"))?d:!1);u=this.$$register;return m(h,"each",[],(e=function(a){var b=
e.$$s||this;null==a&&(a=w);b.$const_set(a.$sub("-","_"),q);return u["$$"+a]=q},e.$$s=this,e.$$arity=1,e))},g.$$arity=-2);b.defs(a,"$find",k=function(a){var b,d=w,d=w;if(a["$=="]("default_external"))return this.$default_external();d=this.$$register;d=t(b=d["$$"+a])?b:d["$$"+a.$upcase()];t(d)||this.$raise(f(v,"ArgumentError"),"unknown encoding name - "+a);return d},k.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(a),v);a.$attr_reader("name",
"names");b.def(a,"$initialize",q=function(a,b,d,f){this.name=a;this.names=b;this.ascii=d;return this.dummy=f},q.$$arity=4);b.def(a,"$ascii_compatible?",n=function(){return this.ascii},n.$$arity=0);b.def(a,"$dummy?",u=function(){return this.dummy},u.$$arity=0);b.def(a,"$to_s",p=function(){return this.name},p.$$arity=0);b.def(a,"$inspect",D=function(){return"#<Encoding:"+this.name+(t(this.dummy)?" (dummy)":w)+">"},D.$$arity=0);b.def(a,"$each_byte",x=function(a){return this.$raise(f(v,"NotImplementedError"))},
x.$$arity=-1);b.def(a,"$getbyte",r=function(a){return this.$raise(f(v,"NotImplementedError"))},r.$$arity=-1);b.def(a,"$bytesize",J=function(a){return this.$raise(f(v,"NotImplementedError"))},J.$$arity=-1);(function(a,$super,b){function d(){}[d=E(a,$super,"EncodingError",d)].concat(b);return w})(v[0],f(v,"StandardError"),v);return function(a,$super,b){function d(){}[d=E(a,$super,"CompatibilityError",d)].concat(b);return w}(v[0],f(v,"EncodingError"),v)})(p[0],null,p);m(f(p,"Encoding"),"register",["UTF-8",
C(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(F=function(){var a=F.$$s||this,c,f;b.def(a,"$each_byte",c=function(a){var f=c.$$p,e=f||w;f&&(c.$$p=null);for(var f=0,g=a.length;f<g;f++){var k=a.charCodeAt(f);if(127>=k)b.yield1(e,k);else for(var k=encodeURIComponent(a.charAt(f)).substr(1).split("%"),l=0,h=k.length;l<h;l++)b.yield1(e,parseInt(k[l],16))}},c.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),w)&&"bytesize"},F.$$s=A,F.$$arity=0,F));m(f(p,
"Encoding"),"register",["UTF-16LE"],(r=function(){var a=r.$$s||this,c,f;b.def(a,"$each_byte",c=function(a){var f=c.$$p,e=f||w;f&&(c.$$p=null);for(var f=0,g=a.length;f<g;f++){var k=a.charCodeAt(f);b.yield1(e,k&255);b.yield1(e,k>>8)}},c.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),w)&&"bytesize"},r.$$s=A,r.$$arity=0,r));m(f(p,"Encoding"),"register",["UTF-16BE"],(x=function(){var a=x.$$s||this,c,f;b.def(a,"$each_byte",c=function(a){var f=c.$$p,e=f||w;
f&&(c.$$p=null);for(var f=0,g=a.length;f<g;f++){var k=a.charCodeAt(f);b.yield1(e,k>>8);b.yield1(e,k&255)}},c.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),w)&&"bytesize"},x.$$s=A,x.$$arity=0,x));m(f(p,"Encoding"),"register",["UTF-32LE"],(n=function(){var a=n.$$s||this,c,f;b.def(a,"$each_byte",c=function(a){var f=c.$$p,e=f||w;f&&(c.$$p=null);for(var f=0,g=a.length;f<g;f++){var k=a.charCodeAt(f);b.yield1(e,k&255);b.yield1(e,k>>8)}},c.$$arity=1);return(b.def(a,
"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),w)&&"bytesize"},n.$$s=A,n.$$arity=0,n));m(f(p,"Encoding"),"register",["ASCII-8BIT",C(["aliases","ascii","dummy"],{aliases:["BINARY","US-ASCII","ASCII"],ascii:!0,dummy:!0})],(h=function(){var a=h.$$s||this,c,f;b.def(a,"$each_byte",c=function(a){var f=c.$$p,e=f||w;f&&(c.$$p=null);for(var f=0,g=a.length;f<g;f++){var k=a.charCodeAt(f);b.yield1(e,k&255);b.yield1(e,k>>8)}},c.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},
f.$$arity=1),w)&&"bytesize"},h.$$s=A,h.$$arity=0,h));return function(e,$super,l){function d(){}e=d=E(e,$super,"String",d);var h=e.$$proto,t=[e].concat(l),g,k,q,C,u,n,D;h.encoding=w;e.$attr_reader("encoding");String.prototype.encoding=a(f(t,"Encoding"),"UTF_16LE");b.def(e,"$bytes",g=function(){return this.$each_byte().$to_a()},g.$$arity=0);b.def(e,"$bytesize",k=function(){return this.encoding.$bytesize(this)},k.$$arity=0);b.def(e,"$each_byte",q=function(){var a=q.$$p,b=a||w;a&&(q.$$p=null);if(b===
w)return this.$enum_for("each_byte");m(this.encoding,"each_byte",[this],b.$to_proc());return this},q.$$arity=0);b.def(e,"$encode",C=function(a){return this.$dup().$force_encoding(a)},C.$$arity=1);b.def(e,"$force_encoding",u=function(a){if(a===this.encoding)return this;a=f(t,"Opal")["$coerce_to!"](a,f(t,"String"),"to_s");a=f(t,"Encoding").$find(a);if(a===this.encoding)return this;this.encoding=a;return this},u.$$arity=1);b.def(e,"$getbyte",n=function(a){return this.encoding.$getbyte(this,a)},n.$$arity=
1);return(b.def(e,"$valid_encoding?",D=function(){return!0},D.$$arity=0),w)&&"valid_encoding?"}(p[0],null,p)},Opal.modules["corelib/math"]=function(b){var B=[],F=b.const_get_qualified,r=b.const_get_relative,x=b.module,n=b.truthy;b.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(h,A){var p=x(h,"Math"),w=[p].concat(A),a,f,E,t,m,C,e,c,l,d,y,v,g,k,q,sa,u,B,D,aa,da,J,ja,va,z,T,oa,ba,G;b.const_set(w[0],
"E",Math.E);b.const_set(w[0],"PI",Math.PI);b.const_set(w[0],"DomainError",r(w,"Class").$new(r(w,"StandardError")));b.defs(p,"$checked",a=function(a,c){var b,d=arguments.length;b=d-1;0>b&&(b=0);b=Array(b);for(var f=1;f<d;f++)b[f-1]=arguments[f];if(isNaN(b[0])||2==b.length&&isNaN(b[1]))return NaN;d=Math[a].apply(null,b);isNaN(d)&&this.$raise(r(w,"DomainError"),'Numerical argument is out of domain - "'+a+'"');return d},a.$$arity=-2);b.defs(p,"$float!",f=function(a){try{return this.$Float(a)}catch(c){if(b.rescue(c,
[r(w,"ArgumentError")]))try{return this.$raise(r(w,"Opal").$type_error(a,r(w,"Float")))}finally{b.pop_exception()}else throw c;}},f.$$arity=1);b.defs(p,"$integer!",E=function(a){try{return this.$Integer(a)}catch(c){if(b.rescue(c,[r(w,"ArgumentError")]))try{return this.$raise(r(w,"Opal").$type_error(a,r(w,"Integer")))}finally{b.pop_exception()}else throw c;}},E.$$arity=1);p.$module_function();b.def(p,"$acos",t=function(a){return r(w,"Math").$checked("acos",r(w,"Math")["$float!"](a))},t.$$arity=1);
n("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});b.def(p,"$acosh",m=function(a){return r(w,"Math").$checked("acosh",r(w,"Math")["$float!"](a))},m.$$arity=1);b.def(p,"$asin",C=function(a){return r(w,"Math").$checked("asin",r(w,"Math")["$float!"](a))},C.$$arity=1);n("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});b.def(p,"$asinh",e=function(a){return r(w,"Math").$checked("asinh",r(w,"Math")["$float!"](a))},
e.$$arity=1);b.def(p,"$atan",c=function(a){return r(w,"Math").$checked("atan",r(w,"Math")["$float!"](a))},c.$$arity=1);b.def(p,"$atan2",l=function(a,c){return r(w,"Math").$checked("atan2",r(w,"Math")["$float!"](a),r(w,"Math")["$float!"](c))},l.$$arity=2);n("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});b.def(p,"$atanh",d=function(a){return r(w,"Math").$checked("atanh",r(w,"Math")["$float!"](a))},d.$$arity=1);n("undefined"!==typeof Math.cbrt)||(Math.cbrt=
function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)});b.def(p,"$cbrt",y=function(a){return r(w,"Math").$checked("cbrt",r(w,"Math")["$float!"](a))},y.$$arity=1);b.def(p,"$cos",v=function(a){return r(w,"Math").$checked("cos",r(w,"Math")["$float!"](a))},v.$$arity=1);n("undefined"!==typeof Math.cosh)||
(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});b.def(p,"$cosh",g=function(a){return r(w,"Math").$checked("cosh",r(w,"Math")["$float!"](a))},g.$$arity=1);n("undefined"!==typeof Math.erf)||(Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))});b.def(p,"$erf",k=function(a){return r(w,"Math").$checked("erf",r(w,"Math")["$float!"](a))},k.$$arity=1);n("undefined"!==
typeof Math.erfc)||(Math.erfc=function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c});b.def(p,"$erfc",q=function(a){return r(w,"Math").$checked("erfc",r(w,"Math")["$float!"](a))},q.$$arity=1);b.def(p,"$exp",sa=function(a){return r(w,"Math").$checked("exp",r(w,"Math")["$float!"](a))},sa.$$arity=1);b.def(p,"$frexp",u=function(a){a=r(w,
"Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]},u.$$arity=1);b.def(p,"$gamma",B=function(a){a=r(w,"Math")["$float!"](a);var c,b,d,f;d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,
3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(r(w,"DomainError"),'Numerical argument is out of domain - "gamma"');if(r(w,"Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*r(w,"Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return b=a*a,c=b*a,d=c*a,f=d*a,Math.sqrt(2*
Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*c)-571/(2488320*d)+163879/(209018880*f)+5246819/(75246796800*f*a));--a;b=d[0];for(c=1;c<d.length;++c)b+=d[c]/(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*b},B.$$arity=1);n("undefined"!==typeof Math.hypot)||(Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)});b.def(p,"$hypot",D=function(a,c){return r(w,"Math").$checked("hypot",r(w,"Math")["$float!"](a),r(w,"Math")["$float!"](c))},D.$$arity=2);b.def(p,
"$ldexp",aa=function(a,c){a=r(w,"Math")["$float!"](a);c=r(w,"Math")["$integer!"](c);isNaN(c)&&this.$raise(r(w,"RangeError"),"float NaN out of range of integer");return a*Math.pow(2,c)},aa.$$arity=2);b.def(p,"$lgamma",da=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(r(w,"Math").$gamma(a))),0>r(w,"Math").$gamma(a)?-1:1]},da.$$arity=1);b.def(p,"$log",J=function(a,c){n(r(w,"String")["$==="](a))&&this.$raise(r(w,"Opal").$type_error(a,r(w,"Float")));if(n(null==c))return r(w,"Math").$checked("log",
r(w,"Math")["$float!"](a));n(r(w,"String")["$==="](c))&&this.$raise(r(w,"Opal").$type_error(c,r(w,"Float")));var b=r(w,"Math").$checked("log",r(w,"Math")["$float!"](a)),d=r(w,"Math").$checked("log",r(w,"Math")["$float!"](c));return"number"===typeof b&&"number"===typeof d?b/d:b["$/"](d)},J.$$arity=-2);n("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/Math.LN10});b.def(p,"$log10",ja=function(a){n(r(w,"String")["$==="](a))&&this.$raise(r(w,"Opal").$type_error(a,r(w,"Float")));
return r(w,"Math").$checked("log10",r(w,"Math")["$float!"](a))},ja.$$arity=1);n("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});b.def(p,"$log2",va=function(a){n(r(w,"String")["$==="](a))&&this.$raise(r(w,"Opal").$type_error(a,r(w,"Float")));return r(w,"Math").$checked("log2",r(w,"Math")["$float!"](a))},va.$$arity=1);b.def(p,"$sin",z=function(a){return r(w,"Math").$checked("sin",r(w,"Math")["$float!"](a))},z.$$arity=1);n("undefined"!==typeof Math.sinh)||(Math.sinh=
function(a){return(Math.exp(a)-Math.exp(-a))/2});b.def(p,"$sinh",T=function(a){return r(w,"Math").$checked("sinh",r(w,"Math")["$float!"](a))},T.$$arity=1);b.def(p,"$sqrt",oa=function(a){return r(w,"Math").$checked("sqrt",r(w,"Math")["$float!"](a))},oa.$$arity=1);b.def(p,"$tan",ba=function(a){a=r(w,"Math")["$float!"](a);return n(a["$infinite?"]())?F(r(w,"Float"),"NAN"):r(w,"Math").$checked("tan",r(w,"Math")["$float!"](a))},ba.$$arity=1);n("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==
a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});b.def(p,"$tanh",G=function(a){return r(w,"Math").$checked("tanh",r(w,"Math")["$float!"](a))},G.$$arity=1)}(B[0],B)},Opal.modules["corelib/complex"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function x(a,b){return"number"===
typeof a&&"number"===typeof b?a/b:a["$/"](b)}var n=b.top,h=[],A=b.nil,p=b.const_get_qualified,w=b.const_get_relative,a=b.klass,f=b.truthy,E=b.module;b.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $finite? $infinite? $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero?".split(" "));n.$require("corelib/numeric");
(function(h,$super,C){function e(){}h=e=a(h,$super,"Complex",e);var c=h.$$proto,l=[h].concat(C),d,E,v,g,k,q,n,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga;c.real=c.imag=A;b.defs(h,"$rect",d=function(a,c){var b,d,e;null==c&&(c=0);f(f(b=f(d=f(e=w(l,"Numeric")["$==="](a))?a["$real?"]():e)?w(l,"Numeric")["$==="](c):d)?c["$real?"]():b)||this.$raise(w(l,"TypeError"),"not a real");return this.$new(a,c)},d.$$arity=-2);(function(a,c){[a].concat(c);return b.alias(a,"rectangular","rect")})(b.get_singleton_class(h),
l);b.defs(h,"$polar",E=function(a,c){var b,d,e;null==c&&(c=0);f(f(b=f(d=f(e=w(l,"Numeric")["$==="](a))?a["$real?"]():e)?w(l,"Numeric")["$==="](c):d)?c["$real?"]():b)||this.$raise(w(l,"TypeError"),"not a real");return this.$new(B(a,w(l,"Math").$cos(c)),B(a,w(l,"Math").$sin(c)))},E.$$arity=-2);h.$attr_reader("real","imag");b.def(h,"$initialize",v=function(a,c){null==c&&(c=0);this.real=a;return this.imag=c},v.$$arity=-2);b.def(h,"$coerce",g=function(a){var c;return f(w(l,"Complex")["$==="](a))?[a,this]:
f(f(c=w(l,"Numeric")["$==="](a))?a["$real?"]():c)?[w(l,"Complex").$new(a,0),this]:this.$raise(w(l,"TypeError"),""+a.$class()+" can't be coerced into Complex")},g.$$arity=1);b.def(h,"$==",k=function(a){var c;return f(w(l,"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):f(f(c=w(l,"Numeric")["$==="](a))?a["$real?"]():c)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},k.$$arity=1);b.def(h,"$-@",q=function(){return this.$Complex(this.real["$-@"](),
this.imag["$-@"]())},q.$$arity=0);b.def(h,"$+",n=function(a){var c;return f(w(l,"Complex")["$==="](a))?this.$Complex(F(this.real,a.$real()),F(this.imag,a.$imag())):f(f(c=w(l,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(F(this.real,a),this.imag):this.$__coerced__("+",a)},n.$$arity=1);b.def(h,"$-",u=function(a){var c;return f(w(l,"Complex")["$==="](a))?this.$Complex(r(this.real,a.$real()),r(this.imag,a.$imag())):f(f(c=w(l,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(r(this.real,a),
this.imag):this.$__coerced__("-",a)},u.$$arity=1);b.def(h,"$*",Ea=function(a){var c;return f(w(l,"Complex")["$==="](a))?this.$Complex(r(B(this.real,a.$real()),B(this.imag,a.$imag())),F(B(this.real,a.$imag()),B(this.imag,a.$real()))):f(f(c=w(l,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(B(this.real,a),B(this.imag,a)):this.$__coerced__("*",a)},Ea.$$arity=1);b.def(h,"$/",D=function(a){var c,b,d,e;return f(w(l,"Complex")["$==="](a))?f(f(c=f(b=f(d=f(e=w(l,"Number")["$==="](this.real))?this.real["$nan?"]():
e)?d:f(e=w(l,"Number")["$==="](this.imag))?this.imag["$nan?"]():e)?b:f(d=w(l,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():d)?c:f(b=w(l,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():b)?w(l,"Complex").$new(p(w(l,"Float"),"NAN"),p(w(l,"Float"),"NAN")):x(B(this,a.$conj()),a.$abs2()):f(f(c=w(l,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):this.$__coerced__("/",a)},D.$$arity=1);b.def(h,"$**",aa=function(a){var c,d,e=A,g=A,k=A,h=A;d=h=k=g=e=e=d=A;if(a["$=="](0))return w(l,
"Complex").$new(1,0);if(f(w(l,"Complex")["$==="](a)))return d=this.$polar(),c=b.to_ary(d),e=null==c[0]?A:c[0],g=null==c[1]?A:c[1],d,k=a.$real(),h=a.$imag(),d=w(l,"Math").$exp(r(B(k,w(l,"Math").$log(e)),B(h,g))),e=F(B(g,k),B(h,w(l,"Math").$log(e))),w(l,"Complex").$polar(d,e);if(f(w(l,"Integer")["$==="](a))){if(f("number"===typeof a?0<a:a["$>"](0))){g=e=this;for(k=r(a,1);f(k["$!="](0));){a=k.$divmod(2);d=b.to_ary(a);h=null==d[0]?A:d[0];d=null==d[1]?A:d[1];for(a;d["$=="](0);)e=this.$Complex(r(B(e.$real(),
e.$real()),B(e.$imag(),e.$imag())),B(B(2,e.$real()),e.$imag())),k=h,c=k.$divmod(2),a=b.to_ary(c),h=null==a[0]?A:a[0],d=null==a[1]?A:a[1],c;g=B(g,e);k=r(k,1)}return g}return x(w(l,"Rational").$new(1,1),this)["$**"](a["$-@"]())}return f(f(c=w(l,"Float")["$==="](a))?c:w(l,"Rational")["$==="](a))?(d=this.$polar(),c=b.to_ary(d),e=null==c[0]?A:c[0],g=null==c[1]?A:c[1],d,w(l,"Complex").$polar(e["$**"](a),B(g,a))):this.$__coerced__("**",a)},aa.$$arity=1);b.def(h,"$abs",da=function(){return w(l,"Math").$hypot(this.real,
this.imag)},da.$$arity=0);b.def(h,"$abs2",J=function(){return F(B(this.real,this.real),B(this.imag,this.imag))},J.$$arity=0);b.def(h,"$angle",ja=function(){return w(l,"Math").$atan2(this.imag,this.real)},ja.$$arity=0);b.alias(h,"arg","angle");b.def(h,"$conj",va=function(){return this.$Complex(this.real,this.imag["$-@"]())},va.$$arity=0);b.alias(h,"conjugate","conj");b.def(h,"$denominator",z=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},z.$$arity=0);b.alias(h,"divide",
"/");b.def(h,"$eql?",T=function(a){var c,b;return f(c=f(b=w(l,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):b)?this["$=="](a):c},T.$$arity=1);b.def(h,"$fdiv",oa=function(a){f(w(l,"Numeric")["$==="](a))||this.$raise(w(l,"TypeError"),""+a.$class()+" can't be coerced into Complex");return x(this,a)},oa.$$arity=1);b.def(h,"$finite?",ba=function(){var a;return f(a=this.real["$finite?"]())?this.imag["$finite?"]():a},ba.$$arity=0);b.def(h,"$hash",G=function(){return"Complex:"+this.real+
":"+this.imag},G.$$arity=0);b.alias(h,"imaginary","imag");b.def(h,"$infinite?",Q=function(){var a;return f(a=this.real["$infinite?"]())?a:this.imag["$infinite?"]()},Q.$$arity=0);b.def(h,"$inspect",R=function(){return"("+this+")"},R.$$arity=0);b.alias(h,"magnitude","abs");b.udef(h,"$negative?");b.def(h,"$numerator",L=function(){var a=A,a=this.$denominator();return this.$Complex(B(this.real.$numerator(),x(a,this.real.$denominator())),B(this.imag.$numerator(),x(a,this.imag.$denominator())))},L.$$arity=
0);b.alias(h,"phase","arg");b.def(h,"$polar",S=function(){return[this.$abs(),this.$arg()]},S.$$arity=0);b.udef(h,"$positive?");b.alias(h,"quo","/");b.def(h,"$rationalize",W=function(a){1<arguments.length&&this.$raise(w(l,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");f(this.imag["$!="](0))&&this.$raise(w(l,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},W.$$arity=-1);b.def(h,"$real?",O=function(){return!1},O.$$arity=0);b.def(h,
"$rect",X=function(){return[this.real,this.imag]},X.$$arity=0);b.alias(h,"rectangular","rect");b.def(h,"$to_f",N=function(){this.imag["$=="](0)||this.$raise(w(l,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},N.$$arity=0);b.def(h,"$to_i",ea=function(){this.imag["$=="](0)||this.$raise(w(l,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},ea.$$arity=0);b.def(h,"$to_r",pa=function(){this.imag["$=="](0)||this.$raise(w(l,"RangeError"),"can't convert "+
this+" into Rational");return this.real.$to_r()},pa.$$arity=0);b.def(h,"$to_s",ga=function(){var a,c,b,d=A,d=this.real.$inspect(),d=F(d,f(f(a=f(c=f(b=w(l,"Number")["$==="](this.imag))?this.imag["$nan?"]():b)?c:this.imag["$positive?"]())?a:this.imag["$zero?"]())?"+":"-"),d=F(d,this.imag.$abs().$inspect());f(f(a=w(l,"Number")["$==="](this.imag))?f(c=this.imag["$nan?"]())?c:this.imag["$infinite?"]():a)&&(d=F(d,"*"));return F(d,"i")},ga.$$arity=0);return b.const_set(l[0],"I",h.$new(0,1))})(h[0],w(h,"Numeric"),
h);return function(a,h){var C=E(a,"Kernel"),e=[C].concat(h),c;b.def(C,"$Complex",c=function(a,c){null==c&&(c=A);return f(c)?w(e,"Complex").$new(a,c):w(e,"Complex").$new(a,0)},c.$$arity=-2)}(h[0],h)},Opal.modules["corelib/rational"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function x(a,b){return"number"===
typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=b.top,A=[],p=b.nil,w=b.const_get_qualified,a=b.const_get_relative,f=b.klass,E=b.truthy,t=b.module;b.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $<= $truncate $send $convert".split(" "));h.$require("corelib/numeric");
(function(h,$super,e){function c(){}h=c=f(h,$super,"Rational",c);var l=h.$$proto,d=[h].concat(e),t,v,g,k,q,sa,u,A,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X;l.num=l.den=p;b.defs(h,"$reduce",t=function(c,b){var f=p;c=c.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(a(d,"ZeroDivisionError"),"divided by 0");else if(E(B(b,0)))c=c["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(c,b);f=c.$gcd(b);return this.$new(F(c,f),F(b,f))},t.$$arity=2);b.defs(h,"$convert",v=function(c,b){var f,e;E(E(f=c["$nil?"]())?
f:b["$nil?"]())&&this.$raise(a(d,"TypeError"),"cannot convert nil into Rational");if(E(E(f=a(d,"Integer")["$==="](c))?a(d,"Integer")["$==="](b):f))return this.$reduce(c,b);E(E(f=E(e=a(d,"Float")["$==="](c))?e:a(d,"String")["$==="](c))?f:a(d,"Complex")["$==="](c))&&(c=c.$to_r());E(E(f=E(e=a(d,"Float")["$==="](b))?e:a(d,"String")["$==="](b))?f:a(d,"Complex")["$==="](b))&&(b=b.$to_r());return E(E(f=b["$equal?"](1))?a(d,"Integer")["$==="](c)["$!"]():f)?a(d,"Opal")["$coerce_to!"](c,a(d,"Rational"),"to_r"):
E(E(f=a(d,"Numeric")["$==="](c))?a(d,"Numeric")["$==="](b):f)?F(c,b):this.$reduce(c,b)},v.$$arity=2);b.def(h,"$initialize",g=function(a,c){this.num=a;return this.den=c},g.$$arity=2);b.def(h,"$numerator",k=function(){return this.num},k.$$arity=0);b.def(h,"$denominator",q=function(){return this.den},q.$$arity=0);b.def(h,"$coerce",sa=function(c){var b=p,b=c;return a(d,"Rational")["$==="](b)?[c,this]:a(d,"Integer")["$==="](b)?[c.$to_r(),this]:a(d,"Float")["$==="](b)?[c,this.$to_f()]:p},sa.$$arity=1);
b.def(h,"$==",u=function(c){var b=p,b=c;return a(d,"Rational")["$==="](b)?this.num["$=="](c.$numerator())?this.den["$=="](c.$denominator()):this.num["$=="](c.$numerator()):a(d,"Integer")["$==="](b)?this.num["$=="](c)?this.den["$=="](1):this.num["$=="](c):a(d,"Float")["$==="](b)?this.$to_f()["$=="](c):c["$=="](this)},u.$$arity=1);b.def(h,"$<=>",A=function(c){var b=p,b=c;return a(d,"Rational")["$==="](b)?r(x(this.num,c.$denominator()),x(this.den,c.$numerator()))["$<=>"](0):a(d,"Integer")["$==="](b)?
r(this.num,x(this.den,c))["$<=>"](0):a(d,"Float")["$==="](b)?this.$to_f()["$<=>"](c):this.$__coerced__("<=>",c)},A.$$arity=1);b.def(h,"$+",D=function(c){var b=p,f=b=p;b=c;a(d,"Rational")["$==="](b)?(b=n(x(this.num,c.$denominator()),x(this.den,c.$numerator())),f=x(this.den,c.$denominator()),c=this.$Rational(b,f)):c=a(d,"Integer")["$==="](b)?this.$Rational(n(this.num,x(c,this.den)),this.den):a(d,"Float")["$==="](b)?n(this.$to_f(),c):this.$__coerced__("+",c);return c},D.$$arity=1);b.def(h,"$-",aa=function(c){var b=
p,f=b=p;b=c;a(d,"Rational")["$==="](b)?(b=r(x(this.num,c.$denominator()),x(this.den,c.$numerator())),f=x(this.den,c.$denominator()),c=this.$Rational(b,f)):c=a(d,"Integer")["$==="](b)?this.$Rational(r(this.num,x(c,this.den)),this.den):a(d,"Float")["$==="](b)?r(this.$to_f(),c):this.$__coerced__("-",c);return c},aa.$$arity=1);b.def(h,"$*",da=function(c){var b=p,f=b=p;b=c;a(d,"Rational")["$==="](b)?(b=x(this.num,c.$numerator()),f=x(this.den,c.$denominator()),c=this.$Rational(b,f)):c=a(d,"Integer")["$==="](b)?
this.$Rational(x(this.num,c),this.den):a(d,"Float")["$==="](b)?x(this.$to_f(),c):this.$__coerced__("*",c);return c},da.$$arity=1);b.def(h,"$/",J=function(c){var b=p,f=b=p;b=c;a(d,"Rational")["$==="](b)?(b=x(this.num,c.$denominator()),f=x(this.den,c.$numerator()),c=this.$Rational(b,f)):c=a(d,"Integer")["$==="](b)?c["$=="](0)?F(this.$to_f(),0):this.$Rational(this.num,x(this.den,c)):a(d,"Float")["$==="](b)?F(this.$to_f(),c):this.$__coerced__("/",c);return c},J.$$arity=1);b.def(h,"$**",ja=function(c){var b=
p,b=c;return a(d,"Integer")["$==="](b)?E(this["$=="](0)?B(c,0):this["$=="](0))?w(a(d,"Float"),"INFINITY"):E("number"===typeof c?0<c:c["$>"](0))?this.$Rational(this.num["$**"](c),this.den["$**"](c)):E(B(c,0))?this.$Rational(this.den["$**"](c["$-@"]()),this.num["$**"](c["$-@"]())):this.$Rational(1,1):a(d,"Float")["$==="](b)?this.$to_f()["$**"](c):a(d,"Rational")["$==="](b)?c["$=="](0)?this.$Rational(1,1):c.$denominator()["$=="](1)?E(B(c,0))?this.$Rational(this.den["$**"](c.$numerator().$abs()),this.num["$**"](c.$numerator().$abs())):
this.$Rational(this.num["$**"](c.$numerator()),this.den["$**"](c.$numerator())):E(this["$=="](0)?B(c,0):this["$=="](0))?this.$raise(a(d,"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](c):this.$__coerced__("**",c)},ja.$$arity=1);b.def(h,"$abs",va=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},va.$$arity=0);b.def(h,"$ceil",z=function(a){null==a&&(a=0);return a["$=="](0)?F(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},z.$$arity=-1);b.alias(h,
"divide","/");b.def(h,"$floor",T=function(a){null==a&&(a=0);return a["$=="](0)?F(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},T.$$arity=-1);b.def(h,"$hash",oa=function(){return"Rational:"+this.num+":"+this.den},oa.$$arity=0);b.def(h,"$inspect",ba=function(){return"("+this+")"},ba.$$arity=0);b.alias(h,"quo","/");b.def(h,"$rationalize",G=function(c){1<arguments.length&&this.$raise(a(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==
c)return this;for(var b=c.$abs(),f=r(this,b),b=n(this,b),e=0,g=1,k=1,l=0,h,m,q;;){h=f.$ceil();if("number"===typeof h&&"number"===typeof b?h<=b:h["$<="](b))break;q=h-1;h=q*g+e;m=q*l+k;e=F(1,r(b,q));b=F(1,r(f,q));f=e;e=g;k=l;g=h;l=m}return this.$Rational(h*g+e,h*l+k)},G.$$arity=-1);b.def(h,"$round",Q=function(a){var c=p,b=p,c=p;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;c=n(x(this.num.$abs(),2),this.den);
b=x(this.den,2);c=F(c,b).$truncate();return E(B(this.num,0))?c["$-@"]():c},Q.$$arity=-1);b.def(h,"$to_f",R=function(){return F(this.num,this.den)},R.$$arity=0);b.def(h,"$to_i",L=function(){return this.$truncate()},L.$$arity=0);b.def(h,"$to_r",S=function(){return this},S.$$arity=0);b.def(h,"$to_s",W=function(){return""+this.num+"/"+this.den},W.$$arity=0);b.def(h,"$truncate",O=function(a){null==a&&(a=0);return a["$=="](0)?E(B(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",a)},
O.$$arity=-1);return(b.def(h,"$with_precision",X=function(c,b){var f=p,e=p;E(a(d,"Integer")["$==="](b))||this.$raise(a(d,"TypeError"),"not an Integer");f=10["$**"](b);e=x(this,f);return E(B(b,1))?F(e.$send(c),f).$to_i():this.$Rational(e.$send(c),f)},X.$$arity=2),p)&&"with_precision"})(A[0],a(A,"Numeric"),A);return function(f,h){var e=t(f,"Kernel"),c=[e].concat(h),l;b.def(e,"$Rational",l=function(b,f){null==f&&(f=1);return a(c,"Rational").$convert(b,f)},l.$$arity=-2)}(A[0],A)},Opal.modules["corelib/time"]=
function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function x(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var n=b.top,h=[],A=b.nil,p=b.const_get_relative,w=b.slice,a=b.klass,f=b.truthy,E=b.range;b.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
n.$require("corelib/comparable");return function(h,$super,C){function e(){}function c(a,c,b,f,e,g){a=a.$$is_string?parseInt(a,10):p(d,"Opal")["$coerce_to!"](a,p(d,"Integer"),"to_int");if(c===A)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;case "nov":c=
11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=p(d,"Opal")["$coerce_to!"](c,p(d,"Integer"),"to_int");(1>c||12<c)&&l.$raise(p(d,"ArgumentError"),"month out of range: "+c);--c;b=b===A?1:b.$$is_string?parseInt(b,10):p(d,"Opal")["$coerce_to!"](b,p(d,"Integer"),"to_int");(1>b||31<b)&&l.$raise(p(d,"ArgumentError"),"day out of range: "+b);f=f===A?0:f.$$is_string?parseInt(f,10):p(d,"Opal")["$coerce_to!"](f,p(d,"Integer"),"to_int");(0>f||24<f)&&l.$raise(p(d,"ArgumentError"),"hour out of range: "+
f);e=e===A?0:e.$$is_string?parseInt(e,10):p(d,"Opal")["$coerce_to!"](e,p(d,"Integer"),"to_int");(0>e||59<e)&&l.$raise(p(d,"ArgumentError"),"min out of range: "+e);g===A?g=0:g.$$is_number||(g=g.$$is_string?parseInt(g,10):p(d,"Opal")["$coerce_to!"](g,p(d,"Integer"),"to_int"));(0>g||60<g)&&l.$raise(p(d,"ArgumentError"),"sec out of range: "+g);return[a,c,b,f,e,g]}var l=e=a(h,$super,"Time",e),d=[l].concat(C),y,v,g,k,q,n,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba,G,Q,R,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,
Ba,Y;l.$include(p(d,"Comparable"));var la="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),na="Sun Mon Tue Wed Thu Fri Sat".split(" "),wa="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ta="January February March April May June July August September October November December".split(" ");b.defs(l,"$at",y=function(a,c){var b;if(p(d,"Time")["$==="](a))return void 0!==c&&this.$raise(p(d,"TypeError"),"can't convert Time into an exact number"),b=new Date(a.getTime()),
b.is_utc=a.is_utc,b;a.$$is_number||(a=p(d,"Opal")["$coerce_to!"](a,p(d,"Integer"),"to_int"));if(void 0===c)return new Date(1E3*a);c.$$is_number||(c=p(d,"Opal")["$coerce_to!"](c,p(d,"Integer"),"to_int"));return new Date(1E3*a+c/1E3)},y.$$arity=-2);b.defs(l,"$new",v=function(a,b,f,e,g,k,l){null==b&&(b=A);null==f&&(f=A);null==e&&(e=A);null==g&&(g=A);null==k&&(k=A);null==l&&(l=A);if(void 0===a)return new Date;l!==A&&this.$raise(p(d,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
k=c(a,b,f,e,g,k);a=k[0];b=k[1];f=k[2];e=k[3];g=k[4];k=k[5];b=new Date(a,b,f,e,g,0,1E3*k);100>a&&b.setFullYear(a);return b},v.$$arity=-1);b.defs(l,"$local",g=function(a,b,d,f,e,g,k,l,h,q){null==b&&(b=A);null==d&&(d=A);null==f&&(f=A);null==e&&(e=A);null==g&&(g=A);null==k&&(k=A);null==l&&(l=A);null==h&&(h=A);null==q&&(q=A);var u;10===arguments.length&&(u=w.call(arguments),a=u[5],b=u[4],d=u[3],f=u[2],e=u[1],g=u[0]);u=c(a,b,d,f,e,g);a=u[0];b=u[1];d=u[2];f=u[3];e=u[4];g=u[5];u=new Date(a,b,d,f,e,0,1E3*
g);100>a&&u.setFullYear(a);return u},g.$$arity=-2);b.defs(l,"$gm",k=function(a,b,d,f,e,g,k,l,h,q){null==b&&(b=A);null==d&&(d=A);null==f&&(f=A);null==e&&(e=A);null==g&&(g=A);null==k&&(k=A);null==l&&(l=A);null==h&&(h=A);null==q&&(q=A);var u;10===arguments.length&&(u=w.call(arguments),a=u[5],b=u[4],d=u[3],f=u[2],e=u[1],g=u[0]);u=c(a,b,d,f,e,g);a=u[0];b=u[1];d=u[2];f=u[3];e=u[4];g=u[5];u=new Date(Date.UTC(a,b,d,f,e,0,1E3*g));100>a&&u.setUTCFullYear(a);u.is_utc=!0;return u},k.$$arity=-2);(function(a,c){[a].concat(c);
b.alias(a,"mktime","local");return b.alias(a,"utc","gm")})(b.get_singleton_class(l),d);b.defs(l,"$now",q=function(){return this.$new()},q.$$arity=0);b.def(l,"$+",n=function(a){f(p(d,"Time")["$==="](a))&&this.$raise(p(d,"TypeError"),"time + time?");a.$$is_number||(a=p(d,"Opal")["$coerce_to!"](a,p(d,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},n.$$arity=1);b.def(l,"$-",u=function(a){if(f(p(d,"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||
(a=p(d,"Opal")["$coerce_to!"](a,p(d,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},u.$$arity=1);b.def(l,"$<=>",Ea=function(a){var c=A;if(f(p(d,"Time")["$==="](a)))return this.$to_f()["$<=>"](a.$to_f());c=a["$<=>"](this);return f(c["$nil?"]())?A:f("number"===typeof c?0<c:c["$>"](0))?-1:f("number"===typeof c?0>c:c["$<"](0))?1:0},Ea.$$arity=1);b.def(l,"$==",D=function(a){var c;return f(c=p(d,"Time")["$==="](a))?this.$to_f()===a.$to_f():c},D.$$arity=1);b.def(l,"$asctime",
aa=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},aa.$$arity=0);b.alias(l,"ctime","asctime");b.def(l,"$day",da=function(){return this.is_utc?this.getUTCDate():this.getDate()},da.$$arity=0);b.def(l,"$yday",J=function(){var a=A,c=A,b=A,a=p(d,"Time").$new(this.$year()).$to_i(),c=p(d,"Time").$new(this.$year(),this.$month(),this.$day()).$to_i(),b=86400;return B(F(r(c,a),b).$round(),1)},J.$$arity=0);b.def(l,"$isdst",ja=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),
6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},ja.$$arity=0);b.alias(l,"dst?","isdst");b.def(l,"$dup",va=function(){var a=A,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},va.$$arity=0);b.def(l,"$eql?",z=function(a){var c;return f(c=a["$is_a?"](p(d,"Time")))?this["$<=>"](a)["$zero?"]():c},z.$$arity=1);b.def(l,"$friday?",T=function(){return 5==this.$wday()},T.$$arity=0);b.def(l,"$hash",oa=function(){return"Time:"+
this.getTime()},oa.$$arity=0);b.def(l,"$hour",ba=function(){return this.is_utc?this.getUTCHours():this.getHours()},ba.$$arity=0);b.def(l,"$inspect",G=function(){return f(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},G.$$arity=0);b.alias(l,"mday","day");b.def(l,"$min",Q=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},Q.$$arity=0);b.def(l,"$mon",R=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},R.$$arity=0);
b.def(l,"$monday?",L=function(){return 1==this.$wday()},L.$$arity=0);b.alias(l,"month","mon");b.def(l,"$saturday?",S=function(){return 6==this.$wday()},S.$$arity=0);b.def(l,"$sec",W=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},W.$$arity=0);b.def(l,"$succ",O=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},O.$$arity=0);b.def(l,"$usec",X=function(){return 1E3*this.getMilliseconds()},X.$$arity=0);b.def(l,"$zone",N=function(){var a=this.toString(),
c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\((.+)\)(?:\s|$)/)[1];return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},N.$$arity=0);b.def(l,"$getgm",ea=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},ea.$$arity=0);b.alias(l,"getutc","getgm");b.def(l,"$gmtime",pa=function(){this.is_utc=!0;return this},pa.$$arity=0);b.alias(l,"utc","gmtime");b.def(l,"$gmt?",ga=function(){return!0===this.is_utc},ga.$$arity=0);b.def(l,"$gmt_offset",P=function(){return 60*-this.getTimezoneOffset()},
P.$$arity=0);b.def(l,"$strftime",U=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,d,f,e){f="";var g=-1!==b.indexOf("0"),k=-1===b.indexOf("-"),l=-1!==b.indexOf("_"),h=-1!==b.indexOf("^"),q=-1!==b.indexOf("#"),u=(b.match(":")||[]).length;d=parseInt(d,10);g&&l&&(b.indexOf("0")<b.indexOf("_")?g=!1:l=!1);switch(e){case "Y":f+=c.$year();break;case "C":g=!l;f+=Math.round(c.$year()/100);break;case "y":g=!l;f+=c.$year()%100;break;case "m":g=!l;f+=c.$mon();break;
case "B":f+=ta[c.$mon()-1];break;case "b":case "h":l=!g;f+=wa[c.$mon()-1];break;case "d":g=!l;f+=c.$day();break;case "e":l=!g;f+=c.$day();break;case "j":f+=c.$yday();break;case "H":g=!l;f+=c.$hour();break;case "k":l=!g;f+=c.$hour();break;case "I":g=!l;f+=c.$hour()%12||12;break;case "l":l=!g;f+=c.$hour()%12||12;break;case "P":f+=12<=c.$hour()?"pm":"am";break;case "p":f+=12<=c.$hour()?"PM":"AM";break;case "M":g=!l;f+=c.$min();break;case "S":g=!l;f+=c.$sec();break;case "L":g=!l;d=isNaN(d)?3:d;f+=c.getMilliseconds();
break;case "N":d=isNaN(d)?9:d;f+=c.getMilliseconds().toString().$rjust(3,"0");f=f.$ljust(d,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);e=Math.abs(a)%60;f=f+(0>a?"+":"-")+(10>b?"0":"");f+=b;0<u&&(f+=":");f+=10>e?"0":"";f+=e;1<u&&(f+=":00");break;case "Z":f+=c.$zone();break;case "A":f+=la[c.$wday()];break;case "a":f+=na[c.$wday()];break;case "u":f+=c.$wday()+1;break;case "w":f+=c.$wday();break;case "V":f+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":f+=
c.$cweek_cyear()["$[]"](1);break;case "g":f+=c.$cweek_cyear()["$[]"](1)["$[]"](E(-2,-1,!1));break;case "s":f+=c.$to_i();break;case "n":f+="\n";break;case "t":f+="\t";break;case "%":f+="%";break;case "c":f+=c.$strftime("%a %b %e %T %Y");break;case "D":case "x":f+=c.$strftime("%m/%d/%y");break;case "F":f+=c.$strftime("%Y-%m-%d");break;case "v":f+=c.$strftime("%e-%^b-%4Y");break;case "r":f+=c.$strftime("%I:%M:%S %p");break;case "R":f+=c.$strftime("%H:%M");break;case "T":case "X":f+=c.$strftime("%H:%M:%S");
break;default:return a}h&&(f=f.toUpperCase());q&&(f=f.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));k&&(g||l)&&(f=f.$rjust(isNaN(d)?2:d,l?" ":"0"));return f})},U.$$arity=1);b.def(l,"$sunday?",ia=function(){return 0==this.$wday()},ia.$$arity=0);b.def(l,"$thursday?",V=function(){return 4==this.$wday()},V.$$arity=0);b.def(l,"$to_a",ha=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),
this.$isdst(),this.$zone()]},ha.$$arity=0);b.def(l,"$to_f",Z=function(){return this.getTime()/1E3},Z.$$arity=0);b.def(l,"$to_i",qa=function(){return parseInt(this.getTime()/1E3,10)},qa.$$arity=0);b.alias(l,"to_s","inspect");b.def(l,"$tuesday?",ma=function(){return 2==this.$wday()},ma.$$arity=0);b.alias(l,"tv_sec","to_i");b.alias(l,"tv_usec","usec");b.alias(l,"utc?","gmt?");b.alias(l,"gmtoff","gmt_offset");b.alias(l,"utc_offset","gmt_offset");b.def(l,"$wday",fa=function(){return this.is_utc?this.getUTCDay():
this.getDay()},fa.$$arity=0);b.def(l,"$wednesday?",ka=function(){return 3==this.$wday()},ka.$$arity=0);b.def(l,"$year",Ba=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},Ba.$$arity=0);return(b.def(l,"$cweek_cyear",Y=function(){var a,c=A,b=A,e=b=b=c=A,e=A,c=p(d,"Time").$new(this.$year(),1,1),b=c.$wday(),c=this.$year();f(f(a=x(b,4))?b["$!="](0):a)?b=r(b,1):(b=r(r(b,7),1),b["$=="](-8)&&(b=-1));b=F(B(this.$yday(),b),7).$ceil();if(f(x(b,0)))return p(d,"Time").$new(r(this.$year(),
1),12,31).$cweek_cyear();b["$=="](53)&&(e=p(d,"Time").$new(this.$year(),12,31),e=e.$wday(),f(f(a=x(e,3))?e["$!="](0):a)&&(b=1,c=B(c,1)));return[b,c]},Y.$$arity=0),A)&&"cweek_cyear"}(h[0],Date,h)},Opal.modules["corelib/struct"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function F(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function r(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function x(a,b){return"number"===
typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=b.top,A=[],p=b.nil,w=b.const_get_relative,a=b.klass,f=b.truthy,E=b.send,t=b.hash2;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $alias_method $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $class $last $> $length $- $keys $any? $join $[] $[]= $each_with_index $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $each_pair $inspect $each_with_object $flatten $to_a $respond_to? $dig".split(" "));
h.$require("corelib/enumerable");return function(h,$super,e){function c(){}h=c=a(h,$super,"Struct",c);var l=[h].concat(e),d,y,v,g,k,q,A,u,Ea,D,aa,da,J,ja,va,z,T,oa,ba;h.$include(w(l,"Enumerable"));b.defs(h,"$new",d=function(a,c,e){var g,k,h,m,q,u=d.$$p,v=u||p;h=p;h=b.slice.call(arguments,1,arguments.length);e=b.extract_kwargs(h);if(null==e||!e.$$is_hash)if(null==e)e=t([],{});else throw b.ArgumentError.$new("expected kwargs");m=e.$$smap.keyword_init;null==m&&(m=!1);q=0<h.length?h.splice(0,h.length-
0):[];u&&(d.$$p=null);if(f(a))try{a=w(l,"Opal")["$const_name!"](a)}catch(D){if(b.rescue(D,[w(l,"TypeError"),w(l,"NameError")]))try{q.$unshift(a),a=p}finally{b.pop_exception()}else throw D;}E(q,"map",[],(g=function(a){null==a&&(a=p);return w(l,"Opal")["$coerce_to!"](a,w(l,"String"),"to_str")},g.$$s=this,g.$$arity=1,g));h=E(w(l,"Class"),"new",[this],(k=function(){var a=k.$$s||this,c;E(q,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=p);return b.$define_struct_attribute(a)},c.$$s=a,c.$$arity=
1,c));return function(a,c){[a].concat(c);var d;b.def(a,"$new",d=function(a){var c,d=p,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];d=this.$allocate();d.$$data={};E(d,"initialize",b.to_a(c));return d},d.$$arity=-1);return a.$alias_method("[]","new")}(b.get_singleton_class(a),l)},k.$$s=this,k.$$arity=0,k));f(v)&&E(h,"module_eval",[],v.$to_proc());h.$$keyword_init=m;f(a)&&w(l,"Struct").$const_set(a,h);return h},d.$$arity=-2);b.defs(h,"$define_struct_attribute",
y=function(a){var c,b;this["$=="](w(l,"Struct"))&&this.$raise(w(l,"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);E(this,"define_method",[a],(c=function(){return(c.$$s||this).$$data[a]},c.$$s=this,c.$$arity=0,c));return E(this,"define_method",[""+a+"="],(b=function(c){var d=b.$$s||this;null==c&&(c=p);return d.$$data[a]=c},b.$$s=this,b.$$arity=1,b))},y.$$arity=1);b.defs(h,"$members",v=function(){var a;null==this.members&&(this.members=p);this["$=="](w(l,
"Struct"))&&this.$raise(w(l,"ArgumentError"),"the Struct class has no members");return this.members=f(a=this.members)?a:[]},v.$$arity=0);b.defs(h,"$inherited",g=function(a){var c,b=p;null==this.members&&(this.members=p);b=this.members;return E(a,"instance_eval",[],(c=function(){return(c.$$s||this).members=b},c.$$s=this,c.$$arity=0,c))},g.$$arity=1);b.def(h,"$initialize",k=function(a){var c,d,e,g,k=p,h=p,h=arguments.length,m=h-0;0>m&&(m=0);g=Array(m);for(m=0;m<h;m++)g[m-0]=arguments[m];if(f(this.$class().$$keyword_init))return k=
f(c=g.$last())?c:t([],{}),f(f(c=B(g.$length(),1))?c:1===g.length&&!k.$$is_hash)&&this.$raise(w(l,"ArgumentError"),"wrong number of arguments (given "+g.$length()+", expected 0)"),h=F(k.$keys(),this.$class().$members()),f(h["$any?"]())&&this.$raise(w(l,"ArgumentError"),"unknown keywords: "+h.$join(", ")),E(this.$class().$members(),"each",[],(d=function(a){var c=d.$$s||this,f=p;null==a&&(a=p);f=[a,k["$[]"](a)];E(c,"[]=",b.to_a(f));return f[F(f.length,1)]},d.$$s=this,d.$$arity=1,d));f(B(g.$length(),
this.$class().$members().$length()))&&this.$raise(w(l,"ArgumentError"),"struct size differs");return E(this.$class().$members(),"each_with_index",[],(e=function(a,c){var d=e.$$s||this,f=p;null==a&&(a=p);null==c&&(c=p);f=[a,g["$[]"](c)];E(d,"[]=",b.to_a(f));return f[F(f.length,1)]},e.$$s=this,e.$$arity=2,e))},k.$$arity=-1);b.def(h,"$members",q=function(){return this.$class().$members()},q.$$arity=0);b.def(h,"$hash",A=function(){return w(l,"Hash").$new(this.$$data).$hash()},A.$$arity=0);b.def(h,"$[]",
u=function(a){f(w(l,"Integer")["$==="](a))?(f(r(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(w(l,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),f(x(a,this.$class().$members().$size()))&&this.$raise(w(l,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):f(w(l,"String")["$==="](a))?this.$$data.hasOwnProperty(a)||this.$raise(w(l,"NameError").$new("no member '"+
a+"' in struct",a)):this.$raise(w(l,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=w(l,"Opal")["$coerce_to!"](a,w(l,"String"),"to_str");return this.$$data[a]},u.$$arity=1);b.def(h,"$[]=",Ea=function(a,c){f(w(l,"Integer")["$==="](a))?(f(r(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(w(l,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),f(x(a,this.$class().$members().$size()))&&this.$raise(w(l,"IndexError"),"offset "+
a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):f(w(l,"String")["$==="](a))?f(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(w(l,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(w(l,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=w(l,"Opal")["$coerce_to!"](a,w(l,"String"),"to_str");return this.$$data[a]=c},Ea.$$arity=2);b.def(h,"$==",D=function(a){function c(a,f){var e,g,k;b[a.$__id__()]=
!0;d[f.$__id__()]=!0;for(e in a.$$data)if(g=a.$$data[e],k=f.$$data[e],w(l,"Struct")["$==="](g)){if(!(b.hasOwnProperty(g.$__id__())&&d.hasOwnProperty(k.$__id__())||c(g,k)))return!1}else if(!g["$=="](k))return!1;return!0}if(!f(a["$instance_of?"](this.$class())))return!1;var b={},d={};return c(this,a)},D.$$arity=1);b.def(h,"$eql?",aa=function(a){function c(a,f){var e,g,k;b[a.$__id__()]=!0;d[f.$__id__()]=!0;for(e in a.$$data)if(g=a.$$data[e],k=f.$$data[e],w(l,"Struct")["$==="](g)){if(!(b.hasOwnProperty(g.$__id__())&&
d.hasOwnProperty(k.$__id__())||c(g,k)))return!1}else if(!g["$eql?"](k))return!1;return!0}if(!f(a["$instance_of?"](this.$class())))return!1;var b={},d={};return c(this,a)},aa.$$arity=1);b.def(h,"$each",da=function(){var a,c,d=da.$$p,f=d||p;d&&(da.$$p=null);if(f===p)return E(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));E(this.$class().$members(),"each",[],(c=function(a){var d=c.$$s||this;null==a&&(a=p);return b.yield1(f,d["$[]"](a))},c.$$s=this,c.$$arity=
1,c));return this},da.$$arity=0);b.def(h,"$each_pair",J=function(){var a,c,d=J.$$p,f=d||p;d&&(J.$$p=null);if(f===p)return E(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));E(this.$class().$members(),"each",[],(c=function(a){var d=c.$$s||this;null==a&&(a=p);return b.yield1(f,[a,d["$[]"](a)])},c.$$s=this,c.$$arity=1,c));return this},J.$$arity=0);b.def(h,"$length",ja=function(){return this.$class().$members().$length()},ja.$$arity=0);b.alias(h,"size",
"length");b.def(h,"$to_a",va=function(){var a;return E(this.$class().$members(),"map",[],(a=function(c){var b=a.$$s||this;null==c&&(c=p);return b["$[]"](c)},a.$$s=this,a.$$arity=1,a))},va.$$arity=0);b.alias(h,"values","to_a");b.def(h,"$inspect",z=function(){var a,c,b=p,b="#<struct ";f(f(a=w(l,"Struct")["$==="](this))?this.$class().$name():a)&&(b=n(b,""+this.$class()+" "));b=n(b,E(this.$each_pair(),"map",[],(c=function(a,c){null==a&&(a=p);null==c&&(c=p);return""+a+"="+c.$inspect()},c.$$s=this,c.$$arity=
2,c)).$join(", "));return b=n(b,">")},z.$$arity=0);b.alias(h,"to_s","inspect");b.def(h,"$to_h",T=function(){var a;return E(this.$class().$members(),"each_with_object",[t([],{})],(a=function(c,d){var f=a.$$s||this,e=p;null==c&&(c=p);null==d&&(d=p);e=[c,f["$[]"](c)];E(d,"[]=",b.to_a(e));return e[F(e.length,1)]},a.$$s=this,a.$$arity=2,a))},T.$$arity=0);b.def(h,"$values_at",oa=function(a){var c,b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];b=E(b,"map",[],(c=
function(a){null==a&&(a=p);return a.$$is_range?a.$to_a():a},c.$$s=this,c.$$arity=1,c)).$flatten();c=[];d=0;for(f=b.length;d<f;d++)b[d].$$is_number||this.$raise(w(l,"TypeError"),"no implicit conversion of "+b[d].$class()+" into Integer"),c.push(this["$[]"](b[d]));return c},oa.$$arity=-1);return(b.def(h,"$dig",ba=function(a,c){var d,e=p,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var g=1;g<e;g++)d[g-1]=arguments[g];e=f(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||p:p;if(e===
p||0===d.length)return e;f(e["$respond_to?"]("dig"))||this.$raise(w(l,"TypeError"),""+e.$class()+" does not have #dig method");return E(e,"dig",b.to_a(d))},ba.$$arity=-2),p)&&"dig"}(A[0],null,A)},Opal.modules["corelib/io"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var F=[],r=b.nil,x=b.const_get_qualified,n=b.const_get_relative,h=b.klass,A=b.module,p=b.send,w=b.gvars,a=b.truthy,f=r;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));
(function(f,$super,C){function e(){}f=e=h(f,$super,"IO",e);var c=f.$$proto;C=[f].concat(C);var l,d,E,v;c.tty=c.closed=r;b.const_set(C[0],"SEEK_SET",0);b.const_set(C[0],"SEEK_CUR",1);b.const_set(C[0],"SEEK_END",2);b.def(f,"$tty?",l=function(){return this.tty},l.$$arity=0);b.def(f,"$closed?",d=function(){return this.closed},d.$$arity=0);f.$attr_accessor("write_proc");b.def(f,"$write",E=function(a){this.write_proc(a);return a.$size()},E.$$arity=1);f.$attr_accessor("sync","tty");b.def(f,"$flush",v=function(){return r},
v.$$arity=0);(function(c,d){var f=A(c,"Writable");[f].concat(d);var e,l,h;b.def(f,"$<<",e=function(a){this.$write(a);return this},e.$$arity=1);b.def(f,"$print",l=function(a){var c,b;null==w[","]&&(w[","]=r);var d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];this.$write(p(b,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=r);return b.$String(a)},c.$$s=this,c.$$arity=1,c)).$join(w[","]));return r},l.$$arity=-1);b.def(f,"$puts",h=function(c){var b,d,f=r;null==
w["/"]&&(w["/"]=r);f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];f=w["/"];a(d["$empty?"]())?this.$write(w["/"]):this.$write(p(d,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=r);return c.$String(a).$chomp()},b.$$s=this,b.$$arity=1,b)).$concat([r]).$join(f));return r},h.$$arity=-1)})(C[0],C);return function(a,c){var d=A(a,"Readable"),f=[d].concat(c),e,l,h,t;b.def(d,"$readbyte",e=function(){return this.$getbyte()},e.$$arity=0);b.def(d,"$readchar",l=function(){return this.$getc()},
l.$$arity=0);b.def(d,"$readline",h=function(a){null==w["/"]&&(w["/"]=r);return this.$raise(n(f,"NotImplementedError"))},h.$$arity=-1);b.def(d,"$readpartial",t=function(a,c){return this.$raise(n(f,"NotImplementedError"))},t.$$arity=-2)}(C[0],C)})(F[0],null,F);b.const_set(F[0],"STDERR",w.stderr=n(F,"IO").$new());b.const_set(F[0],"STDIN",w.stdin=n(F,"IO").$new());b.const_set(F[0],"STDOUT",w.stdout=n(F,"IO").$new());var E=b.global.console,f=["object"===typeof process&&"object"===typeof process.stdout?
function(a){process.stdout.write(a)}:function(a){E.log(a)}];p(n(F,"STDOUT"),"write_proc=",b.to_a(f));f[B(f.length,1)];f=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:function(a){E.warn(a)}];p(n(F,"STDERR"),"write_proc=",b.to_a(f));f[B(f.length,1)];n(F,"STDOUT").$extend(x(n(F,"IO"),"Writable"));return n(F,"STDERR").$extend(x(n(F,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(b){var B,F,r=b.top,x=[],n=b.nil,h=b.const_get_relative;b.add_stubs(["$include"]);
b.defs(r,"$to_s",B=function(){return"main"},B.$$arity=0);return(b.defs(r,"$include",F=function(b){return h(x,"Object").$include(b)},F.$$arity=1),n)&&"include"},Opal.modules["corelib/dir"]=function(b){var B=[],F=b.nil,r=b.const_get_relative,x=b.klass,n=b.truthy;b.add_stubs(["$[]"]);return function(h,$super,p){function w(){}h=w=x(h,$super,"Dir",w);p=[h].concat(p);return function(a,f){var h=[a].concat(f),t,m,C;b.def(a,"$chdir",t=function(a){var c=t.$$p,f=c||F,d=F;c&&(t.$$p=null);var h;a:{try{d=b.current_dir;
b.current_dir=a;h=b.yieldX(f,[]);break a}finally{b.current_dir=d}h=void 0}return h},t.$$arity=1);b.def(a,"$pwd",m=function(){return b.current_dir||"."},m.$$arity=0);b.alias(a,"getwd","pwd");return(b.def(a,"$home",C=function(){var a;return n(a=r(h,"ENV")["$[]"]("HOME"))?a:"."},C.$$arity=0),F)&&"home"}(b.get_singleton_class(h),p)}(B[0],null,B)},Opal.modules["corelib/file"]=function(b){function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function F(a,b){return"number"===typeof a&&
"number"===typeof b?a-b:a["$-"](b)}var r=[],x=b.nil,n=b.const_get_relative,h=b.klass,A=b.truthy,p=b.range,w=b.send;b.add_stubs("$home $raise $start_with? $+ $sub $pwd $split $unshift $join $respond_to? $coerce_to! $basename $empty? $rindex $[] $nil? $== $- $length $gsub $find $=~ $map $each_with_index $flatten $reject $to_proc $end_with?".split(" "));return function(a,$super,E){function t(){}a=t=h(a,$super,"File",t);E=[a].concat(E);var m=x;b.const_set(E[0],"Separator",b.const_set(E[0],"SEPARATOR",
"/"));b.const_set(E[0],"ALT_SEPARATOR",x);b.const_set(E[0],"PATH_SEPARATOR",":");b.const_set(E[0],"FNM_SYSCASE",0);m=/^[a-zA-Z]:(?:\\|\/)/;return function(a,e){function c(a){A(a["$respond_to?"]("to_path"))&&(a=a.$to_path());return a=n(d,"Opal")["$coerce_to!"](a,n(d,"String"),"to_str")}function l(){return n(d,"ALT_SEPARATOR")===x?b.escape_regexp(n(d,"SEPARATOR")):b.escape_regexp(B(n(d,"SEPARATOR"),n(d,"ALT_SEPARATOR")))}var d=[a].concat(e),h,t,g,k,q,E,u,r;b.def(a,"$expand_path",h=function(a,c){var b,
e=x,g=x,k=x,h=x,q=x,e=q=g=h=q=h=x;null==c&&(c=x);e=n(d,"SEPARATOR");g=l();k=[];A("~"===a[0]||c&&"~"===c[0])&&(h=n(d,"Dir").$home(),A(h)||this.$raise(n(d,"ArgumentError"),"couldn't find HOME environment -- expanding `~'"),A(h["$start_with?"](e))||this.$raise(n(d,"ArgumentError"),"non-absolute home"),h=B(h,e),q=new RegExp("^\\~(?:"+e+"|$)"),a=a.$sub(q,h),A(c)&&(c=c.$sub(q,h)));c=A(b=c)?b:n(d,"Dir").$pwd();h=a.substr(0,e.length)===e||m.test(a);q=c.substr(0,e.length)===e||m.test(c);A(h)?(h=a.$split(new RegExp("["+
g+"]")),g=m.test(a)?"":a.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"),q=!0):(h=B(c.$split(new RegExp("["+g+"]")),a.$split(new RegExp("["+g+"]"))),g=m.test(c)?"":c.$sub(new RegExp("^(["+g+"]+).*$"),"\\1"));for(var u=0,t=h.length;u<t;u++)b=h[u],b===x||""===b&&(0===k.length||q)||"."===b&&(0===k.length||q)||(".."===b?k.pop():k.push(b));q||"."===h[0]||k.$unshift(".");e=k.$join(e);A(q)&&(e=B(g,e));return e},h.$$arity=-2);b.alias(a,"realpath","expand_path");b.def(a,"$dirname",t=function(a){var b=x,b=l();a=c(a);
var d=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");return""===a?d?"/":".":a},t.$$arity=1);b.def(a,"$basename",g=function(a,e){var g=x;null==e&&(e=x);g=l();a=c(a);if(0==a.length)return a;e=e!==x?n(d,"Opal")["$coerce_to!"](e,n(d,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+g+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+g+"])?([^"+g+"]+)$"),"$1");".*"===e?a=a.replace(/\.[^\.]+$/,""):
null!==e&&(e=b.escape_regexp(e),a=a.replace(new RegExp(""+e+"$"),""));return a},g.$$arity=-2);b.def(a,"$extname",k=function(a){var d,e=x,g=x;a=c(a);e=this.$basename(a);if(A(e["$empty?"]()))return"";g=e["$[]"](p(1,-1,!1)).$rindex(".");return A(A(d=g["$nil?"]())?d:B(g,1)["$=="](F(e.$length(),1)))?"":e["$[]"](b.Range.$new(B(g,1),-1,!1))},k.$$arity=1);b.def(a,"$exist?",q=function(a){return null!=b.modules[a]},q.$$arity=1);b.alias(a,"exists?","exist?");b.def(a,"$directory?",E=function(a){var c,e=x,e=x,
e=[],g;for(g in b.modules)e.push(g);a=a.$gsub(new RegExp("(^."+n(d,"SEPARATOR")+"+|"+n(d,"SEPARATOR")+"+$)"));return e=w(e,"find",[],(c=function(c){null==c&&(c=x);return c["$=~"](new RegExp("^"+a))},c.$$s=this,c.$$arity=1,c))},E.$$arity=1);b.def(a,"$join",u=function(a){var c,b,e,g=x,k=arguments.length,l=k-0;0>l&&(l=0);e=Array(l);for(l=0;l<k;l++)e[l-0]=arguments[l];if(A(e["$empty?"]()))return"";g="";e=w(e.$flatten().$each_with_index(),"map",[],(c=function(a,c){null==a&&(a=x);null==c&&(c=x);return A(c["$=="](0)?
a["$empty?"]():c["$=="](0))?n(d,"SEPARATOR"):A(e.$length()["$=="](B(c,1))?a["$empty?"]():e.$length()["$=="](B(c,1)))?n(d,"SEPARATOR"):a},c.$$s=this,c.$$arity=2,c));e=w(e,"reject",[],"empty?".$to_proc());w(e,"each_with_index",[],(b=function(a,c){var b,k=x;null==a&&(a=x);null==c&&(c=x);k=e["$[]"](B(c,1));if(A(k["$nil?"]()))return g=""+g+a;A(A(b=a["$end_with?"](n(d,"SEPARATOR")))?k["$start_with?"](n(d,"SEPARATOR")):b)&&(a=a.$sub(new RegExp(""+n(d,"SEPARATOR")+"+$"),""));return g=A(A(b=a["$end_with?"](n(d,
"SEPARATOR")))?b:k["$start_with?"](n(d,"SEPARATOR")))?""+g+a:""+g+a+n(d,"SEPARATOR")},b.$$s=this,b.$$arity=2,b));return g},u.$$arity=-1);return(b.def(a,"$split",r=function(a){return a.$split(n(d,"SEPARATOR"))},r.$$arity=1),x)&&"split"}(b.get_singleton_class(a),E)}(r[0],n(r,"IO"),r)},Opal.modules["corelib/process"]=function(b){var B=[],F=b.nil,r=b.const_get_qualified,x=b.const_get_relative,n=b.klass,h=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));
(function(A,$super,w){function a(){}A=a=n(A,$super,"Process",a);var f=[A].concat(w),E,t,m,C;w=F;A.__clocks__=[];b.defs(A,"$__register_clock__",E=function(a,b){null==this.__clocks__&&(this.__clocks__=F);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](b)},E.$$arity=2);A.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});w=!1;if(b.global.performance)w=function(){return performance.now()};else if(b.global.process&&process.hrtime){var e=process.hrtime();w=function(){var a=
process.hrtime(e);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}h(w)&&A.$__register_clock__("CLOCK_MONOTONIC",w);b.defs(A,"$pid",t=function(){return 0},t.$$arity=0);b.defs(A,"$times",m=function(){var a=F,a=x(f,"Time").$now().$to_f();return r(x(f,"Benchmark"),"Tms").$new(a,a,a,a,a)},m.$$arity=0);return(b.defs(A,"$clock_gettime",C=function(a,b){var d,e=F;null==this.__clocks__&&(this.__clocks__=F);null==b&&(b="float_second");h(d=e=this.__clocks__["$[]"](a))?d:this.$raise(r(x(f,"Errno"),"EINVAL"),"clock_gettime("+
a+") "+this.__clocks__["$[]"](a));d=e();switch(b){case "float_second":return d/1E3;case "float_millisecond":return d/1;case "float_microsecond":return 1E3*d;case "second":return d/1E3|0;case "millisecond":return d/1|0;case "microsecond":return 1E3*d|0;case "nanosecond":return 1E6*d|0;default:this.$raise(x(f,"ArgumentError"),"unexpected unit: "+b)}},C.$$arity=-2),F)&&"clock_gettime"})(B[0],null,B);(function(h,$super,x){function a(){}h=a=n(h,$super,"Signal",a);[h].concat(x);var f;return(b.defs(h,"$trap",
f=function(a){return F},f.$$arity=-1),F)&&"trap"})(B[0],null,B);return function(h,$super,x){function a(){}h=a=n(h,$super,"GC",a);[h].concat(x);var f;return(b.defs(h,"$start",f=function(){return F},f.$$arity=0),F)&&"start"}(B[0],null,B)},Opal.modules["corelib/random/seedrandom"]=function(b){var B=[],F=b.klass;return function(b,$super,n){function h(){}[h=F(b,$super,"Random",h)].concat(n);!function(b,h){function n(c,e,q){var D=[];e=1==e?{entropy:!0}:e||{};c=t(E(e.entropy?[c,C(b)]:null==c?m():c,3),D);
var w=new a(D),D=function(){for(var a=w.g(d),c=v,b=0;a<g;)a=(a+b)*l,c*=l,b=w.g(1);for(;a>=k;)a/=2,c/=2,b>>>=1;return(a+b)/c};return D.int32=function(){return 0|w.g(4)},D.quick=function(){return w.g(4)/4294967296},D["double"]=D,t(C(w.S),b),(e.pass||q||function(a,c,b,d){return d&&(d.S&&f(d,w),a.state=function(){return f(w,{})}),b?(h[y]=a,c):a})(D,c,"global"in e?e.global:this==h,e.state)}function a(a){var c,b=a.length,d=this,f=0,e=d.i=d.j=0,g=d.S=[];for(b||(a=[b++]);f<l;)g[f]=f++;for(f=0;f<l;f++)g[f]=
g[e=q&e+a[f%b]+(c=g[f])],g[e]=c;(d.g=function(a){for(var c,b=0,f=d.i,e=d.j,g=d.S;a--;)c=g[f=q&f+1],b=b*l+g[q&(g[f]=g[e=q&e+c])+(g[e]=c)];return d.i=f,d.j=e,b})(l)}function f(a,c){return c.i=a.i,c.j=a.j,c.S=a.S.slice(),c}function E(a,c){var b,d=[],f=typeof a;if(c&&"object"==f)for(b in a)if(a.hasOwnProperty(b))try{d.push(E(a[b],c-1))}catch(e){}return d.length?d:"string"==f?a:a+"\x00"}function t(a,c){for(var b,d=a+"",f=0;f<d.length;)c[q&f]=q&(b^=19*c[q&f])+d.charCodeAt(f++);return C(c)}function m(){try{if(e)return C(e.randomBytes(l));
var a=new Uint8Array(l);return(c.crypto||c.msCrypto).getRandomValues(a),C(a)}catch(d){return a=c.navigator,[+new Date,c,a&&a.plugins,c.screen,C(b)]}}function C(a){return String.fromCharCode.apply(0,a)}var e,c=this,l=256,d=6,y="random",v=h.pow(l,d),g=h.pow(2,52),k=2*g,q=l-1;if(h["seed"+y]=n,t(h.random(),b),"object"==typeof module&&module.exports){module.exports=n;try{e=require("crypto")}catch(r){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return n})}([],Math)}(B[0],
null,B)},Opal.modules["corelib/random"]=function(b){var B=b.top,F=[],r=b.nil,x=b.const_get_relative,n=b.klass,h=b.truthy,A=b.send;b.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $< $raise $encode $join $new $chr $=== $== $state".split(" "));B.$require("corelib/random/seedrandom.js");return function(p,$super,a){function f(){}p=f=n(p,$super,"Random",f);var E=[p].concat(a),t,m,C,e,c,l,d,y,v;p.$attr_reader("seed","state");b.def(p,"$initialize",t=function(a){null==a&&(a=x(E,
"Random").$new_seed());this.state=a=x(E,"Opal")["$coerce_to!"](a,x(E,"Integer"),"to_int");return this.$reseed(a)},t.$$arity=-1);b.def(p,"$reseed",m=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},m.$$arity=1);var g=new Math.seedrandom("opal",{entropy:!0});b.defs(p,"$new_seed",C=function(){return Math.abs(g.int32())},C.$$arity=0);b.defs(p,"$rand",e=function(a){return x(E,"DEFAULT").$rand(a)},e.$$arity=-1);b.defs(p,"$srand",c=function(a){var c=r;null==a&&(a=x(E,"Random").$new_seed());
a=x(E,"Opal")["$coerce_to!"](a,x(E,"Integer"),"to_int");c=x(E,"DEFAULT").$seed();x(E,"DEFAULT").$reseed(a);return c},c.$$arity=-1);b.defs(p,"$urandom",l=function(a){var c;a=x(E,"Opal")["$coerce_to!"](a,x(E,"Integer"),"to_int");h("number"===typeof a?0>a:a["$<"](0))&&this.$raise(x(E,"ArgumentError"),"negative string size (or size too big)");return A(x(E,"Array"),"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode("ASCII-8BIT")},l.$$arity=1);b.const_set(E[0],
"DEFAULT",p.$new(p.$new_seed()));b.def(p,"$==",d=function(a){return h(x(E,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},d.$$arity=1);b.def(p,"$bytes",y=function(a){var c;a=x(E,"Opal")["$coerce_to!"](a,x(E,"Integer"),"to_int");return A(x(E,"Array"),"new",[a],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode("ASCII-8BIT")},y.$$arity=1);return(b.def(p,"$rand",v=function(a){function c(){d.state++;
return d.$rng.quick()}function b(){var c=a.begin,f=a.end;if(c===r||f===r)return r;var e=f-c;if(0>e)return r;if(0===e)return c;0!==f%1||0!==c%1||a.excl||e++;return d.$rand(e)+c}var d=this;if(null==a)return c();if(a.$$is_range)return b();if(a.$$is_number)return 0>=a&&d.$raise(x(E,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(c()*a):c()*a;a=x(E,"Opal")["$coerce_to!"](a,x(E,"Integer"),"to_int");0>=a&&d.$raise(x(E,"ArgumentError"),"invalid argument - "+a);return Math.floor(c()*a)},v.$$arity=
-1),r)&&"rand"}(F[0],null,F)},Opal.modules["corelib/unsupported"]=function(b){function B(f){switch(b.config.unsupported_features_severity){case "error":A(n,"Kernel").$raise(A(n,"NotImplementedError"),f);break;case "warning":a[f]||(a[f]=!0,x.$warn(f))}}var F,r,x=b.top,n=[],h=b.nil,A=b.const_get_relative,p=b.klass,w=b.module;b.add_stubs(["$raise","$warn","$%"]);var a={};(function(a,$super,t){function m(){}a=m=p(a,$super,"String",m);var C=[a].concat(t),e,c,l,d,y,v,g,k,q,n,u,x,D,w,r,J,B,F,z;b.def(a,"$<<",
e=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},e.$$arity=-1);b.def(a,"$capitalize!",c=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},c.$$arity=-1);b.def(a,"$chomp!",l=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},
l.$$arity=-1);b.def(a,"$chop!",d=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},d.$$arity=-1);b.def(a,"$downcase!",y=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},y.$$arity=-1);b.def(a,"$gsub!",v=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},
v.$$arity=-1);b.def(a,"$lstrip!",g=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},g.$$arity=-1);b.def(a,"$next!",k=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},k.$$arity=-1);b.def(a,"$reverse!",q=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
q.$$arity=-1);b.def(a,"$slice!",n=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},n.$$arity=-1);b.def(a,"$squeeze!",u=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},u.$$arity=-1);b.def(a,"$strip!",x=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
x.$$arity=-1);b.def(a,"$sub!",D=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},D.$$arity=-1);b.def(a,"$succ!",w=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},w.$$arity=-1);b.def(a,"$swapcase!",r=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},
r.$$arity=-1);b.def(a,"$tr!",J=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},J.$$arity=-1);b.def(a,"$tr_s!",B=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},B.$$arity=-1);b.def(a,"$upcase!",F=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},
F.$$arity=-1);return(b.def(a,"$prepend",z=function(a){return this.$raise(A(C,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("prepend"))},z.$$arity=-1),h)&&"prepend"})(n[0],null,n);(function(a,h){var t=w(a,"Kernel");[t].concat(h);var m,C;b.def(t,"$freeze",m=function(){B("Object freezing is not supported by Opal");return this},m.$$arity=0);b.def(t,"$frozen?",C=function(){B("Object freezing is not supported by Opal");return!1},C.$$arity=0)})(n[0],
n);(function(a,h){var t=w(a,"Kernel");[t].concat(h);var m,C,e;b.def(t,"$taint",m=function(){B("Object tainting is not supported by Opal");return this},m.$$arity=0);b.def(t,"$untaint",C=function(){B("Object tainting is not supported by Opal");return this},C.$$arity=0);b.def(t,"$tainted?",e=function(){B("Object tainting is not supported by Opal");return!1},e.$$arity=0)})(n[0],n);(function(a,$super,t){function m(){}a=m=p(a,$super,"Module",m);[a].concat(t);var C,e,c,l;b.def(a,"$public",C=function(a){var c,
b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var f=0;f<b;f++)c[f-0]=arguments[f];0===c.length&&(this.$$module_function=!1);return h},C.$$arity=-1);b.alias(a,"private","public");b.alias(a,"protected","public");b.alias(a,"nesting","public");b.def(a,"$private_class_method",e=function(a){return this},e.$$arity=-1);b.alias(a,"public_class_method","private_class_method");b.def(a,"$private_method_defined?",c=function(a){return!1},c.$$arity=1);b.def(a,"$private_constant",l=function(a){return h},l.$$arity=
-1);b.alias(a,"protected_method_defined?","private_method_defined?");b.alias(a,"public_instance_methods","instance_methods");return b.alias(a,"public_method_defined?","method_defined?")})(n[0],null,n);(function(a,h){var t=w(a,"Kernel");[t].concat(h);var m;b.def(t,"$private_methods",m=function(a){return[]},m.$$arity=-1);b.alias(t,"private_instance_methods","private_methods")})(n[0],n);(function(a,h){var t=w(a,"Kernel"),m=[t].concat(h),C;b.def(t,"$eval",C=function(a){return this.$raise(A(m,"NotImplementedError"),
"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+A(m,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},C.$$arity=-1)})(n[0],n);b.defs(x,"$public",F=function(a){return h},F.$$arity=-1);return(b.defs(x,"$private",r=function(a){return h},r.$$arity=-1),h)&&"private"},Opal.modules.opal=function(b){var B=b.top;b.add_stubs(["$require"]);B.$require("opal/base");B.$require("opal/mini");B.$require("corelib/string/inheritance");B.$require("corelib/string/encoding");
B.$require("corelib/math");B.$require("corelib/complex");B.$require("corelib/rational");B.$require("corelib/time");B.$require("corelib/struct");B.$require("corelib/io");B.$require("corelib/main");B.$require("corelib/dir");B.$require("corelib/file");B.$require("corelib/process");B.$require("corelib/random");return B.$require("corelib/unsupported")},Opal.require("opal"));
(function(b,B){"object"===typeof module&&module.exports?module.exports=B:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return B(b.config())}):b.Asciidoctor=B})(this,function(b){Opal.modules["asciidoctor/js/opal_ext/nashorn/dir"]=function(a){var b=[],h=a.klass;return function(b,$super,f){function e(){}b=e=h(b,$super,"Dir",e);f=[b].concat(f);return function(c,b){[c].concat(b);var d;a.def(c,"$pwd",d=function(){return Java.type("java.nio.file.Paths").get("").toAbsolutePath().toString()},
d.$$arity=0);return a.alias(c,"getwd","pwd")}(a.get_singleton_class(b),f)}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/file"]=function(a){var b=[],h=a.nil,t=a.klass;return function(b,$super,f){function c(){}b=c=t(b,$super,"File",c);[b].concat(f);var l;return(a.defs(b,"$read",l=function(a){var c=Java.type("java.nio.file.Paths"),b=[];Java.type("java.nio.file.Files").readAllLines(c.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){b.push(a)});return b.join("\n")},
l.$$arity=1),h)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=a.nil,t=a.send,m=a.gvars,C=h;null==m.stdout&&(m.stdout=h);null==m.stderr&&(m.stderr=h);a.add_stubs(["$write_proc=","$-"]);C=[function(a){print(a)}];t(m.stdout,"write_proc=",a.to_a(C));C[b(C.length,1)];C=[function(a){print(a)}];t(m.stderr,"write_proc=",a.to_a(C));return C[b(C.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=
function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=a.nil,t=a.send,m=a.gvars,C=h;null==m.stdout&&(m.stdout=h);null==m.stderr&&(m.stderr=h);a.add_stubs(["$write_proc=","$-"]);C=[function(a){console.log(a)}];t(m.stdout,"write_proc=",a.to_a(C));C[b(C.length,1)];C=[function(a){console.error(a)}];t(m.stderr,"write_proc=",a.to_a(C));return C[b(C.length,1)]};Opal.modules["asciidoctor/js/opal_ext/phantomjs/file"]=function(a){var b=[],h=a.nil,t=a.klass;return function(b,
$super,f){function c(){}b=c=t(b,$super,"File",c);[b].concat(f);var l;return(a.defs(b,"$read",l=function(a){return require("fs").read(a)},l.$$arity=1),h)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/spidermonkey/file"]=function(a){var b=[],h=a.nil,t=a.klass;return function(b,$super,f){function c(){}b=c=t(b,$super,"File",c);[b].concat(f);var l;return(a.defs(b,"$read",l=function(a){return read(a)},l.$$arity=1),h)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/browser/file"]=
function(a){var b=[],h=a.nil,t=a.const_get_relative,m=a.klass;a.add_stubs(["$new"]);return function(b,$super,c){function f(){}b=f=m(b,$super,"File",f);var d=[b].concat(c),y;return(a.defs(b,"$read",y=function(a){var c="",b=-1;try{var f=new XMLHttpRequest;f.open("GET",a,!1);f.addEventListener("load",function(){b=this.status;if(0===b||200===b)c=this.responseText});f.overrideMimeType("text/plain");f.send()}catch(l){throw t(d,"IOError").$new("Error reading file or directory: "+a+"; reason: "+l.message);
}if(404===b||0===b&&!c)throw t(d,"IOError").$new("No such file or directory: "+a);return c},y.$$arity=1),h)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/umd"]=function(a){var f,h=a.top,t=[],m=a.nil,C=a.const_get_relative,e=a.truthy;a.add_stubs(["$==","$require"]);var c="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,l="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),d="object"===
typeof window,y="object"===typeof Java&&Java.type,v="object"===typeof java,g="object"===typeof window&&"object"===typeof window.phantom,k="function"===typeof importScripts,q="object"===typeof JSRuntime,n,u,p,D;"object"===typeof b&&"object"===typeof b.runtime&&(D=b.runtime,n=D.platform,u=D.engine,p=D.framework,D=D.ioModule);"undefined"===typeof n&&(c?(n=n||"node",u=u||"v8",l&&(p=p||"electron")):y?(n=n||"java",u=u||"nashorn"):v?(n=n||"java",u=u||"rhino"):q?(n=n||"standalone",p=p||"spidermonkey"):d&&
(n=n||"browser",g&&(p=p||"phantomjs")),k&&(p=p||"webworker"));if("undefined"===typeof n)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");"undefined"===typeof p&&(p="");"undefined"===typeof u&&(u="");if("undefined"!==typeof D){if("spidermonkey"!==D&&"phantomjs"!==D&&"node"!==D&&"java_nio"!==D&&"xmlhttprequest"!==D)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");
}else if("spidermonkey"===p)D="spidermonkey";else if("phantomjs"===p)D="phantomjs";else if("node"===n)D="node";else if("nashorn"===u)D="java_nio";else if("browser"===n||"undefined"!==typeof XmlHTTPRequest)D="xmlhttprequest";else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(t[0],"JAVASCRIPT_IO_MODULE",D);a.const_set(t[0],"JAVASCRIPT_PLATFORM",n);a.const_set(t[0],"JAVASCRIPT_ENGINE",u);a.const_set(t[0],
"JAVASCRIPT_FRAMEWORK",p);e(e(f=C(t,"JAVASCRIPT_ENGINE")["$=="]("nashorn"))?f:C(t,"JAVASCRIPT_IO_MODULE")["$=="]("java_nio"))&&(h.$require("asciidoctor/js/opal_ext/nashorn/dir"),h.$require("asciidoctor/js/opal_ext/nashorn/file"),h.$require("asciidoctor/js/opal_ext/nashorn/io"));C(t,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&h.$require("asciidoctor/js/opal_ext/electron/io");C(t,"JAVASCRIPT_PLATFORM")["$=="]("node")&&a.load("nodejs");C(t,"JAVASCRIPT_IO_MODULE")["$=="]("phantomjs")&&h.$require("asciidoctor/js/opal_ext/phantomjs/file");
C(t,"JAVASCRIPT_IO_MODULE")["$=="]("spidermonkey")&&h.$require("asciidoctor/js/opal_ext/spidermonkey/file");return C(t,"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?h.$require("asciidoctor/js/opal_ext/browser/file"):m};Opal.modules.set=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var m=[],C=a.nil,
e=a.const_get_relative,c=a.klass,l=a.hash2,d=a.truthy,y=a.send,v=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(g,$super,m){function v(){}g=v=c(g,$super,"Set",v);var u=g.$$proto,n=[g].concat(m),D,p,x,w,r,A,z,T,
B,ba,G,Q,R,L,S,W,O,X,F,ea,pa,ga,P,U,ia,V,ha,Z;u.hash=C;g.$include(e(n,"Enumerable"));a.defs(g,"$[]",D=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.$new(c)},D.$$arity=-1);a.def(g,"$initialize",p=function(c){var b,f=p.$$p,g=f||C;null==c&&(c=C);f&&(p.$$p=null);this.hash=l([],{});if(d(c["$nil?"]()))return C;d(e(n,"Enumerable")["$==="](c))||this.$raise(e(n,"ArgumentError"),"value must be enumerable");return d(g)?y(c,"each",[],(b=function(c){var d=
b.$$s||this;null==c&&(c=C);return d.$add(a.yield1(g,c))},b.$$s=this,b.$$arity=1,b)):this.$merge(c)},p.$$arity=-1);a.def(g,"$dup",x=function(){var a=C,a=this.$class().$new();return a.$merge(this)},x.$$arity=0);a.def(g,"$-",w=function(a){d(a["$respond_to?"]("each"))||this.$raise(e(n,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},w.$$arity=1);a.alias(g,"difference","-");a.def(g,"$inspect",r=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},r.$$arity=0);a.def(g,
"$==",A=function(a){var c,b;return d(this["$equal?"](a))?!0:d(a["$instance_of?"](this.$class()))?this.hash["$=="](a.$instance_variable_get("@hash")):d(d(c=a["$is_a?"](e(n,"Set")))?this.$size()["$=="](a.$size()):c)?y(a,"all?",[],(b=function(a){var c=b.$$s||this;null==c.hash&&(c.hash=C);null==a&&(a=C);return c.hash["$include?"](a)},b.$$s=this,b.$$arity=1,b)):!1},A.$$arity=1);a.def(g,"$add",z=function(c){var d=C,d=[c,!0];y(this.hash,"[]=",a.to_a(d));d[b(d.length,1)];return this},z.$$arity=1);a.alias(g,
"<<","add");a.def(g,"$classify",T=function(){var c,d,g=T.$$p,l=g||C,h=C;g&&(T.$$p=null);if(l===C)return this.$enum_for("classify");h=y(e(n,"Hash"),"new",[],(c=function(d,e){var g=c.$$s||this,l=C;null==d&&(d=C);null==e&&(e=C);l=[e,g.$class().$new()];y(d,"[]=",a.to_a(l));return l[b(l.length,1)]},c.$$s=this,c.$$arity=2,c));y(this,"each",[],(d=function(c){null==c&&(c=C);return h["$[]"](a.yield1(l,c)).$add(c)},d.$$s=this,d.$$arity=1,d));return h},T.$$arity=0);a.def(g,"$collect!",B=function(){var c,b=B.$$p,
d=b||C,f=C;b&&(B.$$p=null);if(d===C)return this.$enum_for("collect!");f=this.$class().$new();y(this,"each",[],(c=function(c){null==c&&(c=C);return f["$<<"](a.yield1(d,c))},c.$$s=this,c.$$arity=1,c));return this.$replace(f)},B.$$arity=0);a.alias(g,"map!","collect!");a.def(g,"$delete",ba=function(a){this.hash.$delete(a);return this},ba.$$arity=1);a.def(g,"$delete?",G=function(a){return d(this["$include?"](a))?(this.$delete(a),this):C},G.$$arity=1);a.def(g,"$delete_if",Q=function(){var c,b,d=Q.$$p,f=
d||C;d&&(Q.$$p=null);if(f===C)return this.$enum_for("delete_if");y(y(this,"select",[],(c=function(c){null==c&&(c=C);return a.yield1(f,c)},c.$$s=this,c.$$arity=1,c)),"each",[],(b=function(a){var c=b.$$s||this;null==c.hash&&(c.hash=C);null==a&&(a=C);return c.hash.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},Q.$$arity=0);a.def(g,"$add?",R=function(a){return d(this["$include?"](a))?C:this.$add(a)},R.$$arity=1);a.def(g,"$each",L=function(){var a=L.$$p,c=a||C;a&&(L.$$p=null);if(c===C)return this.$enum_for("each");
y(this.hash,"each_key",[],c.$to_proc());return this},L.$$arity=0);a.def(g,"$empty?",S=function(){return this.hash["$empty?"]()},S.$$arity=0);a.def(g,"$eql?",W=function(a){var c;return this.hash["$eql?"](y(a,"instance_eval",[],(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=C);return a.hash},c.$$s=this,c.$$arity=0,c)))},W.$$arity=1);a.def(g,"$clear",O=function(){this.hash.$clear();return this},O.$$arity=0);a.def(g,"$include?",X=function(a){return this.hash["$include?"](a)},X.$$arity=1);a.alias(g,
"member?","include?");a.def(g,"$merge",F=function(a){var c;y(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=C);return b.$add(a)},c.$$s=this,c.$$arity=1,c));return this},F.$$arity=1);a.def(g,"$replace",ea=function(a){this.$clear();this.$merge(a);return this},ea.$$arity=1);a.def(g,"$size",pa=function(){return this.hash.$size()},pa.$$arity=0);a.alias(g,"length","size");a.def(g,"$subtract",ga=function(a){var c;y(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=C);return b.$delete(a)},
c.$$s=this,c.$$arity=1,c));return this},ga.$$arity=1);a.def(g,"$|",P=function(a){d(a["$respond_to?"]("each"))||this.$raise(e(n,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},P.$$arity=1);a.def(g,"$superset?",U=function(a){var c,b;d(c=a["$is_a?"](e(n,"Set")))?c:this.$raise(e(n,"ArgumentError"),"value must be a set");return d(h(this.$size(),a.$size()))?!1:y(a,"all?",[],(b=function(a){var c=b.$$s||this;null==a&&(a=C);return c["$include?"](a)},b.$$s=this,b.$$arity=1,b))},U.$$arity=
1);a.alias(g,">=","superset?");a.def(g,"$proper_superset?",ia=function(a){var c,b;d(c=a["$is_a?"](e(n,"Set")))?c:this.$raise(e(n,"ArgumentError"),"value must be a set");return d(t(this.$size(),a.$size()))?!1:y(a,"all?",[],(b=function(a){var c=b.$$s||this;null==a&&(a=C);return c["$include?"](a)},b.$$s=this,b.$$arity=1,b))},ia.$$arity=1);a.alias(g,">","proper_superset?");a.def(g,"$subset?",V=function(a){var c,b;d(c=a["$is_a?"](e(n,"Set")))?c:this.$raise(e(n,"ArgumentError"),"value must be a set");return d(h(a.$size(),
this.$size()))?!1:y(this,"all?",[],(b=function(c){null==c&&(c=C);return a["$include?"](c)},b.$$s=this,b.$$arity=1,b))},V.$$arity=1);a.alias(g,"<=","subset?");a.def(g,"$proper_subset?",ha=function(a){var c,b;d(c=a["$is_a?"](e(n,"Set")))?c:this.$raise(e(n,"ArgumentError"),"value must be a set");return d(t(a.$size(),this.$size()))?!1:y(this,"all?",[],(b=function(c){null==c&&(c=C);return a["$include?"](c)},b.$$s=this,b.$$arity=1,b))},ha.$$arity=1);a.alias(g,"<","proper_subset?");a.alias(g,"+","|");a.alias(g,
"union","|");return(a.def(g,"$to_a",Z=function(){return this.hash.$keys()},Z.$$arity=0),C)&&"to_a"})(m[0],null,m);return function(c,b){var d=v(c,"Enumerable"),f=[d].concat(b),l;a.def(d,"$to_set",l=function(c,b){var d,g=l.$$p,k=g||C;null==c&&(c=e(f,"Set"));var h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var m=1;m<h;m++)d[m-1]=arguments[m];g&&(l.$$p=null);return y(c,"new",[this].concat(a.to_a(d)),k.$to_proc())},l.$$arity=-1)}(m[0],m)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=
[],h=a.nil,t=a.const_get_relative,m=a.module,C=a.send,e=a.klass,c=a.truthy,l=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $read $size $to_enum $chomp $each_line $readlines $split".split(" "));(function(c,b){var f=m(c,"Kernel"),e=[f].concat(b),k;a.def(f,"$open",k=function(c,b){var d,f=k.$$p,l=f||h,m=h,m=arguments.length;d=m-1;0>d&&(d=0);d=Array(d);for(var v=1;v<m;v++)d[v-1]=arguments[v];f&&(k.$$p=null);m=C(t(e,"File"),"new",[c].concat(a.to_a(d)));return l!==h?a.yield1(l,m):m},k.$$arity=-2)})(b[0],
b);(function(b,$super,f){function g(){}b=g=e(b,$super,"File",g);var k=b.$$proto,m=[b].concat(f),C,u,n,D;k.eof=k.path=h;b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.def(b,"$initialize",C=function(a,c){var b=h;null==c&&(c="r");this.path=a;this.contents=h;this.eof=!1;this.lineno=0;c=c.$delete("b");b=/:(.*)/;return this.flags=c=c.$gsub(b,"")},C.$$arity=-2);a.def(b,"$read",u=function(){var a=h;if(c(this.eof))return"";a=t(m,"File").$read(this.path);this.eof=!0;this.lineno=a.$size();
return a},u.$$arity=0);a.def(b,"$each_line",n=function(b){var d=n.$$p,f=d||h,e=h;null==l["/"]&&(l["/"]=h);null==b&&(b=l["/"]);d&&(n.$$p=null);if(c(this.eof))return f!==h?this:[].$to_enum();if(f!==h){e=t(m,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var d=e.$chomp(),e=e.length!=d.length,d=d.split(b),g=0,k=d.length;g<k;g++)this.lineno+=1,g<k-1||e?a.yield1(f,d[g]+b):a.yield1(f,d[g]);this.eof=!0;return this}return this.$read().$each_line()},n.$$arity=-1);a.def(b,"$readlines",D=function(){return t(m,
"File").$readlines(this.path)},D.$$arity=0);return function(c,b){var d=[c].concat(b),f,e,g,k;a.def(c,"$readlines",f=function(a,c){var b=h;null==l["/"]&&(l["/"]=h);null==c&&(c=l["/"]);b=t(d,"File").$read(a);return b.$split(c)},f.$$arity=-2);a.def(c,"$file?",e=function(a){return!0},e.$$arity=1);a.def(c,"$readable?",g=function(a){return!0},g.$$arity=1);return(a.def(c,"$read",k=function(a){return""},k.$$arity=1),h)&&"read"}(a.get_singleton_class(b),m)})(b[0],null,b);return function(c,$super,b){function f(){}
c=f=e(c,$super,"IO",f);var k=[c].concat(b),l;return(a.defs(c,"$read",l=function(a){return t(k,"File").$read(a)},l.$$arity=1),h)&&"read"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],h=a.nil,t=a.klass,m=a.send;a.add_stubs(["$[]=","$-"]);return function(b,$super,c){function f(){}b=f=t(b,$super,"MatchData",f);var d=b.$$proto;[b].concat(c);var n;d.matches=h;return(a.def(b,"$[]=",n=function(c,b){var d=h,d=[c,b];m(this.matches,"[]=",a.to_a(d));var f=d,d=d.length,
d="number"===typeof d?d-1:d["$-"](1);return f[d]},n.$$arity=2),h)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],h=a.module;return function(b,f){var C=h(b,"Kernel");[C].concat(f);var e;a.def(C,"$freeze",e=function(){return this},e.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(a){var b=[],h=a.nil,t=a.const_get_qualified,m=a.module,C=a.klass;return function(a,c){var b=[m(a,"ThreadSafe")].concat(c);(function(a,$super,c){function b(){}
[b=C(a,$super,"Cache",b)].concat(c);return h})(b[0],t("::","Hash"),b)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],h=a.nil,t=a.klass,m=a.truthy,C=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));return function(b,$super,f){function d(){}b=d=t(b,$super,"String",d);[b].concat(f);var n,v;m(b["$method_defined?"]("limit_bytesize"))||a.def(b,"$limit_bytesize",n=function(a){var b=h,b=
this.$bytes().$length(),b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);if(!m(b))return this.$to_s();b=this.$byteslice(0,a);return b.$to_s()},n.$$arity=1);m(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.def(b,"$unpack",v=function(a){var b;return a["$=="]("C3")?C(this["$[]"](0,3).$bytes().$select(),"with_index",[],(b=function(a,b){null==b&&(b=h);return b["$even?"]()},b.$$s=this,b.$$arity=2,b)):this.$_original_unpack(a)},
v.$$arity=1),h)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/uri"]=function(a){var b=[],h=a.const_get_relative,t=a.module;a.add_stubs(["$extend"]);return function(b,f){var e=t(b,"URI"),c=[e].concat(f),l,d;a.defs(e,"$parse",l=function(a){return a.$extend(h(c,"URI"))},l.$$arity=1);a.def(e,"$path",d=function(){return this},d.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext/file");b.$require("asciidoctor/js/opal_ext/match_data");
b.$require("asciidoctor/js/opal_ext/kernel");b.$require("asciidoctor/js/opal_ext/thread_safe");b.$require("asciidoctor/js/opal_ext/string");b.$require("asciidoctor/js/opal_ext/uri");b.$require("asciidoctor/js/opal_ext/umd")};Opal.modules["asciidoctor/js/rx"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var h=[],t=a.nil,m=a.const_get_relative,C=a.module,e=a.send,c=a.gvars,l=a.truthy;a.add_stubs(["$gsub","$+","$unpack_hex_range"]);return function(d,h){var v=
C(d,"Asciidoctor"),g=[v].concat(h),k;a.const_set(g[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/);a.defs(v,"$unpack_hex_range",k=function(a){var b;return e(a,"gsub",[m(g,"HEX_RANGE_RX")],(b=function(){var a,b;return"\\u"+((a=c["~"])===t?t:a["$[]"](1))+(l(a=(b=c["~"])===t?t:b["$[]"](2))?"-\\u"+((b=c["~"])===t?t:b["$[]"](2)):a)},b.$$s=this,b.$$arity=0,b))},k.$$arity=1);a.const_set(g[0],"P_L",b("A-Za-z",v.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC")));
a.const_set(g[0],"P_Nl",v.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF"));a.const_set(g[0],"P_Nd",b("0-9",v.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19")));a.const_set(g[0],
"P_Pc",v.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F"));a.const_set(g[0],"CC_ALPHA",""+m(g,"P_L")+m(g,"P_Nl"));a.const_set(g[0],"CG_ALPHA","["+m(g,"CC_ALPHA")+"]");a.const_set(g[0],"CC_ALNUM",""+m(g,"CC_ALPHA")+m(g,"P_Nd"));a.const_set(g[0],"CG_ALNUM","["+m(g,"CC_ALNUM")+"]");a.const_set(g[0],"CC_WORD",""+m(g,"CC_ALNUM")+m(g,"P_Pc"));a.const_set(g[0],"CG_WORD","["+m(g,"CC_WORD")+"]");a.const_set(g[0],"CG_BLANK","[ \\t]");a.const_set(g[0],"CC_EOL","(?=\\n|$)");a.const_set(g[0],"CG_GRAPH",
"[^\\s\\x00-\\x1F\\x7F]");a.const_set(g[0],"CC_ALL","[\\s\\S]")}(h[0],h)};Opal.modules.strscan=function(a){var b=[],h=a.nil,t=a.klass,m=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,c){function f(){}b=f=t(b,$super,"StringScanner",f);var d=b.$$proto;[b].concat(c);var n,v,g,k,q,p,u,x,D,w,r,J,A,B,z,T,F,ba,G,Q,R,L,S,W,O;d.pos=d.string=d.working=d.matched=d.prev_pos=d.match=h;b.$attr_reader("pos");b.$attr_reader("matched");
a.def(b,"$initialize",n=function(a){this.string=a;this.pos=0;this.matched=h;this.working=a;return this.match=[]},n.$$arity=1);b.$attr_reader("string");a.def(b,"$beginning_of_line?",v=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},v.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.def(b,"$scan",g=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),
this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):h},g.$$arity=1);a.def(b,"$scan_until",k=function(a){a=this.$anchor(a);for(var c=this.pos,b=this.working,d;;)if(d=a.exec(b),c+=1,b=b.substr(1),null==d){if(0===b.length)return this.matched=h}else return this.matched=this.string.substr(this.pos,c-this.pos-1+d[0].length),this.prev_pos=c-1,this.pos=c,this.working=b.substr(d[0].length),this.matched},k.$$arity=1);a.def(b,"$[]",q=
function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?h:c[a]},q.$$arity=1);a.def(b,"$check",p=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:this.matched=a[0]},p.$$arity=1);a.def(b,"$check_until",u=function(a){var c=this.prev_pos,b=this.pos;a=this.$scan_until(a);a!==h&&(this.matched=a.substr(-1),this.working=this.string.substr(b));this.prev_pos=c;this.pos=b;return a},u.$$arity=1);a.def(b,"$peek",x=function(a){return this.working.substring(0,
a)},x.$$arity=1);a.def(b,"$eos?",D=function(){return 0===this.working.length},D.$$arity=0);a.def(b,"$exist?",w=function(a){a=a.exec(this.working);return null==a?h:0==a.index?0:a.index+1},w.$$arity=1);a.def(b,"$skip",r=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=h;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c},r.$$arity=1);a.def(b,"$skip_until",J=function(a){a=this.$scan_until(a);if(a===
h)return h;this.matched=a.substr(-1);return a.length},J.$$arity=1);a.def(b,"$get_byte",A=function(){var a=h;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=h;return a},A.$$arity=0);a.alias(b,"getch","get_byte");a.def(b,"$match?",B=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return h;this.prev_pos=this.pos;return a[0].length},B.$$arity=1);a.def(b,"$pos=",z=function(a){0>
a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},z.$$arity=1);a.def(b,"$matched_size",T=function(){return this.matched===h?h:this.matched.length},T.$$arity=0);a.def(b,"$post_match",F=function(){return this.matched===h?h:this.string.substr(this.pos)},F.$$arity=0);a.def(b,"$pre_match",ba=function(){return this.matched===h?h:this.string.substr(0,this.prev_pos)},ba.$$arity=0);a.def(b,"$reset",G=function(){this.working=this.string;this.matched=h;return this.pos=0},G.$$arity=
0);a.def(b,"$rest",Q=function(){return this.working},Q.$$arity=0);a.def(b,"$rest?",R=function(){return 0!==this.working.length},R.$$arity=0);a.def(b,"$rest_size",L=function(){return this.$rest().$size()},L.$$arity=0);a.def(b,"$terminate",S=function(){var c=h;this.match=h;c=[this.string.$length()];m(this,"pos=",a.to_a(c));var b=c,c=c.length,c="number"===typeof c?c-1:c["$-"](1);return b[c]},S.$$arity=0);a.def(b,"$unscan",W=function(){this.pos=this.prev_pos;this.match=this.prev_pos=h;return this},W.$$arity=
0);b.$private();return(a.def(b,"$anchor",O=function(a){var c=a.toString().match(/\/([^\/]+)$/),c=c?c[1]:void 0;return new RegExp("^(?:"+a.source+")",c)},O.$$arity=1),h)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");return b.$require("strscan")};Opal.modules["asciidoctor/timings"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}
function h(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function t(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var m=[],C=a.nil,e=a.const_get_qualified,c=a.module,l=a.klass,d=a.hash2,n=a.send,v=a.truthy,g=a.gvars;a.add_stubs("$now $[]= $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(k,m){var p=[c(k,"Asciidoctor")].concat(m);(function(c,$super,k){function m(){}c=m=l(c,$super,"Timings",m);var q=c.$$proto;
[c].concat(k);var p,x,w,z,T,r,A,G;q.timers=q.log=C;a.def(c,"$initialize",p=function(){this.log=d([],{});return this.timers=d([],{})},p.$$arity=0);a.def(c,"$start",x=function(c){var d=C,d=[c,e("::","Time").$now()];n(this.timers,"[]=",a.to_a(d));return d[b(d.length,1)]},x.$$arity=1);a.def(c,"$record",w=function(c){var d=C,d=[c,b(e("::","Time").$now(),this.timers.$delete(c))];n(this.log,"[]=",a.to_a(d));return d[b(d.length,1)]},w.$$arity=1);a.def(c,"$read_parse",z=function(){var a,c=C;return v(h(c=t(v(a=
this.log["$[]"]("read"))?a:0,v(a=this.log["$[]"]("parse"))?a:0),0))?c:C},z.$$arity=0);a.def(c,"$convert",T=function(){var a;return v(a=this.log["$[]"]("convert"))?a:0},T.$$arity=0);a.def(c,"$read_parse_convert",r=function(){var a,c=C;return v(h(c=t(t(v(a=this.log["$[]"]("read"))?a:0,v(a=this.log["$[]"]("parse"))?a:0),v(a=this.log["$[]"]("convert"))?a:0),0))?c:C},r.$$arity=0);a.def(c,"$total",A=function(){var a,c=C;return v(h(c=t(t(t(v(a=this.log["$[]"]("read"))?a:0,v(a=this.log["$[]"]("parse"))?a:
0),v(a=this.log["$[]"]("convert"))?a:0),v(a=this.log["$[]"]("write"))?a:0),0))?c:C},A.$$arity=0);return(a.def(c,"$print_report",G=function(a,c){null==g.stdout&&(g.stdout=C);null==a&&(a=g.stdout);null==c&&(c=C);v(c)&&a.$puts("Input file: "+c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},
G.$$arity=-1),C)&&"print_report"})(p[0],null,p)}(m[0],m)};Opal.modules["asciidoctor/version"]=function(a){var b=[],h=a.module,b=[h(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","1.5.6.2")};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var b=[],h=a.nil,t=a.klass,m=a.truthy;a.add_stubs(["$method_defined?"]);(function(b,$super,c){function f(){}b=f=t(b,$super,"NilClass",f);[b].concat(c);return m(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","nil?")})(b[0],
null,b);(function(b,$super,c){function f(){}b=f=t(b,$super,"String",f);[b].concat(c);return m(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){function f(){}b=f=t(b,$super,"Array",f);[b].concat(c);return m(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){function f(){}b=f=t(b,$super,"Hash",f);[b].concat(c);return m(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,
"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,c){function f(){}b=f=t(b,$super,"Numeric",f);[b].concat(c);return m(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(a){var b=[],h=a.nil,t=a.klass,m=a.truthy;a.add_stubs(["$method_defined?"]);return function(b,$super,c){function f(){}b=f=t(b,$super,"Regexp",f);[b].concat(c);return m(b["$method_defined?"]("match?"))?h:a.alias(b,"match?",
"===")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){var b=[],h=a.nil,t=a.const_get_qualified,m=a.klass,n=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(b,$super,f){function d(){}b=d=m(b,$super,"String",d);[b].concat(f);var y;return n(b["$method_defined?"]("limit_bytesize"))?h:(a.def(b,"$limit_bytesize",y=function(a){var b=h,b=this.$bytesize(),b="number"===typeof a&&"number"===
typeof b?a<b:a["$<"](b);if(!n(b))return this;for(;!n((b=this.$byteslice(0,a)).$force_encoding(t(t("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)a="number"===typeof a?a-1:a["$-"](1);return b},y.$$arity=1),h)&&"limit_bytesize"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(a){var b,h=[],t=a.nil,m=a.const_get_relative,n=a.truthy,e=a.send;a.add_stubs(["$respond_to?","$open","$write"]);return n(m(h,"IO")["$respond_to?"]("write"))?t:(a.defs(m(h,"IO"),"$write",b=function(a,
b,d,f){var v;null==d&&(d=0);null==f&&(f=t);return e(m(h,"File"),"open",[a,"w"],(v=function(a){null==a&&(a=t);return a.$write(b)},v.$$s=this,v.$$arity=1,v))},b.$$arity=-3),t)&&"write"};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,h=[],t=a.nil,m=a.const_get_relative,n=a.truthy;a.add_stubs(["$require","$==","$!="]);b.$require("asciidoctor/core_ext/nil_or_empty");b.$require("asciidoctor/core_ext/regexp/is_match");if(n(m(h,"RUBY_MIN_VERSION_1_9")))return b.$require("asciidoctor/core_ext/string/limit_bytesize"),
m(h,"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext/1.8.7/io/write"):t;n(m(h,"RUBY_ENGINE")["$!="]("opal"));return t};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=[],t=a.nil,m=a.const_get_qualified,n=a.const_get_relative,e=a.module,c=a.truthy,l=a.send,d=a.range,y=a.gvars;a.add_stubs("$require $== $=== $raise $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $map $each_line $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $include? $match? $=~ $gsub $each_byte $sprintf $rindex $length $basename $extname $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));
return function(h,g){var k=[e(h,"Asciidoctor")].concat(g);(function(g,k){var h=e(g,"Helpers"),v=[h].concat(k),D,E,p,x,w,r,z,T,A,B;a.defs(h,"$require_library",D=function(b,d,f){var e=t,g=t;null==d&&(d=!0);null==f&&(f="abort");try{return this.$require(b)}catch(k){if(a.rescue(k,[m("::","LoadError")])){e=k;try{if(c(d))return d["$=="](!0)&&(d=b),g=f,"abort"["$==="](g)?this.$raise(m("::","LoadError"),"asciidoctor: FAILED: required gem '"+d+"' is not installed. Processing aborted."):"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: optional gem '"+
d+"' is not installed. Functionality disabled."):t;g=f;return"abort"["$==="](g)?this.$raise(m("::","LoadError"),"asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):t}finally{a.pop_exception()}}else throw k;}},D.$$arity=-2);a.defs(h,"$normalize_lines",E=function(a){return a.$class()["$=="](m("::","String"))?this.$normalize_lines_from_string(a):this.$normalize_lines_array(a)},
E.$$arity=1);a.defs(h,"$normalize_lines_array",p=function(e){var g,k,h,q,u=t,z=t,y=t,D=t,u=t;if(c(e["$empty?"]()))return e;u=(z=e["$[]"](0)).$unpack("C3");if(c(n(v,"COERCE_ENCODING"))){y=m(m("::","Encoding"),"UTF_8");if((D=u.$slice(0,2))["$=="](n(v,"BOM_BYTES_UTF_16LE")))return l(e.$join().$force_encoding(m(m("::","Encoding"),"UTF_16LE"))["$[]"](d(1,-1,!1)).$encode(y).$each_line(),"map",[],(g=function(a){null==a&&(a=t);return a.$rstrip()},g.$$s=this,g.$$arity=1,g));if(D["$=="](n(v,"BOM_BYTES_UTF_16BE")))return u=
[0,z.$force_encoding(m(m("::","Encoding"),"UTF_16BE"))["$[]"](d(1,-1,!1))],l(e,"[]=",a.to_a(u)),u[b(u.length,1)],l(e,"map",[],(k=function(a){null==a&&(a=t);return""+a.$force_encoding(m(m("::","Encoding"),"UTF_16BE")).$encode(y).$rstrip()},k.$$s=this,k.$$arity=1,k));u["$=="](n(v,"BOM_BYTES_UTF_8"))&&(u=[0,z.$force_encoding(y)["$[]"](d(1,-1,!1))],l(e,"[]=",a.to_a(u)),u[b(u.length,1)]);return l(e,"map",[],(h=function(a){null==a&&(a=t);return a.$encoding()["$=="](y)?a.$rstrip():a.$force_encoding(y).$rstrip()},
h.$$s=this,h.$$arity=1,h))}u["$=="](n(v,"BOM_BYTES_UTF_8"))&&(u=[0,z["$[]"](d(3,-1,!1))],l(e,"[]=",a.to_a(u)),u[b(u.length,1)]);return l(e,"map",[],(q=function(a){null==a&&(a=t);return a.$rstrip()},q.$$s=this,q.$$arity=1,q))},p.$$arity=1);a.defs(h,"$normalize_lines_from_string",x=function(a){var b,f=t,e=t,g=t;if(c(a["$nil_or_empty?"]()))return[];f=a.$unpack("C3");c(n(v,"COERCE_ENCODING"))?(e=m(m("::","Encoding"),"UTF_8"),(g=f.$slice(0,2))["$=="](n(v,"BOM_BYTES_UTF_16LE"))?a=a.$force_encoding(m(m("::",
"Encoding"),"UTF_16LE"))["$[]"](d(1,-1,!1)).$encode(e):g["$=="](n(v,"BOM_BYTES_UTF_16BE"))?a=a.$force_encoding(m(m("::","Encoding"),"UTF_16BE"))["$[]"](d(1,-1,!1)).$encode(e):f["$=="](n(v,"BOM_BYTES_UTF_8"))?a=a.$encoding()["$=="](e)?a["$[]"](d(1,-1,!1)):a.$force_encoding(e)["$[]"](d(1,-1,!1)):a.$encoding()["$=="](e)||(a=a.$force_encoding(e))):f["$=="](n(v,"BOM_BYTES_UTF_8"))&&(a=a["$[]"](d(3,-1,!1)));return l(a.$each_line(),"map",[],(b=function(a){null==a&&(a=t);return a.$rstrip()},b.$$s=this,b.$$arity=
1,b))},x.$$arity=1);a.defs(h,"$uriish?",w=function(a){var b;return c(b=a["$include?"](":"))?n(v,"UriSniffRx")["$match?"](a):b},w.$$arity=1);a.defs(h,"$uri_prefix",r=function(a){var b;return c(c(b=a["$include?"](":"))?n(v,"UriSniffRx")["$=~"](a):b)?(b=y["~"])===t?t:b["$[]"](0):t},r.$$arity=1);a.const_set(v[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(h,"$uri_encode",z=function(a){var c;return l(a,"gsub",[n(v,"REGEXP_ENCODE_URI_CHARS")],(c=function(){var a=c.$$s||this,b,d;return l(((b=
y["~"])===t?t:b["$[]"](0)).$each_byte(),"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=t);return c.$sprintf("%%%02X",a)},d.$$s=a,d.$$arity=1,d)).$join()},c.$$s=this,c.$$arity=0,c))},z.$$arity=1);a.defs(h,"$rootname",T=function(a){var b;return a.$slice(0,c(b=a.$rindex("."))?b:a.$length())},T.$$arity=1);a.defs(h,"$basename",A=function(a,b){null==b&&(b=t);return c(b)?m("::","File").$basename(a,b["$=="](!0)?m("::","File").$extname(a):b):m("::","File").$basename(a)},A.$$arity=-2);a.defs(h,"$mkdir_p",
B=function(a){var b,d=t;if(c(m("::","File")["$directory?"](a)))return t;d=m("::","File").$dirname(a);c(c(b=m("::","File")["$directory?"](d=m("::","File").$dirname(a))["$!"]())?d["$!="]("."):b)&&this.$mkdir_p(d);return m("::","Dir").$mkdir(a)},B.$$arity=1)})(k[0],k)}(h[0],h)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function t(a,c){return"number"===
typeof a&&"number"===typeof c?a>c:a["$>"](c)}function m(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function n(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var e=[],c=a.nil,l=a.const_get_qualified,d=a.const_get_relative,y=a.slice,v=a.module,g=a.hash2,k=a.hash,q=a.truthy,p=a.send,u=a.gvars,x=a.range;a.add_stubs("$freeze $+ $keys $attr_reader $empty? $! $=== $[] $each $<< $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $== $length $> $- $end_with? $parse_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $to_sym $nil_or_empty? $attributes $basebackend? $to_i $convert $new $clear $match? $convert_quoted_text $do_replacement $sub $shift $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $slice $strip $index $min $compact $map $chop $unescape_bracketed_text $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $!= $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $delete $uri_encode $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $text $style $lstrip $rindex $catalog $key $attr? $escape $attr $read_next_id $callouts $< $parse_quoted_text_attributes $shorthand_property_syntax $concat $parse_into $parse $each_char $join $chr $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $find_by_alias $find_by_mimetype $name $option? $=~ $to_a $uniq $sort $resolve_block_subs".split(" "));
return function(e,w){var r=[v(e,"Asciidoctor")].concat(w);(function(e,D){var w=v(e,"Substitutors"),z=[w].concat(D),T,r,A,G,B,F,aa,S,W,O,X,N,ea,da,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta;a.const_set(z[0],"SpecialCharsRx",/[<&>]/);a.const_set(z[0],"SpecialCharsTr",g([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(z[0],"QuotedTextSniffRx",k(!1,/[*_`#^~]/,!0,/[*'_+#^~]/));a.const_set(z[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(z[0],"HEADER_SUBS",["specialcharacters",
"attributes"]).$freeze();a.const_set(z[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();a.const_set(z[0],"NONE_SUBS",[]).$freeze();a.const_set(z[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze();a.const_set(z[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze();a.const_set(z[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(z[0],
"SUB_GROUPS",g(["none","normal","verbatim","specialchars"],{none:d(z,"NONE_SUBS"),normal:d(z,"NORMAL_SUBS"),verbatim:d(z,"VERBATIM_SUBS"),specialchars:d(z,"BASIC_SUBS")}));a.const_set(z[0],"SUB_HINTS",g("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(z[0],"SUB_OPTIONS",g(["block","inline"],{block:b(b(d(z,"SUB_GROUPS").$keys(),d(z,"NORMAL_SUBS")),["callouts"]),inline:b(d(z,"SUB_GROUPS").$keys(),
d(z,"NORMAL_SUBS"))}));a.const_set(z[0],"SUB_HIGHLIGHT",["coderay","pygments"]);a.const_set(z[0],"PASS_START","\u0096");a.const_set(z[0],"PASS_END","\u0097");a.const_set(z[0],"PassSlotRx",new RegExp(""+d(z,"PASS_START")+"(\\d+)"+d(z,"PASS_END")));a.const_set(z[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*>"+d(z,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>"+d(z,"PASS_END")+"</span>"));a.const_set(z[0],"RS","\\");a.const_set(z[0],"R_SB","]");a.const_set(z[0],"ESC_R_SB","\\]");a.const_set(z[0],
"PLUS","+");a.const_set(z[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m);a.const_set(z[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m);w.$attr_reader("passthroughs");a.def(w,"$apply_subs",T=function(a,e,g){var k,m,u,t=c,v=c,n=c,C=c;null==this.passthroughs&&(this.passthroughs=c);null==e&&(e=d(z,"NORMAL_SUBS"));null==g&&(g=c);if(q(q(k=a["$empty?"]())?k:e["$!"]()))return a;if(q(g))if(q(l("::","Symbol")["$==="](e)))e=q(k=d(z,"SUB_GROUPS")["$[]"](e))?k:[e];else{if(t=[],p(e,"each",
[],(m=function(a){var e=c;null==a&&(a=c);return q(e=d(z,"SUB_GROUPS")["$[]"](a))?q(e["$empty?"]())?c:t=b(t,e):t["$<<"](a)},m.$$s=this,m.$$arity=1,m)),q((e=t)["$empty?"]()))return a}else if(q(e["$empty?"]()))return a;v=q(n=l("::","Array")["$==="](a))?h(a,d(z,"LF")):a;q(C=e["$include?"]("macros"))&&(v=this.$extract_passthroughs(v),q(this.passthroughs["$empty?"]())&&(C=!1));p(e,"each",[],(u=function(a){var b=u.$$s||this,f=c;null==a&&(a=c);f=a;return"specialcharacters"["$==="](f)?v=b.$sub_specialchars(v):
"quotes"["$==="](f)?v=b.$sub_quotes(v):"attributes"["$==="](f)?q(v["$include?"](d(z,"ATTR_REF_HEAD")))?v=h(b.$sub_attributes(v.$split(d(z,"LF"),-1)),d(z,"LF")):c:"replacements"["$==="](f)?v=b.$sub_replacements(v):"macros"["$==="](f)?v=b.$sub_macros(v):"highlight"["$==="](f)?v=b.$highlight_source(v,e["$include?"]("callouts")):"callouts"["$==="](f)?q(e["$include?"]("highlight"))?c:v=b.$sub_callouts(v):"post_replacements"["$==="](f)?v=b.$sub_post_replacements(v):b.$warn("asciidoctor: WARNING: unknown substitution type "+
a)},u.$$s=this,u.$$arity=1,u));q(C)&&(v=this.$restore_passthroughs(v));return q(n)?v.$split(d(z,"LF"),-1):v},T.$$arity=-2);a.def(w,"$apply_normal_subs",r=function(a){return this.$apply_subs(a)},r.$$arity=1);a.def(w,"$apply_title_subs",A=function(a){return this.$apply_subs(a,d(z,"TITLE_SUBS"))},A.$$arity=1);a.def(w,"$apply_reftext_subs",G=function(a){return this.$apply_subs(a,d(z,"REFTEXT_SUBS"))},G.$$arity=1);a.def(w,"$apply_header_subs",B=function(a){return this.$apply_subs(a,d(z,"HEADER_SUBS"))},
B.$$arity=1);a.def(w,"$extract_passthroughs",F=function(b){var f,e,k,l,v,n=c,C=c,y=c,D=c;null==this.document&&(this.document=c);n=this.document.$compat_mode();q(q(f=q(e=b["$include?"]("++"))?e:b["$include?"]("$$"))?f:b["$include?"]("ss:"))&&(b=p(b,"gsub",[d(z,"InlinePassMacroRx")],(k=function(){var b=k.$$s||this,f,e=c,l=c,v=c,C=c,Ja=c,M=c,ca=c,C=v=e=c;null==b.passthroughs&&(b.passthroughs=c);null==u["~"]&&(u["~"]=c);e=u["~"];l=c;if(q(v=e["$[]"](4))){if(q(q(f=n)?v["$=="]("++"):f))return q(e["$[]"](2))?
""+e["$[]"](1)+"["+e["$[]"](2)+"]"+e["$[]"](3)+"++"+b.$extract_passthroughs(e["$[]"](5))+"++":""+e["$[]"](1)+e["$[]"](3)+"++"+b.$extract_passthroughs(e["$[]"](5))+"++";C=e["$[]"](2);Ja=e["$[]"](3).$length();M=e["$[]"](5);ca=!1;if(q(C)){if(q(t(Ja,0)))return""+e["$[]"](1)+"["+C+"]"+h(d(z,"RS"),m(Ja,1))+v+e["$[]"](5)+v;e["$[]"](1)["$=="](d(z,"RS"))?(l="["+C+"]",C=c):(q(v["$=="]("++")?C["$end_with?"]("x-"):v["$=="]("++"))&&(ca=!0,C=C["$[]"](x(0,-2,!0))),C=b.$parse_attributes(C))}else if(q(t(Ja,0)))return""+
h(d(z,"RS"),m(Ja,1))+v+e["$[]"](5)+v;e=v["$=="]("+++")?[]:d(z,"BASIC_SUBS");v=b.passthroughs.$size();C=q(C)?q(ca)?[v,g(["text","subs","type","attributes"],{text:M,subs:d(z,"NORMAL_SUBS"),type:"monospaced",attributes:C})]:[v,g(["text","subs","type","attributes"],{text:M,subs:e,type:"unquoted",attributes:C})]:[v,g(["text","subs"],{text:M,subs:e})]}else{if(e["$[]"](6)["$=="](d(z,"RS")))return e["$[]"](0)["$[]"](x(1,-1,!1));C=[v=b.passthroughs.$size(),g(["text","subs"],{text:b.$unescape_brackets(e["$[]"](8)),
subs:q(e["$[]"](7))?b.$resolve_pass_subs(e["$[]"](7)):[]})]}p(b.passthroughs,"[]=",a.to_a(C));C[m(C.length,1)];return""+l+d(z,"PASS_START")+v+d(z,"PASS_END")},k.$$s=this,k.$$arity=0,k)));e=d(z,"PassInlineRx")["$[]"](n);f=a.to_ary(e);C=null==f[0]?c:f[0];y=null==f[1]?c:f[1];D=null==f[2]?c:f[2];e;q(q(f=b["$include?"](C))?f:q(e=y)?b["$include?"](y):e)&&(b=p(b,"gsub",[D],(l=function(){var b=l.$$s||this,f,e=c,k=c,h=c,t=c,v=c,M=c,ca=c,v=h=e=c;null==b.passthroughs&&(b.passthroughs=c);null==u["~"]&&(u["~"]=
c);e=u["~"];k=e["$[]"](1);h=e["$[]"](2);q(e["$[]"](3)["$start_with?"](d(z,"RS")))&&(t=d(z,"RS"));v=e["$[]"](4);M=e["$[]"](5);q(n)?ca=!0:q(ca=q(f=h)?h["$end_with?"]("x-"):f)&&(h=h["$[]"](x(0,-2,!0)));if(q(h)){if(q(v["$=="]("`")?ca["$!"]():v["$=="]("`")))return""+k+"["+h+"]"+t+"`"+b.$extract_passthroughs(M)+"`";if(q(t))return""+k+"["+h+"]"+e["$[]"](3)["$[]"](x(1,-1,!1));k["$=="](d(z,"RS"))?(k="["+h+"]",h=c):h=b.$parse_attributes(h)}else{if(q(v["$=="]("`")?ca["$!"]():v["$=="]("`")))return""+k+t+"`"+
b.$extract_passthroughs(M)+"`";if(q(t))return""+k+e["$[]"](3)["$[]"](x(1,-1,!1))}e=b.passthroughs.$size();q(n)?h=[e,g(["text","subs","attributes","type"],{text:M,subs:d(z,"BASIC_SUBS"),attributes:h,type:"monospaced"})]:q(h)?q(ca)?(v=v["$=="]("`")?d(z,"BASIC_SUBS"):d(z,"NORMAL_SUBS"),h=[e,g(["text","subs","attributes","type"],{text:M,subs:v,attributes:h,type:"monospaced"})]):h=[e,g(["text","subs","attributes","type"],{text:M,subs:d(z,"BASIC_SUBS"),attributes:h,type:"unquoted"})]:h=[e,g(["text","subs"],
{text:M,subs:d(z,"BASIC_SUBS")})];p(b.passthroughs,"[]=",a.to_a(h));h[m(h.length,1)];return""+k+d(z,"PASS_START")+e+d(z,"PASS_END")},l.$$s=this,l.$$arity=0,l)));q(q(f=b["$include?"](":"))?q(e=b["$include?"]("stem:"))?e:b["$include?"]("math:"):f)&&(b=p(b,"gsub",[d(z,"InlineStemMacroRx")],(v=function(){var b=v.$$s||this,f=c,e=c,k=c,l=c,h=c,f=e=c;null==b.document&&(b.document=c);null==b.passthroughs&&(b.passthroughs=c);null==u["~"]&&(u["~"]=c);f=u["~"];if(q(f["$[]"](0)["$start_with?"](d(z,"RS"))))return f["$[]"](0)["$[]"](x(1,
-1,!1));(e=f["$[]"](1).$to_sym())["$=="]("stem")&&(e=(q((k=b.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":k).$to_sym());l=b.$unescape_brackets(f["$[]"](3));h=q(f["$[]"](2))?b.$resolve_pass_subs(f["$[]"](2)):q(b.document["$basebackend?"]("html"))?d(z,"BASIC_SUBS"):[];e=[f=b.passthroughs.$size(),g(["text","subs","type"],{text:l,subs:h,type:e})];p(b.passthroughs,"[]=",a.to_a(e));e[m(e.length,1)];return""+d(z,"PASS_START")+f+d(z,"PASS_END")},v.$$s=this,v.$$arity=0,v)));return b},
F.$$arity=1);a.def(w,"$restore_passthroughs",aa=function(a,b){var f,e,k,l=this;null==l.passthroughs&&(l.passthroughs=c);null==b&&(b=!0);return function(){try{return q(q(f=b)?q(e=l.passthroughs["$empty?"]())?e:a["$include?"](d(z,"PASS_START"))["$!"]():f)?a:p(a,"gsub",[d(z,"PassSlotRx")],(k=function(){var a=k.$$s||this,b,f=c,e=c,l=c;null==a.passthroughs&&(a.passthroughs=c);f=a.passthroughs["$[]"](((b=u["~"])===c?c:b["$[]"](1)).$to_i());e=a.$apply_subs(f["$[]"]("text"),f["$[]"]("subs"));q(l=f["$[]"]("type"))&&
(e=d(z,"Inline").$new(a,"quoted",e,g(["type","attributes"],{type:l,attributes:f["$[]"]("attributes")})).$convert());return q(e["$include?"](d(z,"PASS_START")))?a.$restore_passthroughs(e,!1):e},k.$$s=l,k.$$arity=0,k))}finally{q(b)&&l.passthroughs.$clear()}}()},aa.$$arity=-2);d(z,"RUBY_ENGINE")["$=="]("opal")?(a.def(w,"$sub_quotes",S=function(a){var b,f=c;null==this.document&&(this.document=c);q(d(z,"QuotedTextSniffRx")["$[]"](f=this.document.$compat_mode())["$match?"](a))&&p(d(z,"QUOTE_SUBS")["$[]"](f),
"each",[],(b=function(d,f,e){var g=b.$$s||this,k;null==d&&(d=c);null==f&&(f=c);null==e&&(e=c);return a=p(a,"gsub",[e],(k=function(){var a=k.$$s||this;null==u["~"]&&(u["~"]=c);return a.$convert_quoted_text(u["~"],d,f)},k.$$s=g,k.$$arity=0,k))},b.$$s=this,b.$$arity=3,b));return a},S.$$arity=1),a.def(w,"$sub_replacements",W=function(a){var b;q(d(z,"ReplaceableTextRx")["$match?"](a))&&p(d(z,"REPLACEMENTS"),"each",[],(b=function(d,f,e){var g=b.$$s||this,k;null==d&&(d=c);null==f&&(f=c);null==e&&(e=c);return a=
p(a,"gsub",[d],(k=function(){var a=k.$$s||this;null==u["~"]&&(u["~"]=c);return a.$do_replacement(u["~"],f,e)},k.$$s=g,k.$$arity=0,k))},b.$$s=this,b.$$arity=3,b));return a},W.$$arity=1),a.def(w,"$sub_specialchars",O=function(a){var c,b;return q(q(c=q(b=a["$include?"]("<"))?b:a["$include?"]("&"))?c:a["$include?"](">"))?a.$gsub(d(z,"SpecialCharsRx"),d(z,"SpecialCharsTr")):a},O.$$arity=1)):c;a.alias(w,"sub_specialcharacters","sub_specialchars");a.def(w,"$do_replacement",X=function(a,b,f){var e=c,e=c;
q((e=a["$[]"](0))["$include?"](d(z,"RS")))?a=e.$sub(d(z,"RS"),""):(e=f,a="none"["$==="](e)?b:"bounding"["$==="](e)?""+a["$[]"](1)+b+a["$[]"](2):""+a["$[]"](1)+b);return a},X.$$arity=3);a.def(w,"$sub_attributes",N=function(b,f){var e,k,m=this,t=c,v=c,n=c;null==m.document&&(m.document=c);null==f&&(f=g([],{}));q(t=l("::","String")["$==="](b))&&(b=[b]);e=[m.document.$attributes(),[]];v=e[0];n=e[1];e;(function(){var e=a.new_brk();try{return p(b,"each",[],(k=function(b){var e=k.$$s||this,g,l,h,m=c,t=c;
null==b&&(b=c);m=t=!1;q(b["$include?"](d(z,"ATTR_REF_HEAD")))&&(b=function(){var k=a.new_brk();try{return p(b,"gsub",[d(z,"AttributeReferenceRx")],(g=function(){var b=g.$$s||this,e,l,h,n=c,H=c,C=c,I=c,y=c;null==b.document&&(b.document=c);q(q(e=((l=u["~"])===c?c:l["$[]"](1))["$=="](d(z,"RS")))?e:((l=u["~"])===c?c:l["$[]"](4))["$=="](d(z,"RS")))?I="{"+((e=u["~"])===c?c:e["$[]"](2))+"}":q((e=u["~"])===c?c:e["$[]"](3))?I=function(){n=(H=((e=u["~"])===c?c:e["$[]"](2)).$split(":",3)).$shift();return"set"["$==="](n)?
(l=d(z,"Parser").$store_attribute(H["$[]"](0),q(h=H["$[]"](1))?h:"",b.document),e=a.to_ary(l),C=null==e[1]?c:e[1],l,!q(C)&&v.$fetch("attribute-undefined",d(z,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(m=!0,a.brk("",k)),t=!0,""):"counter2"["$==="](n)?(p(b.document,"counter",a.to_a(H)),t=!0,""):p(b.document,"counter",a.to_a(H))}():q(v["$key?"](I=((e=u["~"])===c?c:e["$[]"](2)).$downcase()))?I=v["$[]"](I):q(d(z,"INTRINSIC_ATTRIBUTES")["$key?"](I))?I=d(z,"INTRINSIC_ATTRIBUTES")["$[]"](I):
(n=y=q(e=y)?e:q(l=f["$[]"]("attribute_missing"))?l:v.$fetch("attribute-missing",d(z,"Compliance").$attribute_missing()),"drop"["$==="](n)?(t=!0,I=""):"drop-line"["$==="](n)?(b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+I),m=!0,a.brk("",k),I=void 0):("warn"["$==="](n)&&b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+I),I=(e=u["~"])===c?c:e["$[]"](0)));return I},g.$$s=e,g.$$brk=k,g.$$arity=0,g))}catch(l){if(l===k)return l.$v;throw l;
}}());return q(q(l=m)?l:q(h=t)?b["$empty?"]():h)?c:n["$<<"](b)},k.$$s=m,k.$$brk=e,k.$$arity=1,k))}catch(g){if(g===e)return g.$v;throw g;}})();return q(t)?h(n,d(z,"LF")):n},N.$$arity=-2);a.def(w,"$sub_macros",ea=function(b){var f,e,k,h,v,n,C,D,E,w,T,H,ua=c,r=c,J=c,Ja=c,M=r=c,ca=c,Oa=c,ra=c,Qa=c;null==this.document&&(this.document=c);ua=g([],{});r=(J=["square_bracket",b["$include?"]("[")],p(ua,"[]=",a.to_a(J)),J[m(J.length,1)]);Ja=b["$include?"](":");r=(J=["macroish",q(f=r)?Ja:f],p(ua,"[]=",a.to_a(J)),
J[m(J.length,1)]);M=q(f=r)?b["$include?"](":["):f;ca=this.document.$attributes();Oa=ca["$key?"]("linkattrs");ra=b;q(ca["$key?"]("experimental"))&&(q(q(f=M)?q(e=ra["$include?"]("kbd:"))?e:ra["$include?"]("btn:"):f)&&(ra=p(ra,"gsub",[d(z,"InlineKbdBtnMacroRx")],(k=function(){var b=k.$$s||this,f,e,l,h=c,v=c,M=c;return q((f=u["~"])===c?c:f["$[]"](1))?((f=u["~"])===c?c:f["$[]"](0)).$slice(1,((f=u["~"])===c?c:f["$[]"](0)).$length()):((f=u["~"])===c?c:f["$[]"](2))["$=="]("kbd")?(q((h=((f=u["~"])===c?c:f["$[]"](3)).$strip())["$include?"](d(z,
"R_SB")))&&(h=h.$gsub(d(z,"ESC_R_SB"),d(z,"R_SB"))),q(q(f=t(h.$length(),1))?v=q(v=h.$index(",",1))?[v,h.$index("+",1)].$compact().$min():h.$index("+",1):f)?(M=h.$slice(v,1),q(h["$end_with?"](M))?(h=p(h.$chop().$split(M,-1),"map",[],(e=function(a){null==a&&(a=c);return a.$strip()},e.$$s=b,e.$$arity=1,e)),J=[-1,""+h["$[]"](-1)+M],p(h,"[]=",a.to_a(J)),J[m(J.length,1)]):h=p(h.$split(M),"map",[],(l=function(a){null==a&&(a=c);return a.$strip()},l.$$s=b,l.$$arity=1,l))):h=[h],d(z,"Inline").$new(b,"kbd",
c,g(["attributes"],{attributes:g(["keys"],{keys:h})})).$convert()):d(z,"Inline").$new(b,"button",b.$unescape_bracketed_text((f=u["~"])===c?c:f["$[]"](3))).$convert()},k.$$s=this,k.$$arity=0,k))),q(q(f=r)?ra["$include?"]("menu:"):f)&&(ra=p(ra,"gsub",[d(z,"InlineMenuMacroRx")],(h=function(){var a=h.$$s||this,b,f,e=c,k=e=b=c,l=k=b=c;null==u["~"]&&(u["~"]=c);e=u["~"];if(q((b=e["$[]"](0))["$start_with?"](d(z,"RS"))))return b["$[]"](x(1,-1,!1));b=[e["$[]"](1),e["$[]"](2)];e=b[0];k=b[1];b;q(k)?(q(k["$include?"](d(z,
"R_SB")))&&(k=k.$gsub(d(z,"ESC_R_SB"),d(z,"R_SB"))),q(b=q(k["$include?"]("&gt;"))?"&gt;":q(k["$include?"](","))?",":c)?(k=p(k.$split(b),"map",[],(f=function(a){null==a&&(a=c);return a.$strip()},f.$$s=a,f.$$arity=1,f)),l=k.$pop()):(b=[[],k.$rstrip()],k=b[0],l=b[1],b)):(b=[[],c],k=b[0],l=b[1],b);return d(z,"Inline").$new(a,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:e,submenus:k,menuitem:l})})).$convert()},h.$$s=this,h.$$arity=0,h))),q(q(f=ra["$include?"]('"'))?ra["$include?"]("&gt;"):
f)&&(ra=p(ra,"gsub",[d(z,"MenuInlineRx")],(v=function(){var b=v.$$s||this,f,e,k=c,l=k=k=e=c;e=c;null==u["~"]&&(u["~"]=c);k=u["~"];if(q((e=k["$[]"](0))["$start_with?"](d(z,"RS"))))return e["$[]"](x(1,-1,!1));k=k["$[]"](1);e=p(k.$split("&gt;"),"map",[],(f=function(a){null==a&&(a=c);return a.$strip()},f.$$s=b,f.$$arity=1,f));f=a.to_ary(e);k=null==f[0]?c:f[0];l=y.call(f,1);e;e=l.$pop();return d(z,"Inline").$new(b,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:k,submenus:l,
menuitem:e})})).$convert()},v.$$s=this,v.$$arity=0,v))));q(q(f=Qa=this.document.$extensions())?Qa["$inline_macros?"]():f)&&p(Qa.$inline_macros(),"each",[],(n=function(b){var f=n.$$s||this,e;null==b&&(b=c);return ra=p(ra,"gsub",[b.$instance().$regexp()],(e=function(){var f=e.$$s||this,k,l=c,h=l=c,t=c,v=c,l=c;null==u["~"]&&(u["~"]=c);l=u["~"];if(q(l["$[]"](0)["$start_with?"](d(z,"RS"))))return l["$[]"](0)["$[]"](x(1,-1,!1));var M;a:{try{M=l.$names();break a}catch(n){if(a.rescue(n,[d(z,"StandardError")]))try{M=
[];break a}finally{a.pop_exception()}else throw n;}M=void 0}if(q(M["$empty?"]()))k=[l["$[]"](1),l["$[]"](2),b.$config()];else{var ca;a:{try{ca=l["$[]"]("target");break a}catch(n){if(a.rescue(n,[d(z,"StandardError")]))try{ca=c;break a}finally{a.pop_exception()}else throw n;}ca=void 0}M=ca;a:{try{k=l["$[]"]("content");break a}catch(n){if(a.rescue(n,[d(z,"StandardError")]))try{k=c;break a}finally{a.pop_exception()}else throw n;}k=void 0}k=[M,k,b.$config()]}l=k[0];h=k[1];t=k[2];k;v=q(v=t["$[]"]("default_attrs"))?
v.$dup():g([],{});q(h["$nil_or_empty?"]())?q(q(k=h)?t["$[]"]("content_model")["$!="]("attributes"):k)&&(J=["text",h],p(v,"[]=",a.to_a(J)),J[m(J.length,1)]):(h=f.$unescape_bracketed_text(h),t["$[]"]("content_model")["$=="]("attributes")?f.$parse_attributes(h,q(k=t["$[]"]("pos_attrs"))?k:[],g(["sub_result","into"],{sub_result:!1,into:v})):(J=["text",h],p(v,"[]=",a.to_a(J)),J[m(J.length,1)]));l=b.$process_method()["$[]"](f,q(k=l)?k:h,v);return q(d(z,"Inline")["$==="](l))?l.$convert():l},e.$$s=f,e.$$arity=
0,e))},n.$$s=this,n.$$arity=1,n));q(q(f=r)?q(e=ra["$include?"]("image:"))?e:ra["$include?"]("icon:"):f)&&(ra=p(ra,"gsub",[d(z,"InlineImageMacroRx")],(C=function(){var b=C.$$s||this,f,e=c,k=c,l=k=c,h=c,e=c;null==b.document&&(b.document=c);null==u["~"]&&(u["~"]=c);e=u["~"];if(q((k=(f=u["~"])===c?c:f["$[]"](0))["$start_with?"](d(z,"RS"))))return k["$[]"](x(1,-1,!1));f=q(k["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]];k=f[0];l=f[1];f;q((h=e["$[]"](1))["$include?"](d(z,
"ATTR_REF_HEAD")))&&(h=b.$sub_attributes(h));k["$=="]("icon")||b.document.$register("images",h);e=b.$parse_attributes(e["$[]"](2),l,g(["unescape_input"],{unescape_input:!0}));q(f=e["$[]"]("alt"))?f:(J=["alt",(J=["default-alt",d(z,"Helpers").$basename(h,!0).$tr("_-"," ")],p(e,"[]=",a.to_a(J)),J[m(J.length,1)])],p(e,"[]=",a.to_a(J)),J[m(J.length,1)]);return d(z,"Inline").$new(b,"image",c,g(["type","target","attributes"],{type:k,target:h,attributes:e})).$convert()},C.$$s=this,C.$$arity=0,C)));q(q(f=
q(e=ra["$include?"]("(("))?ra["$include?"]("))"):e)?f:q(e=M)?ra["$include?"]("indexterm"):e)&&(ra=p(ra,"gsub",[d(z,"InlineIndextermMacroRx")],(D=function(){var a=D.$$s||this,b,f=c,e=c,k=c,l=c,h=c,t=c,v=c,M=c;null==a.document&&(a.document=c);null==u["~"]&&(u["~"]=c);f=u["~"];return q(f["$[]"](0)["$start_with?"](d(z,"RS")))?f["$[]"](0)["$[]"](x(1,-1,!1)):function(){e=f["$[]"](1);if("indexterm"["$==="](e))return k=a.$split_simple_csv(a.$normalize_string(f["$[]"](2),!0)),a.document.$register("indexterms",
k),d(z,"Inline").$new(a,"indexterm",c,g(["attributes"],{attributes:g(["terms"],{terms:k})})).$convert();if("indexterm2"["$==="](e))return l=a.$normalize_string(f["$[]"](2),!0),a.document.$register("indexterms",[l]),d(z,"Inline").$new(a,"indexterm",l,g(["type"],{type:"visible"})).$convert();b=[f["$[]"](3),!0,c,c];h=b[0];t=b[1];v=b[2];M=b[3];b;q(h["$start_with?"]("("))?(q(h["$end_with?"](")"))?(b=[h.$slice(1,m(h.$length(),2)),!1],h=b[0],t=b[1]):(b=[h.$slice(1,m(h.$length(),1)),"(",""],h=b[0],v=b[1],
M=b[2]),b):q(h["$end_with?"](")"))&&(q(h["$start_with?"]("("))?(b=[h.$slice(1,m(h.$length(),2)),!1],h=b[0],t=b[1]):(b=[h.$slice(0,m(h.$length(),1)),"",")"],h=b[0],v=b[1],M=b[2]),b);q(t)?(l=a.$normalize_string(h),a.document.$register("indexterms",[l]),ra=d(z,"Inline").$new(a,"indexterm",l,g(["type"],{type:"visible"})).$convert()):(k=a.$split_simple_csv(a.$normalize_string(h)),a.document.$register("indexterms",k),ra=d(z,"Inline").$new(a,"indexterm",c,g(["attributes"],{attributes:g(["terms"],{terms:k})})).$convert());
return q(v)?""+v+ra+M:ra}()},D.$$s=this,D.$$arity=0,D)));q(q(f=Ja)?ra["$include?"]("://"):f)&&(ra=p(ra,"gsub",[d(z,"LinkInlineRx")],(E=function(){var b=E.$$s||this,f,e,k,l=c,h=c,t=c,v=c,M=c,n=c,h=l=l=c;null==b.document&&(b.document=c);null==u["~"]&&(u["~"]=c);l=u["~"];if(q(l["$[]"](2)["$start_with?"](d(z,"RS"))))return""+l["$[]"](1)+l["$[]"](2)["$[]"](x(1,-1,!1))+l["$[]"](3);f=[l["$[]"](1),l["$[]"](2),q(e=h=l["$[]"](3))?e:"",""];t=f[0];v=f[1];M=f[2];n=f[3];f;if(t["$=="]("link:"))if(q(h))t="";else return l["$[]"](0);
q(q(f=h)?f:d(z,"UriTerminatorRx")["$!~"](v))||(l=(f=u["~"])===c?c:f["$[]"](0),")"["$==="](l)?(v=v.$chop(),n=")"):";"["$==="](l)?q(q(f=t["$start_with?"]("&lt;"))?v["$end_with?"]("&gt;"):f)?(t=t["$[]"](x(4,-1,!1)),v=v["$[]"](x(0,-4,!0))):q((v=v.$chop())["$end_with?"](")"))?(v=v.$chop(),n=");"):n=";":":"["$==="](l)&&(q((v=v.$chop())["$end_with?"](")"))?(v=v.$chop(),n="):"):n=":"));f=[c,g(["type"],{type:"link"})];l=f[0];h=f[1];f;q(M["$empty?"]())||(q(M["$include?"](d(z,"R_SB")))&&(M=M.$gsub(d(z,"ESC_R_SB"),
d(z,"R_SB"))),q(q(f=Oa)?q(e=M["$start_with?"]('"'))?e:q(k=M["$include?"](","))?M["$include?"]("="):k:f)&&(l=b.$parse_attributes(M,[]),q(l["$key?"]("id"))&&(J=["id",l.$delete("id")],p(h,"[]=",a.to_a(J)),J[m(J.length,1)]),M=q(f=l["$[]"](1))?f:""),q(M["$end_with?"]("^"))&&(M=M.$chop(),q(l)?q(f=l["$[]"]("window"))?f:(J=["window","_blank"],p(l,"[]=",a.to_a(J)),J[m(J.length,1)]):l=g(["window"],{window:"_blank"})));q(M["$empty?"]())&&(M=q(ca["$key?"]("hide-uri-scheme"))?v.$sub(d(z,"UriSniffRx"),""):v,q(l)?
(J=["role",q(l["$key?"]("role"))?"bare "+l["$[]"]("role"):"bare"],p(l,"[]=",a.to_a(J)),J[m(J.length,1)]):l=g(["role"],{role:"bare"}));b.document.$register("links",(J=["target",v],p(h,"[]=",a.to_a(J)),J[m(J.length,1)]));q(l)&&(J=["attributes",l],p(h,"[]=",a.to_a(J)),J[m(J.length,1)]);return""+t+d(z,"Inline").$new(b,"anchor",M,h).$convert()+n},E.$$s=this,E.$$arity=0,E)));q(q(f=r)?q(e=ra["$include?"]("link:"))?e:ra["$include?"]("mailto:"):f)&&(ra=p(ra,"gsub",[d(z,"InlineLinkMacroRx")],(w=function(){var b=
w.$$s||this,f,e,k,l,h=c,t=c,v=c,M=c,n=c,H=c;null==b.document&&(b.document=c);null==u["~"]&&(u["~"]=c);h=u["~"];if(q(h["$[]"](0)["$start_with?"](d(z,"RS"))))return h["$[]"](0)["$[]"](x(1,-1,!1));t=q(v=h["$[]"](1))?"mailto:"+h["$[]"](2):h["$[]"](2);f=[c,g(["type"],{type:"link"})];M=f[0];n=f[1];f;q((H=h["$[]"](3))["$empty?"]())||(q(H["$include?"](d(z,"R_SB")))&&(H=H.$gsub(d(z,"ESC_R_SB"),d(z,"R_SB"))),q(q(f=Oa)?q(e=H["$start_with?"]('"'))?e:q(k=H["$include?"](","))?q(l=v)?l:H["$include?"]("="):k:f)&&
(M=b.$parse_attributes(H,[]),q(M["$key?"]("id"))&&(J=["id",M.$delete("id")],p(n,"[]=",a.to_a(J)),J[m(J.length,1)]),q(v)&&q(M["$key?"](2))&&(t=q(M["$key?"](3))?""+t+"?subject="+d(z,"Helpers").$uri_encode(M["$[]"](2))+"&amp;body="+d(z,"Helpers").$uri_encode(M["$[]"](3)):""+t+"?subject="+d(z,"Helpers").$uri_encode(M["$[]"](2))),H=q(f=M["$[]"](1))?f:""),q(H["$end_with?"]("^"))&&(H=H.$chop(),q(M)?q(f=M["$[]"]("window"))?f:(J=["window","_blank"],p(M,"[]=",a.to_a(J)),J[m(J.length,1)]):M=g(["window"],{window:"_blank"})));
q(H["$empty?"]())&&(q(v)?H=h["$[]"](2):(H=q(ca["$key?"]("hide-uri-scheme"))?t.$sub(d(z,"UriSniffRx"),""):t,q(M)?(J=["role",q(M["$key?"]("role"))?"bare "+M["$[]"]("role"):"bare"],p(M,"[]=",a.to_a(J)),J[m(J.length,1)]):M=g(["role"],{role:"bare"})));b.document.$register("links",(J=["target",t],p(n,"[]=",a.to_a(J)),J[m(J.length,1)]));q(M)&&(J=["attributes",M],p(n,"[]=",a.to_a(J)),J[m(J.length,1)]);return d(z,"Inline").$new(b,"anchor",H,n).$convert()},w.$$s=this,w.$$arity=0,w)));q(ra["$include?"]("@"))&&
(ra=p(ra,"gsub",[d(z,"EmailInlineRx")],(T=function(){var a=T.$$s||this,b,f,e=c,k=c;b=c;null==a.document&&(a.document=c);b=[(f=u["~"])===c?c:f["$[]"](0),(f=u["~"])===c?c:f["$[]"](1)];e=b[0];k=b[1];b;if(q(k))return k["$=="](d(z,"RS"))?e["$[]"](x(1,-1,!1)):e;b="mailto:"+e;a.document.$register("links",b);return d(z,"Inline").$new(a,"anchor",e,g(["type","target"],{type:"link",target:b})).$convert()},T.$$s=this,T.$$arity=0,T)));q(q(f=M)?ra["$include?"]("footnote"):f)&&(ra=p(ra,"gsub",[d(z,"InlineFootnoteMacroRx")],
(H=function(){var b=H.$$s||this,f,e,k,h=f=c,m=e=f=c,t=c;f=c;null==b.document&&(b.document=c);null==u["~"]&&(u["~"]=c);f=u["~"];if(q(f["$[]"](0)["$start_with?"](d(z,"RS"))))return f["$[]"](0)["$[]"](x(1,-1,!1));f["$[]"](1)["$=="]("footnote")?(h=c,f=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(f["$[]"](2),!0))),!1),e=b.document.$counter("footnote-number"),b.document.$register("footnotes",l(d(z,"Document"),"Footnote").$new(e,h,f)),t=m=c):(e=f["$[]"](2).$split(",",
2),f=a.to_ary(e),h=null==f[0]?c:f[0],f=null==f[1]?c:f[1],e,h=h.$strip(),q(f)?(f=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(f,!0))),!1),e=b.document.$counter("footnote-number"),b.document.$register("footnotes",l(d(z,"Document"),"Footnote").$new(e,h,f)),m="ref",t=c):(q(f=p(b.document.$footnotes(),"find",[],(k=function(a){null==a&&(a=c);return a.$id()["$=="](h)},k.$$s=b,k.$$arity=1,k)))?(e=f.$index(),f=f.$text()):(e=c,f=h),t=h,h=c,m="xref"));return d(z,"Inline").$new(b,
"footnote",f,g(["attributes","id","target","type"],{attributes:g(["index"],{index:e}),id:h,target:t,type:m})).$convert()},H.$$s=this,H.$$arity=0,H)));return this.$sub_inline_xrefs(this.$sub_inline_anchors(ra,ua),ua)},ea.$$arity=1);a.def(w,"$sub_inline_anchors",da=function(a,b){var f,e,k,l,h;null==this.context&&(this.context=c);null==this.parent&&(this.parent=c);null==b&&(b=c);q((f=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(a=p(a,
"sub",[d(z,"InlineBiblioAnchorRx")],(e=function(){var a=e.$$s||this,b,f;return d(z,"Inline").$new(a,"anchor","["+(q(b=(f=u["~"])===c?c:f["$[]"](2))?b:(f=u["~"])===c?c:f["$[]"](1))+"]",g(["type","id","target"],{type:"bibref",id:(b=u["~"])===c?c:b["$[]"](1),target:(b=u["~"])===c?c:b["$[]"](1)})).$convert()},e.$$s=this,e.$$arity=0,e)));q(q(f=q(k=q(l=b["$!"]())?l:b["$[]"]("square_bracket"))?a["$include?"]("[["):k)?f:q(k=q(l=b["$!"]())?l:b["$[]"]("macroish"))?a["$include?"]("or:"):k)&&(a=p(a,"gsub",[d(z,
"InlineAnchorRx")],(h=function(){var a=h.$$s||this,b,f,e=c,k=c;if(q((b=u["~"])===c?c:b["$[]"](1)))return((b=u["~"])===c?c:b["$[]"](0)).$slice(1,((b=u["~"])===c?c:b["$[]"](0)).$length());q(e=(b=u["~"])===c?c:b["$[]"](2))?k=(b=u["~"])===c?c:b["$[]"](3):(e=(b=u["~"])===c?c:b["$[]"](4),q(q(b=k=(f=u["~"])===c?c:f["$[]"](5))?k["$include?"](d(z,"R_SB")):b)&&(k=k.$gsub(d(z,"ESC_R_SB"),d(z,"R_SB"))));return d(z,"Inline").$new(a,"anchor",k,g(["type","id","target"],{type:"ref",id:e,target:e})).$convert()},h.$$s=
this,h.$$arity=0,h)));return a},da.$$arity=-2);a.def(w,"$sub_inline_xrefs",ga=function(e,k){var l,h,v;null==k&&(k=c);q(q(l=q(h=q(k)?k["$[]"]("macroish"):e["$include?"]("["))?e["$include?"]("xref:"):h)?l:q(h=e["$include?"]("&"))?e["$include?"]("&lt;&lt;"):h)&&(e=p(e,"gsub",[d(z,"InlineXrefMacroRx")],(v=function(){var e=v.$$s||this,k,l,h=c,n=c,C=c,y=h=c,H=h=n=c,p=c,D=p=c;null==e.document&&(e.document=c);null==u["~"]&&(u["~"]=c);null==u.VERBOSE&&(u.VERBOSE=c);h=u["~"];if(q(h["$[]"](0)["$start_with?"](d(z,
"RS"))))return h["$[]"](0)["$[]"](x(1,-1,!1));q(n=h["$[]"](1))?(l=n.$split(",",2),k=a.to_ary(l),n=null==k[0]?c:k[0],C=null==k[1]?c:k[1],l,q(C)&&(C=C.$lstrip())):(n=h["$[]"](2),q(q(k=C=h["$[]"](3))?C["$include?"](d(z,"R_SB")):k)&&(C=C.$gsub(d(z,"ESC_R_SB"),d(z,"R_SB"))));q(h=n.$index("#"))?q(t(h,0))?(k=q(t(y=m(m(n.$length(),h),1),0))?[n.$slice(0,h),n.$slice(b(h,1),y)]:[n.$slice(0,h),c],n=k[0],h=k[1]):(k=[n,c,n.$slice(1,n.$length())],H=k[0],n=k[1],h=k[2]):(k=[c,n],n=k[0],h=k[1]);k;q(H)?p=h:q(n)?(q(q(k=
p=n.$rindex("."))?d(z,"ASCIIDOC_EXTENSIONS")["$[]"](n.$slice(p,n.$length())):k)&&(n=n.$slice(0,p)),q(q(k=e.document.$attributes()["$[]"]("docname")["$=="](n))?k:e.document.$catalog()["$[]"]("includes")["$include?"](n))?(k=[h,c,"#"+h],p=k[0],n=k[1],H=k[2],k):(p=q(h)?""+n+"#"+h:n,n=""+e.document.$attributes()["$[]"]("relfileprefix")+n+e.document.$attributes().$fetch("outfilesuffix",".html"),H=q(h)?""+n+"#"+h:n)):(q(e.document.$catalog()["$[]"]("ids")["$key?"](h))||(q(q(k=q(l=h["$include?"](" "))?l:
h.$downcase()["$!="](h))?D=e.document.$catalog()["$[]"]("ids").$key(h):k)?h=D:q(u.VERBOSE)&&e.$warn("asciidoctor: WARNING: invalid reference: "+h)),k=[h,"#"+h],p=k[0],H=k[1],k);return d(z,"Inline").$new(e,"anchor",C,g(["type","target","attributes"],{type:"xref",target:H,attributes:g(["path","fragment","refid"],{path:n,fragment:h,refid:p})})).$convert()},v.$$s=this,v.$$arity=0,v)));return e},ga.$$arity=-2);a.def(w,"$sub_callouts",P=function(a){var b,f=c,f=q(this["$attr?"]("line-comment"))?new RegExp("(?:"+
l("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+d(z,"CalloutSourceRxt")):d(z,"CalloutSourceRx");return p(a,"gsub",[f],(b=function(){var a=b.$$s||this,f;null==a.document&&(a.document=c);return q((f=u["~"])===c?c:f["$[]"](1))?((f=u["~"])===c?c:f["$[]"](0)).$sub(d(z,"RS"),""):d(z,"Inline").$new(a,"callout",(f=u["~"])===c?c:f["$[]"](3),g(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},b.$$s=this,b.$$arity=0,b))},P.$$arity=1);a.def(w,"$sub_post_replacements",U=function(a){var b,
f,e,k=c,l=c;null==this.document&&(this.document=c);null==this.attributes&&(this.attributes=c);if(q(q(b=this.document.$attributes()["$key?"]("hardbreaks"))?b:this.attributes["$key?"]("hardbreaks-option"))){k=a.$split(d(z,"LF"),-1);if(q(n(k.$size(),2)))return a;l=k.$pop();return h(p(k,"map",[],(f=function(a){var b=f.$$s||this;null==a&&(a=c);return d(z,"Inline").$new(b,"break",q(a["$end_with?"](d(z,"HARD_LINE_BREAK")))?a.$slice(0,m(a.$length(),2)):a,g(["type"],{type:"line"})).$convert()},f.$$s=this,
f.$$arity=1,f))["$<<"](l),d(z,"LF"))}return q(q(b=a["$include?"](d(z,"PLUS")))?a["$include?"](d(z,"HARD_LINE_BREAK")):b)?p(a,"gsub",[d(z,"HardLineBreakRx")],(e=function(){var a=e.$$s||this,b;return d(z,"Inline").$new(a,"break",(b=u["~"])===c?c:b["$[]"](1),g(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=0,e)):a},U.$$arity=1);a.def(w,"$convert_quoted_text",ia=function(a,b,f){var e=c,k=c,h=c,l=c,m=c;if(q(a["$[]"](0)["$start_with?"](d(z,"RS"))))if(q(f["$=="]("constrained")?e=a["$[]"](2):f["$=="]("constrained")))k=
"["+e+"]";else return a["$[]"](0)["$[]"](x(1,-1,!1));if(f["$=="]("constrained")){if(q(k))return""+k+d(z,"Inline").$new(this,"quoted",a["$[]"](3),g(["type"],{type:b})).$convert();q(h=a["$[]"](2))&&(l=(m=this.$parse_quoted_text_attributes(h)).$delete("id"),b["$=="]("mark")&&(b="unquoted"));return""+a["$[]"](1)+d(z,"Inline").$new(this,"quoted",a["$[]"](3),g(["type","id","attributes"],{type:b,id:l,attributes:m})).$convert()}q(h=a["$[]"](1))&&(l=(m=this.$parse_quoted_text_attributes(h)).$delete("id"),
b["$=="]("mark")&&(b="unquoted"));return d(z,"Inline").$new(this,"quoted",a["$[]"](2),g(["type","id","attributes"],{type:b,id:l,attributes:m})).$convert()},ia.$$arity=3);a.def(w,"$parse_quoted_text_attributes",V=function(b){var f,e=c,k=c,l=c,k=l=e=c;q(b["$include?"](d(z,"ATTR_REF_HEAD")))&&(b=this.$sub_attributes(b));q(b["$include?"](","))&&(b=b.$slice(0,b.$index(",")));return q((b=b.$strip())["$empty?"]())?g([],{}):q(q(f=b["$start_with?"](".","#"))?d(z,"Compliance").$shorthand_property_syntax():
f)?(e=b.$split("#",2),q(t(e.$size(),1))?(b=e["$[]"](1).$split("."),f=a.to_ary(b),k=null==f[0]?c:f[0],l=y.call(f,1),b):(k=c,l=[]),e=q(e["$[]"](0)["$empty?"]())?[]:e["$[]"](0).$split("."),q(t(e.$size(),1))&&e.$shift(),q(t(l.$size(),0))&&e.$concat(l),l=g([],{}),q(k)&&(k=["id",k],p(l,"[]=",a.to_a(k)),k[m(k.length,1)]),q(e["$empty?"]())||(k=["role",h(e," ")],p(l,"[]=",a.to_a(k)),k[m(k.length,1)]),l):g(["role"],{role:b})},V.$$arity=1);a.def(w,"$parse_attributes",ha=function(a,b,f){var e,k=c,l=c;null==this.document&&
(this.document=c);null==b&&(b=["role"]);null==f&&(f=g([],{}));if(!q(a))return c;if(q(a["$empty?"]()))return g([],{});q(q(e=f["$[]"]("sub_input"))?a["$include?"](d(z,"ATTR_REF_HEAD")):e)&&(a=this.document.$sub_attributes(a));q(f["$[]"]("unescape_input"))&&(a=this.$unescape_bracketed_text(a));k=q(f.$fetch("sub_result",!0))?this:c;return q(l=f["$[]"]("into"))?d(z,"AttributeList").$new(a,k).$parse_into(l,b):d(z,"AttributeList").$new(a,k).$parse(b)},ha.$$arity=-2);a.def(w,"$unescape_bracketed_text",Z=
function(a){q(a["$empty?"]())||q((a=a.$strip().$tr(d(z,"LF")," "))["$include?"](d(z,"R_SB")))&&(a=a.$gsub(d(z,"ESC_R_SB"),d(z,"R_SB")));return a},Z.$$arity=1);a.def(w,"$normalize_string",qa=function(a,b){var c;null==b&&(b=!1);q(a["$empty?"]())||(a=a.$strip().$tr(d(z,"LF")," "),q(q(c=b)?a["$include?"](d(z,"R_SB")):c)&&(a=a.$gsub(d(z,"ESC_R_SB"),d(z,"R_SB"))));return a},qa.$$arity=-2);a.def(w,"$unescape_brackets",ma=function(a){q(a["$empty?"]())||q(a["$include?"](d(z,"RS")))&&(a=a.$gsub(d(z,"ESC_R_SB"),
d(z,"R_SB")));return a},ma.$$arity=1);a.def(w,"$split_simple_csv",fa=function(a){var b,d,f=c,e=c,g=c;q(a["$empty?"]())?f=[]:q(a["$include?"]('"'))?(f=[],e=[],g=!1,p(a,"each_char",[],(b=function(a){var b=c;null==a&&(a=c);return function(){b=a;if(","["$==="](b)){if(q(g))return e["$<<"](a);f["$<<"](e.$join().$strip());return e=[]}return'"'["$==="](b)?g=g["$!"]():e["$<<"](a)}()},b.$$s=this,b.$$arity=1,b)),f["$<<"](e.$join().$strip())):f=p(a.$split(","),"map",[],(d=function(a){null==a&&(a=c);return a.$strip()},
d.$$s=this,d.$$arity=1,d));return f},fa.$$arity=1);a.def(w,"$resolve_subs",ka=function(a,e,g,k){var l,u=c,v=c,n=c,C=c;null==e&&(e="block");null==g&&(g=c);null==k&&(k=c);if(q(a["$nil_or_empty?"]()))return[];u=c;q(a["$include?"](" "))&&(a=a.$delete(" "));v=d(z,"SubModifierSniffRx")["$match?"](a);p(a.$split(","),"each",[],(l=function(a){var k,l,h=c,t=k=c,n=t=c,h=c;null==a&&(a=c);h=c;q(v)&&((k=a.$chr())["$=="]("+")?(h="append",a=a["$[]"](x(1,-1,!1))):k["$=="]("-")?(h="remove",a=a["$[]"](x(1,-1,!1))):
q(a["$end_with?"]("+"))&&(h="prepend",a=a.$chop()));a=a.$to_sym();q((k=e["$=="]("inline"))?q(l=a["$=="]("verbatim"))?l:a["$=="]("v"):e["$=="]("inline"))?t=d(z,"BASIC_SUBS"):q(d(z,"SUB_GROUPS")["$key?"](a))?t=d(z,"SUB_GROUPS")["$[]"](a):q(q(k=e["$=="]("inline")?a.$length()["$=="](1):e["$=="]("inline"))?d(z,"SUB_HINTS")["$key?"](a):k)?(t=d(z,"SUB_HINTS")["$[]"](a),t=q(n=d(z,"SUB_GROUPS")["$[]"](t))?n:[t]):t=[a];if(q(h))return u=q(k=u)?k:q(g)?g.$dup():[],"append"["$==="](h)?u=b(u,t):"prepend"["$==="](h)?
u=b(t,u):"remove"["$==="](h)?u=m(u,t):c;u=q(k=u)?k:[];return u=b(u,t)},l.$$s=this,l.$$arity=1,l));if(!q(u))return[];n=u["$&"](d(z,"SUB_OPTIONS")["$[]"](e));q(m(u,n)["$empty?"]())||(C=m(u,n),this.$warn("asciidoctor: WARNING: invalid substitution type"+(q(t(C.$size(),1))?"s":"")+(q(k)?" for ":c)+k+": "+h(C,", ")));return n},ka.$$arity=-2);a.def(w,"$resolve_block_subs",Ba=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},Ba.$$arity=3);a.def(w,"$resolve_pass_subs",Y=function(a){return this.$resolve_subs(a,
"inline",c,"passthrough macro")},Y.$$arity=1);a.def(w,"$highlight_source",la=function(e,k,t){var v,n,C,y,D=c,w=c,x=c,J=c,T=c,H=c,r=c,A=c,G=c,Ja=c,M=D=c,ca=c,Oa=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);null==t&&(t=c);D=t=q(v=t)?v:this.document.$attributes()["$[]"]("source-highlighter");"coderay"["$==="](D)?q(q(v=w=l("::","CodeRay","skip_raise")?"constant":c)?v:this.document.$attributes()["$[]"]("coderay-unavailable"))||(q(d(z,"Helpers").$require_library("coderay",
!0,"warn")["$nil?"]())?this.document.$set_attr("coderay-unavailable"):w=!0):"pygments"["$==="](D)?q(q(v=w=l("::","Pygments","skip_raise")?"constant":c)?v:this.document.$attributes()["$[]"]("pygments-unavailable"))||(q(d(z,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?this.document.$set_attr("pygments-unavailable"):w=!0):w=!1;if(!q(w))return this.$sub_source(e,k);x=0;J=!1;q(k)?(T=g([],{}),H=-1,r=q(this["$attr?"]("line-comment"))?new RegExp("(?:"+l("::","Regexp").$escape(this.$attr("line-comment"))+
" )?"+d(z,"CalloutExtractRxt")):d(z,"CalloutExtractRx"),e=h(p(e.$split(d(z,"LF"),-1),"map",[],(n=function(e){var g=n.$$s||this,k;null==e&&(e=c);x=b(x,1);return p(e,"gsub",[r],(k=function(){var b,f=c,e=c;null==u["~"]&&(u["~"]=c);f=u["~"];if(f["$[]"](1)["$=="](d(z,"RS")))return f["$[]"](0).$sub(d(z,"RS"),"");(q(b=T["$[]"](x))?b:(e=[x,[]],p(T,"[]=",a.to_a(e)),e[m(e.length,1)]))["$<<"](f["$[]"](3));H=x;return c},k.$$s=g,k.$$arity=0,k))},n.$$s=this,n.$$arity=1,n)),d(z,"LF")),J=H["$=="](x),q(T["$empty?"]())&&
(T=c)):T=c;G=A=c;D=t;"coderay"["$==="](D)?(q(A=q(this["$attr?"]("linenums",c,!1))?(q(v=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?v:"table").$to_sym():c)&&q(this["$attr?"]("highlight",c,!1))&&(G=this.$resolve_highlight_lines(this.$attr("highlight",c,!1))),Ja=l(l("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",g(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(q(v=this.document.$attributes()["$[]"]("coderay-css"))?v:
"class").$to_sym(),line_numbers:A,line_number_anchors:!1,highlight_lines:G,bold_every:!1})).$highlight(e)):"pygments"["$==="](D)&&(D=q(v=l(l("::","Pygments"),"Lexer").$find_by_alias(this.$attr("language","text",!1)))?v:l(l("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),M=g(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),D.$name()["$=="]("PHP")&&(ca=["startinline",this["$option?"]("mixed")["$!"]()],p(M,"[]=",a.to_a(ca)),
ca[m(ca.length,1)]),(q(v=this.document.$attributes()["$[]"]("pygments-css"))?v:"class")["$=="]("class")||(ca=["noclasses",!0],p(M,"[]=",a.to_a(ca)),ca[m(ca.length,1)],ca=["style",q(v=this.document.$attributes()["$[]"]("pygments-style"))?v:l(d(z,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],p(M,"[]=",a.to_a(ca)),ca[m(ca.length,1)]),q(this["$attr?"]("highlight",c,!1))&&!q((G=this.$resolve_highlight_lines(this.$attr("highlight",c,!1)))["$empty?"]())&&(ca=["hl_lines",h(G," ")],p(M,"[]=",a.to_a(ca)),ca[m(ca.length,
1)]),q(q(v=this["$attr?"]("linenums",c,!1))?(ca=["linenos",q(C=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?C:"table"],p(M,"[]=",a.to_a(ca)),ca[m(ca.length,1)])["$=="]("table"):v)?(A="table",Ja=D.$highlight(e,g(["options"],{options:M})).$sub(d(z,"PygmentsWrapperDivRx"),"\\1").$gsub(d(z,"PygmentsWrapperPreRx"),"\\1")):q(d(z,"PygmentsWrapperPreRx")["$=~"](Ja=D.$highlight(e,g(["options"],{options:M}))))&&(Ja=(v=u["~"])===c?c:v["$[]"](1)));q(this.passthroughs["$empty?"]())||(Ja=Ja.$gsub(d(z,
"HighlightedPassSlotRx"),""+d(z,"PASS_START")+"\\1"+d(z,"PASS_END")));return q(q(v=k)?T:v)?(x=0,Oa=A["$!="]("table"),h(p(Ja.$split(d(z,"LF"),-1),"map",[],(y=function(a){var e=y.$$s||this,k,l,m,u=c,v=c,M=c,u=c;null==e.document&&(e.document=c);null==a&&(a=c);if(!q(Oa)){if(!q(a["$include?"]('<td class="code">')))return a;Oa=!0}x=b(x,1);if(q(u=T.$delete(x))){v=c;q(q(k=q(l=J)?T["$empty?"]():l)?A["$=="]("table"):k)&&(q((k=t["$=="]("coderay"))?M=a.$index("</pre>"):t["$=="]("coderay"))?(k=[a.$slice(0,M),
a.$slice(M,a.$length())],a=k[0],v=k[1],k):q((k=t["$=="]("pygments"))?M=a["$start_with?"]("</td>"):t["$=="]("pygments"))&&(k=["",a],a=k[0],v=k[1],k));if(u.$size()["$=="](1))return""+a+d(z,"Inline").$new(e,"callout",u["$[]"](0),g(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()+v;u=h(p(u,"map",[],(m=function(a){var b=m.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return d(z,"Inline").$new(b,"callout",a,g(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},m.$$s=
e,m.$$arity=1,m))," ");return""+a+u+v}return a},y.$$s=this,y.$$arity=1,y)),d(z,"LF"))):Ja},la.$$arity=-3);a.def(w,"$resolve_highlight_lines",na=function(b){var f,e=c,e=[];p((q(b["$include?"](" "))?b.$delete(" "):b).$split(d(z,"DataDelimiterRx")),"map",[],(f=function(b){var d,f=c,k=c,k=d=c;null==b&&(b=c);f=!1;q(b["$start_with?"]("!"))&&(b=b["$[]"](x(1,-1,!1)),f=!0);return q(b["$include?"]("-"))?(b=b.$split("-",2),d=a.to_ary(b),k=null==d[0]?c:d[0],d=null==d[1]?c:d[1],b,k=a.Range.$new(k.$to_i(),d.$to_i(),
!1).$to_a(),q(f)?e=m(e,k):e.$concat(k)):q(f)?e.$delete(b.$to_i()):e["$<<"](b.$to_i())},f.$$s=this,f.$$arity=1,f));return e.$sort().$uniq()},na.$$arity=1);a.def(w,"$sub_source",wa=function(a,b){return q(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},wa.$$arity=2);a.def(w,"$lock_in_subs",ta=function(){var b,f,e,k,g=c,l=g=c,h=c,g=c;null==this.default_subs&&(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.subs&&
(this.subs=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);if(!q(g=this.default_subs))if(g=this.content_model,"simple"["$==="](g))g=d(z,"NORMAL_SUBS");else if("verbatim"["$==="](g))g=q(q(b=this.context["$=="]("listing"))?b:(f=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?d(z,"VERBATIM_SUBS"):this.context["$=="]("verse")?d(z,"NORMAL_SUBS"):d(z,"BASIC_SUBS");else if("raw"["$==="](g))g=
this.context["$=="]("stem")?d(z,"BASIC_SUBS"):d(z,"NONE_SUBS");else return this.subs;this.subs=q(l=this.attributes["$[]"]("subs"))?this.$resolve_block_subs(l,g,this.context):g.$dup();q(q(b=q(f=q(e=q(k=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):k)?this.document["$basebackend?"]("html"):e)?d(z,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):f)?h=this.subs.$index("specialcharacters"):
b)&&(g=[h,"highlight"],p(this.subs,"[]=",a.to_a(g)),g[m(g.length,1)]);return this.subs},ta.$$arity=0)})(r[0],r)}(e[0],e)};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var m=[],n=a.nil,e=a.const_get_qualified,c=a.const_get_relative,l=a.module,d=a.klass,y=a.truthy,
v=a.hash2,g=a.send,k=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $converter $raise $attributes $nil? $[]= $- $delete $update $nil_or_empty? $split $include? $empty? $* $apply_reftext_subs $attr? $extname $image_uri $attr $< $safe $uriish? $uri_encode_spaces $normalize_web_path $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $encode64 $binread $require_library $! $open $content_type $read $base_dir $new $root? $join $system_path $web_path $=== $!= $normalize_lines_from_string $open_uri $fetch $read_asset $gsub".split(" "));
return function(m,p){var u=[l(m,"Asciidoctor")].concat(p);(function(l,$super,m){function q(){}l=q=d(l,$super,"AbstractNode",q);var u=l.$$proto,p=[l].concat(m),w,z,x,r,A,G,B,F,L,S,W,O,X,N,ea,sa,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa;u.document=u.attributes=u.parent=u.path_resolver=n;l.$include(c(p,"Substitutors"));l.$attr_reader("parent");l.$attr_reader("document");l.$attr_reader("context");l.$attr_reader("node_name");l.$attr_accessor("id");l.$attr_reader("attributes");a.def(l,"$initialize",w=
function(a,b,c){null==c&&(c=v([],{}));b["$=="]("document")?(a=[this,n],this.document=a[0],this.parent=a[1],a):y(a)?(a=[a.$document(),a],this.document=a[0],this.parent=a[1],a):this.document=this.parent=n;this.node_name=(this.context=b).$to_s();this.attributes=y(c["$key?"]("attributes"))?c["$[]"]("attributes").$dup():v([],{});return this.passthroughs=v([],{})},w.$$arity=-3);a.def(l,"$parent=",z=function(a){a=[a,a.$document()];this.parent=a[0];this.document=a[1];a;return n},z.$$arity=1);a.def(l,"$converter",
x=function(){return this.document.$converter()},x.$$arity=0);a.def(l,"$block?",r=function(){return this.$raise(e("::","NotImplementedError"))},r.$$arity=0);a.def(l,"$inline?",A=function(){return this.$raise(e("::","NotImplementedError"))},A.$$arity=0);a.def(l,"$attr",G=function(a,b,c){var d,f;null==b&&(b=n);null==c&&(c=!0);a=a.$to_s();return y(d=this.attributes["$[]"](a))?d:y(y(f=c)?this.parent:f)?y(f=this.document.$attributes()["$[]"](a))?f:b:b},G.$$arity=-2);a.def(l,"$attr?",B=function(a,b,c){var d,
f,e;null==b&&(b=n);null==c&&(c=!0);a=a.$to_s();return y(b["$nil?"]())?y(d=this.attributes["$key?"](a))?d:y(f=y(e=c)?this.parent:e)?this.document.$attributes()["$key?"](a):f:b["$=="](y(d=this.attributes["$[]"](a))?d:y(y(f=c)?this.parent:f)?this.document.$attributes()["$[]"](a):n)},B.$$arity=-2);a.def(l,"$set_attr",F=function(c,d,e){var k=n;null==d&&(d="");null==e&&(e=!0);if(y(e["$=="](!1)?this.attributes["$key?"](c):e["$=="](!1)))return!1;k=[c,d];g(this.attributes,"[]=",a.to_a(k));k[b(k.length,1)];
return!0},F.$$arity=-2);a.def(l,"$remove_attr",L=function(a){return this.attributes.$delete(a)},L.$$arity=1);a.def(l,"$option?",S=function(a){return this.attributes["$key?"](""+a+"-option")},S.$$arity=1);a.def(l,"$set_option",W=function(c){var d=n,d=y(this.attributes["$key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+c]:["options",c];g(this.attributes,"[]=",a.to_a(d));d[b(d.length,1)];d=[""+c+"-option",""];g(this.attributes,"[]=",a.to_a(d));return d[b(d.length,1)]},W.$$arity=
1);a.def(l,"$update_attributes",O=function(a){this.attributes.$update(a);return n},O.$$arity=1);a.def(l,"$role",X=function(){var a;return y(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role")},X.$$arity=0);a.def(l,"$roles",N=function(){var a,b=n;return y((b=y(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:b.$split()},N.$$arity=0);a.def(l,"$role?",ea=function(a){var b;null==a&&(a=n);return y(a)?a["$=="](y(b=this.attributes["$[]"]("role"))?
b:this.document.$attributes()["$[]"]("role")):y(b=this.attributes["$key?"]("role"))?b:this.document.$attributes()["$key?"]("role")},ea.$$arity=-1);a.def(l,"$has_role?",sa=function(a){var b,c=n;return y((c=y(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?!1:(" "+c+" ")["$include?"](" "+a+" ")},sa.$$arity=1);a.def(l,"$add_role",ga=function(c){var d=n,d=n;if(y((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]()))return d=["role",c],g(this.attributes,
"[]=",a.to_a(d)),d[b(d.length,1)],!0;if(y((" "+d+" ")["$include?"](" "+c+" ")))return!1;d=["role",""+d+" "+c];g(this.attributes,"[]=",a.to_a(d));d[b(d.length,1)];return!0},ga.$$arity=1);a.def(l,"$remove_role",P=function(c){var d=n,d=n;return y((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?!1:y((d=d.$split()).$delete(c))?(y(d["$empty?"]())?this.attributes.$delete("role"):(d=["role",h(d," ")],g(this.attributes,"[]=",a.to_a(d)),d[b(d.length,1)]),!0):!1},P.$$arity=1);a.def(l,"$reftext",U=function(){var a=
n;return y(a=this.attributes["$[]"]("reftext"))?this.$apply_reftext_subs(a):n},U.$$arity=0);a.def(l,"$reftext?",ia=function(){return this.attributes["$key?"]("reftext")},ia.$$arity=0);a.def(l,"$icon_uri",V=function(a){var b=n;return y(this["$attr?"]("icon"))?y(e("::","File").$extname(b=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?""+b+"."+this.document.$attr("icontype","png"):b:this.$image_uri(""+a+"."+this.document.$attr("icontype","png"),"iconsdir")},V.$$arity=1);a.def(l,"$image_uri",
ha=function(a,b){var d,f,k,g,l=n,h=n;null==b&&(b="imagesdir");return y(y(d=t((l=this.document).$safe(),e(c(p,"SafeMode"),"SECURE")))?l["$attr?"]("data-uri"):d)?y(y(d=y(f=c(p,"Helpers")["$uriish?"](a))?a=this.$uri_encode_spaces(a):f)?d:y(f=y(k=y(g=b)?h=l.$attr(b):g)?c(p,"Helpers")["$uriish?"](h):k)?a=this.$normalize_web_path(a,h,!1):f)?y(l["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(a,l["$attr?"]("cache-uri")):a:this.$generate_data_uri(a,b):this.$normalize_web_path(a,y(b)?l.$attr(b):
n)},ha.$$arity=-2);a.def(l,"$media_uri",Z=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,y(b)?this.document.$attr(b):n)},Z.$$arity=-2);a.def(l,"$generate_data_uri",qa=function(a,b){var d=n,f=d=n;null==b&&(b=n);d=e("::","File").$extname(a);d=d["$=="](".svg")?"image/svg+xml":"image/"+d["$[]"](k(1,-1,!1));f=y(b)?this.$normalize_system_path(a,this.document.$attr(b),n,v(["target_name"],{target_name:"image"})):this.$normalize_system_path(a);return y(e("::","File")["$readable?"](f))?
"data:"+d+";base64,"+e("::","Base64").$encode64(e("::","IO").$binread(f)).$delete(c(p,"LF")):(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+f),"data:"+d+";base64,")},qa.$$arity=-2);a.def(l,"$generate_data_uri_from_uri",ma=function(b,d){var f,k=n,l=n;null==d&&(d=!1);y(d)?c(p,"Helpers").$require_library("open-uri/cached","open-uri-cached"):y(e("::","RUBY_ENGINE_OPAL")["$!"]())&&e("::","OpenURI");try{return k=n,l=g(this,"open",[b,"rb"],(f=function(a){null==a&&(a=n);k=
a.$content_type();return a.$read()},f.$$s=this,f.$$arity=1,f)),"data:"+k+";base64,"+e("::","Base64").$encode64(l).$delete(c(p,"LF"))}catch(h){if(a.rescue(h,[c(p,"StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw h;}},ma.$$arity=-2);a.def(l,"$normalize_asset_path",fa=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),n,v(["target_name","recover"],
{target_name:b,recover:c}))},fa.$$arity=-2);a.def(l,"$normalize_system_path",ka=function(a,b,d,f){var k,g=n,l=n;null==b&&(b=n);null==d&&(d=n);null==f&&(f=v([],{}));g=this.path_resolver=y(k=this.path_resolver)?k:c(p,"PathResolver").$new();y(t((l=this.document).$safe(),e(c(p,"SafeMode"),"SAFE")))?y(b)?y(g["$root?"](b))||(b=e("::","File").$join(l.$base_dir(),b)):b=l.$base_dir():(y(b)||(b=l.$base_dir()),y(d)||(d=l.$base_dir()));return g.$system_path(a,b,d,f)},ka.$$arity=-2);a.def(l,"$normalize_web_path",
Ba=function(a,b,d){var f;null==b&&(b=n);null==d&&(d=!0);return y(y(f=d)?c(p,"Helpers")["$uriish?"](a):f)?this.$uri_encode_spaces(a):(this.path_resolver=y(f=this.path_resolver)?f:c(p,"PathResolver").$new()).$web_path(a,b)},Ba.$$arity=-2);a.def(l,"$read_asset",Y=function(a,b){var d;null==b&&(b=v([],{}));y(e("::","Hash")["$==="](b))||(b=v(["warn_on_failure"],{warn_on_failure:b["$!="](!1)}));return y(e("::","File")["$readable?"](a))?y(b["$[]"]("normalize"))?h(c(p,"Helpers").$normalize_lines_from_string(e("::",
"IO").$read(a)),c(p,"LF")):e("::","IO").$read(a):y(b["$[]"]("warn_on_failure"))?this.$warn("asciidoctor: WARNING: "+(y(d=this.$attr("docfile"))?d:"<stdin>")+": "+(y(d=b["$[]"]("label"))?d:"file")+" does not exist or cannot be read: "+a):n},Y.$$arity=-2);a.def(l,"$read_contents",la=function(b,d){var f,k,l,m,q=n,t=n,u=n;null==d&&(d=v([],{}));q=this.document;if(y(y(f=c(p,"Helpers")["$uriish?"](b))?f:y(k=y(l=t=d["$[]"]("start"))?c(p,"Helpers")["$uriish?"](t):l)?b=(this.path_resolver=y(l=this.path_resolver)?
l:c(p,"PathResolver").$new()).$web_path(b,t):k))if(y(q["$attr?"]("allow-uri-read"))){y(q["$attr?"]("cache-uri"))&&c(p,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{u=g(e("::","OpenURI"),"open_uri",[b],(m=function(a){null==a&&(a=n);return a.$read()},m.$$s=this,m.$$arity=1,m)),y(d["$[]"]("normalize"))&&(u=h(c(p,"Helpers").$normalize_lines_from_string(u),c(p,"LF")))}catch(z){if(a.rescue(z,[c(p,"StandardError")]))try{y(d.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: could not retrieve contents of "+
(y(f=d["$[]"]("label"))?f:"asset")+" at URI: "+b),u=n}finally{a.pop_exception()}else throw z;}}else y(d.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(y(f=d["$[]"]("label"))?f:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),u=n;else b=this.$normalize_system_path(b,d["$[]"]("start"),n,v(["target_name"],{target_name:y(f=d["$[]"]("label"))?f:"asset"})),u=this.$read_asset(b,v(["normalize","warn_on_failure","label"],{normalize:d["$[]"]("normalize"),
warn_on_failure:d.$fetch("warn_on_failure",!0),label:d["$[]"]("label")}));return u},la.$$arity=-2);a.def(l,"$uri_encode_spaces",na=function(a){return y(a["$include?"](" "))?a.$gsub(" ","%20"):a},na.$$arity=1);return(a.def(l,"$is_uri?",wa=function(a){return c(p,"Helpers")["$uriish?"](a)},wa.$$arity=1),n)&&"is_uri?"})(u[0],null,u)}(m[0],m)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function h(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var m=[],n=a.nil,e=a.const_get_relative,c=a.module,l=a.klass,d=a.send,p=a.truthy,v=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $apply_title_subs $[] $title $sub_specialchars $match? $sub_replacements $reftext $! $empty? $=== $sprintf $sub_quotes $compat_mode $attributes $chomp $<< $select $context $> $has_role? $header? $concat $find_by $to_proc $each $flatten $blocks $parent $+ $find_index $next_adjacent_block $delete $increment_and_store_counter $index= $- $numbered $sectname $counter $number= $number $caption= $enumerate_section $reindex_sections".split(" "));
return function(g,k){var m=[c(g,"Asciidoctor")].concat(k);(function(c,$super,k){function g(){}c=g=l(c,$super,"AbstractBlock",g);var m=c.$$proto,q=[c].concat(k),w,x,r,z,T,A,B,G,F,R,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha,Z,qa,ma;m.document=m.attributes=m.blocks=m.source_location=m.subs=m.title=m.title_converted=m.converted_title=m.context=m.caption=m.number=m.next_section_index=m.style=m.id=m.header=m.next_section_number=n;c.$attr_accessor("content_model");c.$attr_reader("subs");c.$attr_reader("blocks");
c.$attr_accessor("level");c.$attr_accessor("style");c.$attr_writer("caption");c.$attr_accessor("number");c.$attr_accessor("source_location");a.def(c,"$initialize",w=function(b,c,f){var e=w.$$p,k=n,g=n,l=n;null==f&&(f=v([],{}));e&&(w.$$p=null);g=0;l=arguments.length;for(k=Array(l);g<l;g++)k[g]=arguments[g];d(this,a.find_super_dispatcher(this,"initialize",w,!1),k,e);this.content_model="compound";this.blocks=[];this.subs=[];this.id=this.title=this.title_converted=this.caption=this.number=this.style=
this.default_subs=this.source_location=n;c["$=="]("document")?this.level=0:p(p(b)?c["$!="]("section"):b)?this.level=b.$level():this.level=n;this.next_section_index=0;return this.next_section_number=1},w.$$arity=-3);a.def(c,"$block?",x=function(){return!0},x.$$arity=0);a.def(c,"$inline?",r=function(){return!1},r.$$arity=0);a.def(c,"$context=",z=function(a){this.context=a;return this.node_name=a.$to_s()},z.$$arity=1);a.def(c,"$convert",T=function(){this.document.$playback_attributes(this.attributes);
return this.$converter().$convert(this)},T.$$arity=0);a.alias(c,"render","convert");a.def(c,"$content",A=function(){var a;return b(d(this.blocks,"map",[],(a=function(a){null==a&&(a=n);return a.$convert()},a.$$s=this,a.$$arity=1,a)),e(q,"LF"))},A.$$arity=0);a.def(c,"$file",B=function(){return p(this.source_location)?this.source_location.$file():n},B.$$arity=0);a.def(c,"$lineno",G=function(){return p(this.source_location)?this.source_location.$lineno():n},G.$$arity=0);a.def(c,"$sub?",F=function(a){return this.subs["$include?"](a)},
F.$$arity=1);a.def(c,"$title?",R=function(){return p(this.title)?!0:!1},R.$$arity=0);a.def(c,"$title",L=function(){var a,b;return p(this.title_converted)?this.converted_title:this.converted_title=p(a=p(b=this.title_converted=!0)?this.title:b)?this.$apply_title_subs(this.title):a},L.$$arity=0);a.def(c,"$title=",S=function(a){var b;return b=[a,n],this.title=b[0],this.title_converted=b[1],b},S.$$arity=1);a.def(c,"$caption",W=function(){return this.context["$=="]("admonition")?this.attributes["$[]"]("textlabel"):
this.caption},W.$$arity=0);a.def(c,"$captioned_title",O=function(){return""+this.caption+this.$title()},O.$$arity=0);a.def(c,"$alt",X=function(){var a=n;if(p(a=this.attributes["$[]"]("alt"))){if(a["$=="](this.attributes["$[]"]("default-alt")))return this.$sub_specialchars(a);a=this.$sub_specialchars(a);return p(e(q,"ReplaceableTextRx")["$match?"](a))?this.$sub_replacements(a):a}return n},X.$$arity=0);a.def(c,"$xreftext",N=function(a){var b,c,d=n,f=n,e=f=n;null==a&&(a=n);p(p(b=d=this.$reftext())?d["$empty?"]()["$!"]():
b)?b=d:(p(p(b=p(c=a)?this.title:c)?this.caption:b)?(f=a,"full"["$==="](f)?(f=this.$sprintf(this.$sub_quotes(p(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=p(p(b=this.number)?e=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+"-caption"):b)?""+e+" "+this.number+", "+f:""+this.caption.$chomp(". ")+", "+f):a="short"["$==="](f)?p(p(b=this.number)?e=this.document.$attributes()["$[]"](this.context["$=="]("image")?"figure-caption":""+this.context+
"-caption"):b)?""+e+" "+this.number:this.caption.$chomp(". "):this.$title()):a=this.$title(),b=a);return b},N.$$arity=-1);a.def(c,"$blocks?",ea=function(){return this.blocks["$empty?"]()["$!"]()},ea.$$arity=0);a.def(c,"$<<",pa=function(a){this.blocks["$<<"](a);return this},pa.$$arity=1);a.alias(c,"append","<<");a.def(c,"$sections",ga=function(){var a;return d(this.blocks,"select",[],(a=function(a){null==a&&(a=n);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},ga.$$arity=0);a.def(c,
"$sections?",P=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},P.$$arity=0);a.def(c,"$find_by",U=function(b){var c,f,e,k,g,l,h=U.$$p,m=h||n,q=n,t=n,z=n,D=n,w=n,x=n;null==b&&(b=v([],{}));h&&(U.$$p=null);q=[];if(p(p(c=p(f=p(e=p(k=t=(z=b["$[]"]("context"))["$!"]())?k:z["$=="](this.context))?p(k=(D=b["$[]"]("style"))["$!"]())?k:D["$=="](this.style):e)?p(e=(w=b["$[]"]("role"))["$!"]())?e:this["$has_role?"](w):f)?p(f=(x=b["$[]"]("id"))["$!"]())?f:x["$=="](this.id):c)){if(p(x))return m!==
n?p(a.yield1(m,this))?[this]:q:[this];if(m!==n){if(p(a.yield1(m,this)))q["$<<"](this)}else q["$<<"](this)}p(p(c=(f=this.context["$=="]("document"))?p(e=t)?e:z["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():c)&&q.$concat(d(this.header,"find_by",[b],m.$to_proc()));z["$=="]("document")||(this.context["$=="]("dlist")?p(p(c=t)?c:z["$!="]("section"))&&d(this.blocks.$flatten(),"each",[],(g=function(a){null==a&&(a=n);return p(a)?q.$concat(d(a,"find_by",[b],m.$to_proc())):n},g.$$s=this,
g.$$arity=1,g)):p(d(this.blocks,"each",[],(l=function(a){null==a&&(a=n);return p(z["$=="]("section")?a.$context()["$!="]("section"):z["$=="]("section"))?n:q.$concat(d(a,"find_by",[b],m.$to_proc()))},l.$$s=this,l.$$arity=1,l))));return q},U.$$arity=-1);a.alias(c,"query","find_by");a.def(c,"$next_adjacent_block",ia=function(){var a=n,b=n;return this.context["$=="]("document")?n:p(a=(b=this.$parent()).$blocks()["$[]"](h(b.$blocks().$find_index(this),1)))?a:b.$next_adjacent_block()},ia.$$arity=0);a.def(c,
"$remove_sub",V=function(a){this.subs.$delete(a);return n},V.$$arity=1);a.def(c,"$assign_caption",ha=function(a,b){var c,d,f=n;null==a&&(a=n);null==b&&(b=n);!p(p(c=p(d=this.caption)?d:this.title["$!"]())?c:this.caption=p(d=a)?d:this.document.$attributes()["$[]"]("caption"))&&p(f=this.document.$attributes()["$[]"](""+(b=p(c=b)?c:this.context)+"-caption"))&&(this.caption=""+f+" "+(this.number=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return n},ha.$$arity=-1);a.def(c,"$enumerate_section",
Z=function(b){var c=n,f=n,e=n;this.next_section_index=h((c=[this.next_section_index],d(b,"index=",a.to_a(c)),c[t(c.length,1)]),1);p(b.$numbered())&&((f=b.$sectname())["$=="]("appendix")?(c=[this.document.$counter("appendix-number","A")],d(b,"number=",a.to_a(c)),c[t(c.length,1)],c=p(e=this.document.$attributes()["$[]"]("appendix-caption"))?[""+e+" "+b.$number()+": "]:[""+b.$number()+". "],d(b,"caption=",a.to_a(c)),c[t(c.length,1)]):f["$=="]("chapter")?(c=[this.document.$counter("chapter-number",1)],
d(b,"number=",a.to_a(c)),c[t(c.length,1)]):this.next_section_number=h((c=[this.next_section_number],d(b,"number=",a.to_a(c)),c[t(c.length,1)]),1));return n},Z.$$arity=1);a.def(c,"$list_marker_keyword",qa=function(a){var b;null==a&&(a=n);return e(q,"ORDERED_LIST_KEYWORDS")["$[]"](p(b=a)?b:this.style)},qa.$$arity=-1);return(a.def(c,"$reindex_sections",ma=function(){var a;this.next_section_index=0;this.next_section_number=1;return d(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=
n);return b.$context()["$=="]("section")?(c.$enumerate_section(b),b.$reindex_sections()):n},a.$$s=this,a.$$arity=1,a))},ma.$$arity=0),n)&&"reindex_sections"})(m[0],e(m,"AbstractNode"),m)}(m[0],m)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var t=[],m=a.nil,n=a.const_get_qualified,e=a.const_get_relative,c=a.module,l=a.klass,d=a.hash2,
p=a.truthy,v=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(g,k){var q=[c(g,"Asciidoctor")].concat(k);(function(c,$super,k){function g(){}c=g=l(c,$super,"AttributeList",g);var q=c.$$proto,t=[c].concat(k),w,x,r,
z,T,A,B,G,F,R,L,S;q.attributes=q.scanner=q.delimiter=q.block=q.delimiter_skip_pattern=q.delimiter_boundary_pattern=m;a.const_set(t[0],"BACKSLASH","\\");a.const_set(t[0],"BoundaryRxs",d(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/}));a.const_set(t[0],"EscapedQuotes",d(['"',"'"],{'"':'\\"',"'":"\\'"}));a.const_set(t[0],"NameRx",new RegExp(""+e(t,"CG_WORD")+"["+e(t,"CC_WORD")+"\\-.]*"));a.const_set(t[0],"BlankRx",/[ \t]+/);a.const_set(t[0],"SkipRxs",d(["blank",","],
{blank:e(t,"BlankRx"),",":/[ \t]*(,|$)/}));a.def(c,"$initialize",w=function(a,b,c){null==b&&(b=m);null==c&&(c=",");this.scanner=n("::","StringScanner").$new(a);this.block=b;this.delimiter=c;this.delimiter_skip_pattern=e(t,"SkipRxs")["$[]"](c);this.delimiter_boundary_pattern=e(t,"BoundaryRxs")["$[]"](c);return this.attributes=m},w.$$arity=-2);a.def(c,"$parse_into",x=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},x.$$arity=-2);a.def(c,"$parse",r=function(a){var c=m;null==a&&(a=[]);
if(p(this.attributes))return this.attributes;this.attributes=d([],{});for(c=0;p(this.$parse_attribute(c,a))&&!p(this.scanner["$eos?"]());)this.$skip_delimiter(),c=b(c,1);return this.attributes},r.$$arity=-1);a.def(c,"$rekey",z=function(a){return e(t,"AttributeList").$rekey(this.attributes,a)},z.$$arity=1);a.defs(c,"$rekey",T=function(c,d){var e;v(d,"each_with_index",[],(e=function(d,e){var k=m,k=k=m;null==d&&(d=m);null==e&&(e=m);if(!p(d))return m;k=b(e,1);return p(k=c["$[]"](k))?(k=[d,k],v(c,"[]=",
a.to_a(k)),k[h(k.length,1)]):m},e.$$s=this,e.$$arity=2,e));return c},T.$$arity=2);a.def(c,"$parse_attribute",A=function(c,d){var e,k,g=m,l=m,q=l=m,t=m,n=m,l=g=l=t=m;null==c&&(c=0);null==d&&(d=[]);g=!1;this.$skip_blank();if((l=this.scanner.$peek(1))["$=="]('"'))l=this.$parse_attribute_value(this.scanner.$get_byte()),q=m;else if(l["$=="]("'"))l=this.$parse_attribute_value(this.scanner.$get_byte()),q=m,g=!0;else{l=this.$scan_name();t=0;n=m;if(p(this.scanner["$eos?"]())){if(!p(l))return!1}else t=p(e=
this.$skip_blank())?e:0,n=this.scanner.$get_byte();if(p(p(e=n["$!"]())?e:n["$=="](this.delimiter)))q=m;else if(p(p(e=n["$!="]("="))?e:l["$!"]()))l=""+l+" "["$*"](t)+n+this.$scan_to_delimiter(),q=m;else if(this.$skip_blank(),p(this.scanner.$peek(1)))if((n=this.scanner.$get_byte())["$=="]('"'))q=this.$parse_attribute_value(n);else if(n["$=="]("'"))q=this.$parse_attribute_value(n),g=!0;else if(n["$=="](this.delimiter))q=m;else if(q=""+n+this.$scan_to_delimiter(),q["$=="]("None"))return!0}p(q)?(t=l,"options"["$==="](t)||
"opts"["$==="](t)?(p(q["$include?"](","))?(p(q["$include?"](" "))&&(q=q.$delete(" ")),v(q.$split(","),"each",[],(k=function(b){var c=k.$$s||this,d=m;null==c.attributes&&(c.attributes=m);null==b&&(b=m);if(p(b["$empty?"]()))return m;d=[""+b+"-option",""];v(c.attributes,"[]=",a.to_a(d));return d[h(d.length,1)]},k.$$s=this,k.$$arity=1,k))):(l=[""+(q=q.$strip())+"-option",""],v(this.attributes,"[]=",a.to_a(l)),l[h(l.length,1)]),l=["options",q]):p(p(e=g)?this.block:e)?(t=l,l="title"["$==="](t)||"reftext"["$==="](t)?
[l,q]:[l,this.block.$apply_subs(q)]):l=[l,q]):(g=p(p(e=g)?this.block:e)?this.block.$apply_subs(l):l,p(l=d["$[]"](c))&&(l=[l,g],v(this.attributes,"[]=",a.to_a(l)),l[h(l.length,1)]),l=[b(c,1),g]);v(this.attributes,"[]=",a.to_a(l));l[h(l.length,1)];return!0},A.$$arity=-1);a.def(c,"$parse_attribute_value",B=function(a){var b=m;return this.scanner.$peek(1)["$=="](a)?(this.scanner.$get_byte(),""):p(b=this.$scan_to_quote(a))?(this.scanner.$get_byte(),p(b["$include?"](e(t,"BACKSLASH")))?b.$gsub(e(t,"EscapedQuotes")["$[]"](a),
a):b):""+a+this.$scan_to_delimiter()},B.$$arity=1);a.def(c,"$skip_blank",G=function(){return this.scanner.$skip(e(t,"BlankRx"))},G.$$arity=0);a.def(c,"$skip_delimiter",F=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},F.$$arity=0);a.def(c,"$scan_name",R=function(){return this.scanner.$scan(e(t,"NameRx"))},R.$$arity=0);a.def(c,"$scan_to_delimiter",L=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},L.$$arity=0);return(a.def(c,"$scan_to_quote",S=function(a){return this.scanner.$scan(e(t,
"BoundaryRxs")["$[]"](a))},S.$$arity=1),m)&&"scan_to_quote"})(q[0],null,q)}(t[0],t)};Opal.modules["asciidoctor/block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var t=[],m=a.nil,n=a.const_get_qualified,e=a.const_get_relative,c=a.module,l=a.klass,d=a.send,p=a.hash2,v=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));
return function(g,k){var q=[c(g,"Asciidoctor")].concat(k);(function(c,$super,k){function g(){}c=g=l(c,$super,"Block",g);var q=c.$$proto,t=[c].concat(k),w,x,r,z;k=m;q.attributes=q.content_model=q.lines=q.subs=q.blocks=q.context=q.style=m;k=["simple"];d(a.const_set(t[0],"DEFAULT_CONTENT_MODEL",p("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",
thematic_break:"empty",video:"empty"})),"default=",a.to_a(k));k[b(k.length,1)];a.alias(c,"blockname","context");c.$attr_accessor("lines");a.def(c,"$initialize",w=function(c,k,g){var l,h=w.$$p,q=m,z=q=m,D=q=m,x=m;null==g&&(g=p([],{}));h&&(w.$$p=null);D=0;x=arguments.length;for(q=Array(x);D<x;D++)q[D]=arguments[D];d(this,a.find_super_dispatcher(this,"initialize",w,!1),q,h);this.content_model=v(l=g["$[]"]("content_model"))?l:e(t,"DEFAULT_CONTENT_MODEL")["$[]"](k);v(g["$key?"]("subs"))?v(q=g["$[]"]("subs"))?
(q["$=="]("default")?this.default_subs=g["$[]"]("default_subs"):v(n("::","Array")["$==="](q))?(this.default_subs=q.$dup(),this.attributes.$delete("subs")):(this.default_subs=m,q=["subs",""+q],d(this.attributes,"[]=",a.to_a(q)),q[b(q.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=m;return v((z=g["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:v(n("::","String")["$==="](z))?this.lines=e(t,"Helpers").$normalize_lines_from_string(z):this.lines=
z.$dup()},w.$$arity=-3);a.def(c,"$content",x=function(){var b,c=this,f=x.$$p,k=m,g=m,l=m,q=m,n=m,p=m,z=m;f&&(x.$$p=null);p=0;z=arguments.length;for(n=Array(z);p<z;p++)n[p]=arguments[p];return function(){k=c.content_model;if("compound"["$==="](k))return d(c,a.find_super_dispatcher(c,"content",x,!1),n,f);if("simple"["$==="](k))return c.$apply_subs(h(c.lines,e(t,"LF")),c.subs);if("verbatim"["$==="](k)||"raw"["$==="](k)){g=c.$apply_subs(c.lines,c.subs);var p;p=g.$size();p="number"===typeof p?2>p:p["$<"](2);
if(v(p))return g["$[]"](0);for(;v(v(b=l=g["$[]"](0))?l.$rstrip()["$empty?"]():b);)g.$shift();for(;v(v(b=q=g["$[]"](-1))?q.$rstrip()["$empty?"]():b);)g.$pop();return h(g,e(t,"LF"))}c.content_model["$=="]("empty")||c.$warn("Unknown content model '"+c.content_model+"' for block: "+c.$to_s());return m}()},x.$$arity=0);a.def(c,"$source",r=function(){return h(this.lines,e(t,"LF"))},r.$$arity=0);return(a.def(c,"$to_s",z=function(){var a=m,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():
"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},z.$$arity=0),m)&&"to_s"})(q[0],e(q,"AbstractBlock"),q)}(t[0],t)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var t=[],m=a.nil,n=a.module,
e=a.klass,c=a.hash2,l=a.truthy,d=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(t,v){var g=[n(t,"Asciidoctor")].concat(v);(function(k,$super,g){function t(){}k=t=e(k,$super,"Callouts",t);var n=k.$$proto;[k].concat(g);var v,p,w,x,C,y,z,r,A;n.co_index=n.lists=n.list_index=m;a.def(k,"$initialize",v=function(){this.lists=[];this.list_index=0;return this.$next_list()},v.$$arity=
0);a.def(k,"$register",p=function(a){var d=m;this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:a.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return d},p.$$arity=1);a.def(k,"$read_next_id",w=function(){var a=m,c=m,a=m,c=this.$current_list(),d;d=this.co_index;var e=c.$size();d="number"===typeof d&&"number"===typeof e?d<=e:d["$<="](e);l(d)&&(a=c["$[]"](h(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},w.$$arity=0);a.def(k,"$callout_ids",
x=function(a){var b;return d(this.$current_list(),"map",[],(b=function(b){null==b&&(b=m);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":m},b.$$s=this,b.$$arity=1,b)).$join().$chop()},x.$$arity=1);a.def(k,"$current_list",C=function(){return this.lists["$[]"](h(this.list_index,1))},C.$$arity=0);a.def(k,"$next_list",y=function(){this.list_index=b(this.list_index,1);var a;a=this.lists.$size();var c=this.list_index;a="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(l(a))this.lists["$<<"]([]);
this.co_index=1;return m},y.$$arity=0);a.def(k,"$rewind",z=function(){this.co_index=this.list_index=1;return m},z.$$arity=0);a.def(k,"$generate_next_callout_id",r=function(){return this.$generate_callout_id(this.list_index,this.co_index)},r.$$arity=0);return(a.def(k,"$generate_callout_id",A=function(a,b){return"CO"+a+"-"+b},A.$$arity=2),m)&&"generate_callout_id"})(g[0],null,g)}(t[0],t)};Opal.modules["asciidoctor/converter/base"]=function(a){var b=[],h=a.nil,t=a.const_get_relative,m=a.module,n=a.klass,
e=a.hash2,c=a.truthy;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(b,d){var f=[m(b,"Asciidoctor")].concat(d);(function(a,b){[m(a,"Converter")].concat(b);h})(f[0],f);(function(a,$super,b){function c(){}a=c=n(a,$super,"Base",c);b=[a].concat(b);return a.$include(t(b,"Converter"))})(t(f,"Converter"),null,f);(function(b,$super,d){function f(){}b=f=n(b,$super,"BuiltIn",f);[b].concat(d);var l,m,t,p;a.def(b,"$initialize",l=function(a,b){null==b&&e([],{});return h},l.$$arity=
-2);a.def(b,"$convert",m=function(a,b,d){var f;null==b&&(b=h);null==d&&(d=e([],{}));b=c(f=b)?f:a.$node_name();return c(d["$empty?"]())?this.$send(b,a):this.$send(b,a,d)},m.$$arity=-2);a.alias(b,"handles?","respond_to?");a.def(b,"$content",t=function(a){return a.$content()},t.$$arity=1);a.alias(b,"pass","content");return(a.def(b,"$skip",p=function(a){return h},p.$$arity=1),h)&&"skip"})(t(f,"Converter"),null,f)}(b[0],b)};Opal.modules["asciidoctor/converter/factory"]=function(a){var b=[],h=a.nil,t=a.const_get_qualified,
m=a.const_get_relative,n=a.module,e=a.klass,c=a.truthy,l=a.hash2,d=a.send;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $key?".split(" "));return function(b,f){var g=[n(b,"Asciidoctor")].concat(f);(function(b,f){var g=[n(b,"Converter")].concat(f);(function(b,$super,f){function g(){}b=g=e(b,$super,"Factory",g);var k=b.$$proto,q=[b].concat(f),n,v,p,w,x;k.converters=k.star_converter=h;b.__default__=
h;(function(b,d){[b].concat(d);var f,e,g,k,m,q;a.def(b,"$default",f=function(b){var d;null==this.__default__&&(this.__default__=h);null==b&&(b=!0);if(!c(b))return c(d=this.__default__)?d:this.$new();var f;if(c(d=this.__default__))f=d;else a:{try{c(t("::","ThreadSafe","skip_raise")?"constant":h)||this.$require("thread_safe".$to_s());f=this.$new(t(t("::","ThreadSafe"),"Cache").$new());break a}catch(e){if(a.rescue(e,[t("::","LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
f=this.$new();break a}finally{a.pop_exception()}else throw e;}f=void 0}return this.__default__=f},f.$$arity=-1);a.def(b,"$register",e=function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)},e.$$arity=-2);a.def(b,"$resolve",g=function(a){return this.$default().$resolve(a)},g.$$arity=1);a.def(b,"$create",k=function(a,b){null==b&&(b=l([],{}));return this.$default().$create(a,b)},k.$$arity=-2);a.def(b,"$converters",m=function(){return this.$default().$converters()},m.$$arity=0);return(a.def(b,
"$unregister_all",q=function(){return this.$default().$unregister_all()},q.$$arity=0),h)&&"unregister_all"})(a.get_singleton_class(b),q);b.$attr_reader("converters");a.def(b,"$initialize",n=function(a){var b;null==a&&(a=h);this.converters=c(b=a)?b:l([],{});return this.star_converter=h},n.$$arity=-1);a.def(b,"$register",v=function(b,c){var f;null==c&&(c=["*"]);d(c,"each",[],(f=function(c){var e=f.$$s||this,g=h;null==e.converters&&(e.converters=h);null==c&&(c=h);g=[c,b];d(e.converters,"[]=",a.to_a(g));
var k=g,g=g.length,g="number"===typeof g?g-1:g["$-"](1);k[g];return c["$=="]("*")?e.star_converter=b:h},f.$$s=this,f.$$arity=1,f));return h},v.$$arity=-2);a.def(b,"$resolve",p=function(a){var b,d;return c(b=this.converters)?c(d=this.converters["$[]"](a))?d:this.star_converter:b},p.$$arity=1);a.def(b,"$unregister_all",w=function(){this.converters.$clear();return this.star_converter=h},w.$$arity=0);return(a.def(b,"$create",x=function(a,b){var d,f,e,g,k,n,u,v,p,z,D,w,x=this,C=h,y=C=h,r=h;null==b&&(b=
l([],{}));if(c(C=x.$resolve(a)))return c(t("::","Class")["$==="](C))?C.$new(a,b):C;C=function(){y=a;return"html5"["$==="](y)?(c((f=t("::","Asciidoctor","skip_raise"))&&(d=t(f,"Converter","skip_raise"))&&t(d,"Html5Converter","skip_raise")?"constant":h)||x.$require("asciidoctor/converter/html5".$to_s()),m(q,"Html5Converter").$new(a,b)):"docbook5"["$==="](y)?(c((g=t("::","Asciidoctor","skip_raise"))&&(e=t(g,"Converter","skip_raise"))&&t(e,"DocBook5Converter","skip_raise")?"constant":h)||x.$require("asciidoctor/converter/docbook5".$to_s()),
m(q,"DocBook5Converter").$new(a,b)):"docbook45"["$==="](y)?(c((n=t("::","Asciidoctor","skip_raise"))&&(k=t(n,"Converter","skip_raise"))&&t(k,"DocBook45Converter","skip_raise")?"constant":h)||x.$require("asciidoctor/converter/docbook45".$to_s()),m(q,"DocBook45Converter").$new(a,b)):"manpage"["$==="](y)?(c((v=t("::","Asciidoctor","skip_raise"))&&(u=t(v,"Converter","skip_raise"))&&t(u,"ManPageConverter","skip_raise")?"constant":h)||x.$require("asciidoctor/converter/manpage".$to_s()),m(q,"ManPageConverter").$new(a,
b)):h}();if(!c(b["$key?"]("template_dirs")))return C;c((z=t("::","Asciidoctor","skip_raise"))&&(p=t(z,"Converter","skip_raise"))&&t(p,"TemplateConverter","skip_raise")?"constant":h)||x.$require("asciidoctor/converter/template".$to_s());c((w=t("::","Asciidoctor","skip_raise"))&&(D=t(w,"Converter","skip_raise"))&&t(D,"CompositeConverter","skip_raise")?"constant":h)||x.$require("asciidoctor/converter/composite".$to_s());r=m(q,"TemplateConverter").$new(a,b["$[]"]("template_dirs"),b);return m(q,"CompositeConverter").$new(a,
r,C)},x.$$arity=-2),h)&&"create"})(g[0],null,g)})(g[0],g)}(b[0],b)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=a.top,t=[],m=a.nil,n=a.const_get_qualified,e=a.const_get_relative,c=a.module,l=a.send,d=a.truthy,p=a.range,v=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" "));(function(g,
k){var h=[c(g,"Asciidoctor")].concat(k);(function(g,k){var h=c(g,"Converter"),q=[h].concat(k),t,x;(function(b,d){var f=c(b,"Config"),g=[f].concat(d),k;a.def(f,"$register_for",k=function(b){var c,d,f,k=m,k=arguments.length,h=k-0;0>h&&(h=0);f=Array(h);for(h=0;h<k;h++)f[h-0]=arguments[h];e(g,"Factory").$register(this,f);k=function(a,b){[a].concat(b);return a}(a.get_singleton_class(this),g);f["$=="](["*"])?l(k,"send",["define_method","converts?"],(c=function(a){return!0},c.$$s=this,c.$$arity=1,c)):l(k,
"send",["define_method","converts?"],(d=function(a){null==a&&(a=m);return f["$include?"](a)},d.$$s=this,d.$$arity=1,d));return m},k.$$arity=-1)})(q[0],q);(function(g,k){var h=c(g,"BackendInfo"),q=[h].concat(k),t,u,x,w,D,E;a.def(h,"$backend_info",t=function(){var a;null==this.backend_info&&(this.backend_info=m);return this.backend_info=d(a=this.backend_info)?a:this.$setup_backend_info()},t.$$arity=0);a.def(h,"$setup_backend_info",u=function(){var a=m,b=m,c=m,f=m;null==this.backend&&(this.backend=m);
d(this.backend)||this.$raise(n("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class());a=this.backend.$sub(e(q,"TrailingDigitsRx"),"");d(b=e(q,"DEFAULT_EXTENSIONS")["$[]"](a))?c=b["$[]"](p(1,-1,!1)):(a="html",b=".html",f=c="html");return v(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:a,outfilesuffix:b,filetype:c,htmlsyntax:f})},u.$$arity=0);a.def(h,"$filetype",x=function(c){var e=m;null==c&&(c=m);return d(c)?(e=["filetype",c],l(this.$backend_info(),
"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("filetype")},x.$$arity=-1);a.def(h,"$basebackend",w=function(c){var e=m;null==c&&(c=m);return d(c)?(e=["basebackend",c],l(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},w.$$arity=-1);a.def(h,"$outfilesuffix",D=function(c){var e=m;null==c&&(c=m);return d(c)?(e=["outfilesuffix",c],l(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},D.$$arity=
-1);a.def(h,"$htmlsyntax",E=function(c){var e=m;null==c&&(c=m);return d(c)?(e=["htmlsyntax",c],l(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},E.$$arity=-1)})(q[0],q);(function(b,c){var d=[b].concat(c),f;return(a.def(b,"$included",f=function(a){return a.$extend(e(d,"Config"))},f.$$arity=1),m)&&"included"})(a.get_singleton_class(h),q);h.$include(e(q,"Config"));h.$include(e(q,"BackendInfo"));a.def(h,"$initialize",t=function(a,b){null==b&&v([],{});
this.backend=a;return this.$setup_backend_info()},t.$$arity=-2);a.def(h,"$convert",x=function(a,b,c){null==c&&v([],{});return this.$raise(n("::","NotImplementedError"))},x.$$arity=-2);a.alias(h,"convert_with_options","convert")})(h[0],h);(function(b,f){var g=c(b,"Writer"),k=[g].concat(f),l;a.def(g,"$write",l=function(a,b){d(b["$respond_to?"]("write"))?(b.$write(a.$chomp()),b.$write(e(k,"LF"))):n("::","IO").$write(b,a);return m},l.$$arity=2)})(h[0],h);(function(b,d){var f=c(b,"VoidWriter"),g=[f].concat(d),
k;f.$include(e(g,"Writer"));a.def(f,"$write",k=function(a,b){return m},k.$$arity=2)})(h[0],h)})(t[0],t);h.$require("asciidoctor/converter/base");return h.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/document"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===
typeof a&&"number"===typeof b?a*b:a["$*"](b)}var n=[],e=a.nil,c=a.const_get_qualified,l=a.const_get_relative,d=a.module,p=a.klass,v=a.truthy,g=a.send,k=a.hash2,q=a.range,x=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $inject $catalog $== $callouts $dup $attributes $safe $compat_mode $sourcemap $converter $extensions $each $start_with? $end_with? $chop $downcase $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $update_doctype_attributes $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $slice $strftime $year $join $create $to_proc $activate $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $sectname= $title= $title $first_section $merge $find $context $enumerate_section $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $rewind $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $backend $default $doctype $content_model $warn $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $map $split $resolve_docinfo_subs $& $normalize_system_path $read_asset $docinfo_processors? $compact $* $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(n,w){var D=[d(n,"Asciidoctor")].concat(w);(function(d,$super,n){function u(){}d=u=p(d,$super,"Document",u);var w=d.$$proto,z=[d].concat(n),D,C,r,A,B,F,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,Ea,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,La,Ka,Ha,Ma,Ga,Ia,H;w.attributes=w.safe=w.reader=w.base_dir=w.parsed=w.parent_document=w.extensions=w.options=w.counters=w.catalog=w.header=w.blocks=w.attributes_modified=w.id=w.callouts=w.header_attributes=w.max_attribute_value_size=w.attribute_overrides=
w.backend=w.doctype=w.converter=w.outfilesuffix=w.docinfo_processor_extensions=w.document=e;a.const_set(z[0],"Footnote",c("::","Struct").$new("index","id","text"));(function(c,$super,d){function k(){}c=k=p(c,$super,"AttributeEntry",k);[c].concat(d);var l,h;c.$attr_reader("name","value","negate");a.def(c,"$initialize",l=function(a,b,c){null==c&&(c=e);this.name=a;this.value=b;return this.negate=v(c["$nil?"]())?b["$nil?"]():c},l.$$arity=-3);return(a.def(c,"$save_to",h=function(c){var d,k=e;(v(d=c["$[]"]("attribute_entries"))?
d:(k=["attribute_entries",[]],g(c,"[]=",a.to_a(k)),k[b(k.length,1)]))["$<<"](this);return this},h.$$arity=1),e)&&"save_to"})(z[0],null,z);(function(b,$super,c){function d(){}b=d=p(b,$super,"Title",d);var f=b.$$proto,g=[b].concat(c),h,m,q,t;f.sanitized=f.subtitle=f.combined=e;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.def(b,"$initialize",h=function(b,c){var d,f,h=e;null==c&&(c=k([],{}));v(v(d=this.sanitized=c["$[]"]("sanitize"))?b["$include?"]("<"):
d)&&(b=b.$gsub(l(g,"XmlSanitizeRx"),"").$squeeze(" ").$strip());v(v(d=(h=v(f=c["$[]"]("separator"))?f:":")["$empty?"]())?d:b["$include?"](h=""+h+" ")["$!"]())?(this.main=b,this.subtitle=e):(f=b.$rpartition(h),d=a.to_ary(f),this.main=null==d[0]?e:d[0],this.subtitle=null==d[2]?e:d[2],f);return this.combined=b},h.$$arity=-2);a.def(b,"$sanitized?",m=function(){return this.sanitized},m.$$arity=0);a.def(b,"$subtitle?",q=function(){return v(this.subtitle)?!0:!1},q.$$arity=0);return(a.def(b,"$to_s",t=function(){return this.combined},
t.$$arity=0),e)&&"to_s"})(z[0],null,z);d.$attr_reader("safe");d.$attr_reader("compat_mode");d.$attr_reader("backend");d.$attr_reader("doctype");d.$attr_accessor("sourcemap");d.$attr_reader("catalog");a.alias(d,"references","catalog");d.$attr_reader("counters");d.$attr_reader("callouts");d.$attr_reader("header");d.$attr_reader("base_dir");d.$attr_reader("options");d.$attr_reader("outfilesuffix");d.$attr_reader("parent_document");d.$attr_reader("reader");d.$attr_reader("converter");d.$attr_reader("extensions");
a.def(d,"$initialize",D=function(d,m){var n,u,M,p,H,w,x,C=D.$$p,y=e,I=e,r=e,J=e,A=e,B=A=e,G=e,Z=B=e,F=B=B=e,ja=e,O=ja=B=y=e,W=e;null==d&&(d=e);null==m&&(m=k([],{}));C&&(D.$$p=null);g(this,a.find_super_dispatcher(this,"initialize",D,!1),[this,"document"],null);if(v(y=m.$delete("parent")))this.parent_document=y,v(n=m["$[]"]("base_dir"))?n:(I=["base_dir",y.$base_dir()],g(m,"[]=",a.to_a(I)),I[b(I.length,1)]),this.catalog=g(y.$catalog(),"inject",[k([],{})],(u=function(c,d){var k,l;null==d&&(d=e);d=a.to_ary(d);
k=a.slice.call(d,0,d.length);l=k.splice(0,1)[0];null==l&&(l=e);k=k.splice(0,1)[0];null==k&&(k=e);null==c&&(c=e);I=[l,l["$=="]("footnotes")?[]:k];g(c,"[]=",a.to_a(I));I[b(I.length,1)];return c},u.$$s=this,u.$$arity=2,u.$$has_top_level_mlhs_arg=!0,u)),this.callouts=y.$callouts(),this.attribute_overrides=r=y.$attributes().$dup(),J=r.$delete("doctype"),r.$delete("compat-mode"),r.$delete("toc"),r.$delete("toc-placement"),r.$delete("toc-position"),this.safe=y.$safe(),v(this.compat_mode=y.$compat_mode())&&
(I=["compat-mode",""],g(this.attributes,"[]=",a.to_a(I)),I[b(I.length,1)]),this.sourcemap=y.$sourcemap(),this.converter=y.$converter(),A=!1,this.extensions=y.$extensions();else{this.parent_document=e;this.catalog=k("ids refs footnotes links images indexterms includes".split(" "),{ids:k([],{}),refs:k([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:c("::","Set").$new()});this.callouts=l(z,"Callouts").$new();r=k([],{});g(v(n=m["$[]"]("attributes"))?n:k([],{}),"each",[],(M=function(c,d){null==
c&&(c=e);null==d&&(d=e);v(c["$start_with?"]("!"))?(c=c["$[]"](q(1,-1,!1)),d=e):v(c["$end_with?"]("!"))&&(c=c.$chop(),d=e);I=[c.$downcase(),d];g(r,"[]=",a.to_a(I));return I[b(I.length,1)]},M.$$s=this,M.$$arity=2,M));this.attribute_overrides=r;if(v((A=m["$[]"]("safe"))["$!"]()))this.safe=c(l(z,"SafeMode"),"SECURE");else if(v(c("::","Integer")["$==="](A)))this.safe=A;else try{this.safe=l(z,"SafeMode").$value_for_name(A.$to_s())}catch(ba){if(a.rescue(ba,[l(z,"StandardError")]))try{this.safe=c(l(z,"SafeMode"),
"SECURE")}finally{a.pop_exception()}else throw ba;}this.compat_mode=r["$key?"]("compat-mode");this.sourcemap=m["$[]"]("sourcemap");this.converter=e;A=(p=c("::","Asciidoctor","skip_raise"))&&(n=c(p,"Extensions","skip_raise"))?"constant":e;this.extensions=e}this.parsed=!1;this.header=e;this.counters=k([],{});this.attributes_modified=c("::","Set").$new();this.docinfo_processor_extensions=k([],{});B=v(H=m["$[]"]("header_footer"))?H:(I=["header_footer",!1],g(m,"[]=",a.to_a(I)),I[b(I.length,1)]);(this.options=
m).$freeze();G=this.attributes;I=["sectids",""];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["toc-placement","auto"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];v(B)?(I=["copycss",""],g(G,"[]=",a.to_a(I)),I[b(I.length,1)],I=["embedded",e]):(I=["notitle",""],g(G,"[]=",a.to_a(I)),I[b(I.length,1)],I=["embedded",""]);g(r,"[]=",a.to_a(I));I[b(I.length,1)];I=["stylesheet",""];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["webfonts",""];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["prewrap",""];g(G,"[]=",a.to_a(I));I[b(I.length,
1)];I=["attribute-undefined",l(z,"Compliance").$attribute_undefined()];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["attribute-missing",l(z,"Compliance").$attribute_missing()];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["iconfont-remote",""];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["caution-caption","Caution"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["important-caption","Important"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["note-caption","Note"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["tip-caption","Tip"];
g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["warning-caption","Warning"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["example-caption","Example"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["figure-caption","Figure"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["table-caption","Table"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["toc-title","Table of Contents"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["manname-title","NAME"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["section-refsig","Section"];g(G,"[]=",a.to_a(I));
I[b(I.length,1)];I=["chapter-refsig","Chapter"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["appendix-caption",(I=["appendix-refsig","Appendix"],g(G,"[]=",a.to_a(I)),I[b(I.length,1)])];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["untitled-label","Untitled"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["version-label","Version"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["last-update-label","Last updated"];g(G,"[]=",a.to_a(I));I[b(I.length,1)];I=["asciidoctor",""];g(r,"[]=",a.to_a(I));I[b(I.length,1)];I=["asciidoctor-version",
l(z,"VERSION")];g(r,"[]=",a.to_a(I));I[b(I.length,1)];I=["safe-mode-name",B=l(z,"SafeMode").$name_for_value(this.safe)];g(r,"[]=",a.to_a(I));I[b(I.length,1)];I=["safe-mode-"+B,""];g(r,"[]=",a.to_a(I));I[b(I.length,1)];I=["safe-mode-level",this.safe];g(r,"[]=",a.to_a(I));I[b(I.length,1)];v(H=r["$[]"]("max-include-depth"))?H:(I=["max-include-depth",64],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]);v(H=r["$[]"]("allow-uri-read"))?H:(I=["allow-uri-read",e],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]);I=["user-home",
l(z,"USER_HOME")];g(r,"[]=",a.to_a(I));I[b(I.length,1)];v(r["$key?"]("numbered"))&&(I=["sectnums",r.$delete("numbered")],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]);v(Z=m["$[]"]("base_dir"))?this.base_dir=(I=["docdir",c("::","File").$expand_path(Z)],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]):v(r["$[]"]("docdir"))?this.base_dir=r["$[]"]("docdir"):this.base_dir=(I=["docdir",c("::","Dir").$pwd()],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]);v(B=m["$[]"]("backend"))&&(I=["backend",""+B],g(r,"[]=",a.to_a(I)),I[b(I.length,
1)]);v(B=m["$[]"]("doctype"))&&(I=["doctype",""+B],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]);v(h(this.safe,c(l(z,"SafeMode"),"SERVER")))&&(v(H=r["$[]"]("copycss"))?H:(I=["copycss",e],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]),v(H=r["$[]"]("source-highlighter"))?H:(I=["source-highlighter",e],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]),v(H=r["$[]"]("backend"))?H:(I=["backend",l(z,"DEFAULT_BACKEND")],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]),v(v(H=y["$!"]())?r["$key?"]("docfile"):H)&&(I=["docfile",r["$[]"]("docfile")["$[]"](a.Range.$new(t(r["$[]"]("docdir").$length(),
1),-1,!1))],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]),I=["docdir",""],g(r,"[]=",a.to_a(I)),I[b(I.length,1)],I=["user-home","."],g(r,"[]=",a.to_a(I)),I[b(I.length,1)],v(h(this.safe,c(l(z,"SafeMode"),"SECURE")))&&(v(r["$key?"]("max-attribute-value-size"))||(I=["max-attribute-value-size",4096],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]),v(r.$fetch("linkcss","")["$nil?"]())||(I=["linkcss",""],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]),v(H=r["$[]"]("icons"))?H:(I=["icons",e],g(r,"[]=",a.to_a(I)),I[b(I.length,1)])));
this.max_attribute_value_size=v(F=v(H=r["$[]"]("max-attribute-value-size"))?H:(I=["max-attribute-value-size",e],g(r,"[]=",a.to_a(I)),I[b(I.length,1)]))?F.$to_i().$abs():e;g(r,"delete_if",[],(w=function(d,k){var l,h=e;null==d&&(d=e);null==k&&(k=e);h=!1;v(k["$nil?"]())?G.$delete(d):(v(v(l=c("::","String")["$==="](k))?k["$end_with?"]("@"):l)&&(k=k.$chop(),h=!0),I=[d,k],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);return h},w.$$s=this,w.$$arity=2,w));if(v(y))return this.backend=G["$[]"]("backend"),(this.doctype=
(I=["doctype",J],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]))["$=="](l(z,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(l(z,"DEFAULT_DOCTYPE")),this.reader=l(z,"Reader").$new(d,m["$[]"]("cursor")),l(z,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=e;(v(H=G["$[]"]("backend"))?H:(I=["backend",l(z,"DEFAULT_BACKEND")],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]))["$=="]("manpage")?this.doctype=(I=["doctype",(I=["doctype","manpage"],g(r,"[]=",a.to_a(I)),I[b(I.length,
1)])],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]):this.doctype=v(H=G["$[]"]("doctype"))?H:(I=["doctype",l(z,"DEFAULT_DOCTYPE")],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);this.$update_backend_attributes(G["$[]"]("backend"),!0);ja=v(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?c("::","Time").$at(this.$Integer(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():c("::","Time").$now();v(y=G["$[]"]("localdate"))?B=v(H=G["$[]"]("localyear"))?H:(I=["localyear",y.$index("-")["$=="](4)?y.$slice(0,4):e],g(G,"[]=",a.to_a(I)),
I[b(I.length,1)]):(y=(I=["localdate",ja.$strftime("%Y-%m-%d")],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]),B=v(H=G["$[]"]("localyear"))?H:(I=["localyear",ja.$year().$to_s()],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]));if(v(H=G["$[]"]("localtime")))n=H;else{var oa;a:{try{oa=ja.$strftime("%H:%M:%S %Z");break a}catch(ba){if(a.rescue(ba,[l(z,"StandardError")]))try{oa=ja.$strftime("%H:%M:%S %z");break a}finally{a.pop_exception()}else throw ba;}oa=void 0}n=(I=["localtime",oa],g(G,"[]=",a.to_a(I)),I[b(I.length,1)])}ja=
n;v(H=G["$[]"]("localdatetime"))?H:(I=["localdatetime",""+y+" "+ja],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);v(H=G["$[]"]("docdate"))?H:(I=["docdate",y],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);v(H=G["$[]"]("docyear"))?H:(I=["docyear",B],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);v(H=G["$[]"]("doctime"))?H:(I=["doctime",ja],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);v(H=G["$[]"]("docdatetime"))?H:(I=["docdatetime",""+y+" "+ja],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);v(H=G["$[]"]("stylesdir"))?H:(I=["stylesdir",
"."],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);v(H=G["$[]"]("iconsdir"))?H:(I=["iconsdir",c("::","File").$join(G.$fetch("imagesdir","./images"),"icons")],g(G,"[]=",a.to_a(I)),I[b(I.length,1)]);v(A)&&(v(O=m["$[]"]("extension_registry"))?v(v(H=c(l(z,"Extensions"),"Registry")["$==="](O))?H:v(x=c("::","RUBY_ENGINE_JRUBY"))?c(c(c("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](O):x)||(O=c(l(z,"Extensions"),"Registry").$new()):O=v(c("::","Proc")["$==="](W=m["$[]"]("extensions")))?g(l(z,"Extensions"),
"create",[],W.$to_proc()):c(l(z,"Extensions"),"Registry").$new(),this.extensions=O.$activate(this));return this.reader=l(z,"PreprocessorReader").$new(this,d,c(l(z,"Reader"),"Cursor").$new(G["$[]"]("docfile"),this.base_dir),k(["normalize"],{normalize:!0}))},D.$$arity=-1);a.def(d,"$parse",C=function(a){var b,d,f,h=e,m=e;null==a&&(a=e);if(v(this.parsed))return this;h=this;v(a)&&(this.reader=l(z,"PreprocessorReader").$new(h,a,c(l(z,"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),
k(["normalize"],{normalize:!0})));v(v(b=m=v(this.parent_document)?e:this.extensions)?m["$preprocessors?"]():b)&&g(m.$preprocessors(),"each",[],(d=function(a){var b=d.$$s||this,c;null==b.reader&&(b.reader=e);null==a&&(a=e);return b.reader=v(c=a.$process_method()["$[]"](h,b.reader))?c:b.reader},d.$$s=this,d.$$arity=1,d));l(z,"Parser").$parse(this.reader,h,k(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));this.$restore_attributes();v(v(b=m)?m["$tree_processors?"]():b)&&g(m.$tree_processors(),
"each",[],(f=function(a){var b,c,d=e;null==a&&(a=e);return v(v(b=v(c=d=a.$process_method()["$[]"](h))?l(z,"Document")["$==="](d):c)?d["$!="](h):b)?h=d:e},f.$$s=this,f.$$arity=1,f));this.parsed=!0;return h},C.$$arity=-1);a.def(d,"$counter",r=function(c,d){var k,l=e,h=e,m=e;null==d&&(d=e);if(v(this.parent_document))return this.parent_document.$counter(c,d);m=v(v(k=l=(h=this.attributes["$[]"](c))["$nil_or_empty?"]()["$!"]())?this.counters["$key?"](c):k)?[c,(m=[c,this.$nextval(h)],g(this.counters,"[]=",
a.to_a(m)),m[b(m.length,1)])]:v(d)?[c,(m=[c,d["$=="](d.$to_i().$to_s())?d.$to_i():d],g(this.counters,"[]=",a.to_a(m)),m[b(m.length,1)])]:[c,(m=[c,this.$nextval(v(l)?h:0)],g(this.counters,"[]=",a.to_a(m)),m[b(m.length,1)])];g(this.attributes,"[]=",a.to_a(m));return m[b(m.length,1)]},r.$$arity=-2);a.def(d,"$increment_and_store_counter",A=function(a,b){return l(z,"AttributeEntry").$new(a,this.$counter(a)).$save_to(b.$attributes()).$value()},A.$$arity=2);a.alias(d,"counter_increment","increment_and_store_counter");
a.def(d,"$nextval",B=function(a){var b=e;if(v(c("::","Integer")["$==="](a)))return t(a,1);b=a.$to_i();return v(b.$to_s()["$!="](a.$to_s()))?t(a["$[]"](0).$ord(),1).$chr():t(b,1)},B.$$arity=1);a.def(d,"$register",F=function(c,d){var k,l,h=this,m=e,q=e,n=e,u=e,p=e,H=e,z=e;return function(){m=c;if("ids"["$==="](m))return l=d,k=a.to_ary(l),q=null==k[0]?e:k[0],n=null==k[1]?e:k[1],l,u=h.catalog["$[]"]("ids"),v(k=u["$[]"](q))?k:(p=[q,v(l=n)?l:t(t("[",q),"]")],g(u,"[]=",a.to_a(p)),p[b(p.length,1)]);if("refs"["$==="](m)){l=
d;k=a.to_ary(l);q=null==k[0]?e:k[0];H=null==k[1]?e:k[1];n=null==k[2]?e:k[2];l;if(v((z=h.catalog["$[]"]("refs"))["$key?"](q)))return e;p=[q,v(k=n)?k:t(t("[",q),"]")];g(h.catalog["$[]"]("ids"),"[]=",a.to_a(p));p[b(p.length,1)];p=[q,H];g(z,"[]=",a.to_a(p));return p[b(p.length,1)]}return"footnotes"["$==="](m)||"indexterms"["$==="](m)?h.catalog["$[]"](c)["$<<"](d):v(h.options["$[]"]("catalog_assets"))?h.catalog["$[]"](c)["$<<"](d):e}()},F.$$arity=2);a.def(d,"$footnotes?",L=function(){return v(this.catalog["$[]"]("footnotes")["$empty?"]())?
!1:!0},L.$$arity=0);a.def(d,"$footnotes",S=function(){return this.catalog["$[]"]("footnotes")},S.$$arity=0);a.def(d,"$nested?",W=function(){return v(this.parent_document)?!0:!1},W.$$arity=0);a.def(d,"$embedded?",O=function(){return this.attributes["$key?"]("embedded")},O.$$arity=0);a.def(d,"$extensions?",X=function(){return v(this.extensions)?!0:!1},X.$$arity=0);a.def(d,"$source",N=function(){return v(this.reader)?this.reader.$source():e},N.$$arity=0);a.def(d,"$source_lines",ea=function(){return v(this.reader)?
this.reader.$source_lines():e},ea.$$arity=0);a.def(d,"$basebackend?",pa=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},pa.$$arity=1);a.def(d,"$title",ga=function(){return this.attributes["$[]"]("title")},ga.$$arity=0);a.def(d,"$title=",P=function(c){var d=e,k=e;v(d=this.header)||(k=["header"],g(d=this.header=l(z,"Section").$new(this,0,!1),"sectname=",a.to_a(k)),k[b(k.length,1)]);k=[c];g(d,"title=",a.to_a(k));return k[b(k.length,1)]},P.$$arity=1);a.def(d,"$doctitle",U=function(a){var b,
c=e,d=e,f=e;null==a&&(a=k([],{}));if(v((c=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))c=this.$title();else if(v(d=this.$first_section()))c=d.$title();else if(!v(v(b=a["$[]"]("use_fallback"))?c=this.attributes["$[]"]("untitled-label"):b))return e;return v(f=a["$[]"]("partition"))?l(z,"Title").$new(c,a.$merge(k(["separator"],{separator:f["$=="](!0)?this.attributes["$[]"]("title-separator"):f}))):v(v(b=a["$[]"]("sanitize"))?c["$include?"]("<"):b)?c.$gsub(l(z,"XmlSanitizeRx"),"").$squeeze(" ").$strip():
c},U.$$arity=-1);a.alias(d,"name","doctitle");a.def(d,"$author",ia=function(){return this.attributes["$[]"]("author")},ia.$$arity=0);a.def(d,"$revdate",V=function(){return this.attributes["$[]"]("revdate")},V.$$arity=0);a.def(d,"$notitle",ha=function(){var a;return v(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},ha.$$arity=0);a.def(d,"$noheader",Z=function(){return this.attributes["$key?"]("noheader")},Z.$$arity=0);a.def(d,"$nofooter",qa=function(){return this.attributes["$key?"]("nofooter")},
qa.$$arity=0);a.def(d,"$first_section",ma=function(){var a,b;return v(a=this.header)?a:g(this.blocks,"find",[],(b=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},ma.$$arity=0);a.def(d,"$has_header?",fa=function(){return v(this.header)?!0:!1},fa.$$arity=0);a.alias(d,"header?","has_header?");a.def(d,"$<<",ka=function(b){var c=ka.$$p,d=e,f=e,k=e;c&&(ka.$$p=null);f=0;k=arguments.length;for(d=Array(k);f<k;f++)d[f]=arguments[f];b.$context()["$=="]("section")&&
this.$enumerate_section(b);return g(this,a.find_super_dispatcher(this,"<<",ka,!1),d,c)},ka.$$arity=1);a.def(d,"$finalize_header",Ea=function(c,d){var k=e;null==d&&(d=!0);this.$clear_playback_attributes(c);this.$save_attributes();v(d)||(k=["invalid-header",!0],g(c,"[]=",a.to_a(k)),k[b(k.length,1)]);return c},Ea.$$arity=-2);a.def(d,"$save_attributes",Y=function(){var c,d,k,h=e,m=e,q=e,t=m=e,n=e,u=e,p=e,u=t=e;(h=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(v(v(c=this["$attribute_locked?"]("toc"))?
c:this.attributes_modified["$include?"]("toc"))||(m=["toc",""],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]),v(v(c=this["$attribute_locked?"]("sectnums"))?c:this.attributes_modified["$include?"]("sectnums"))||(m=["sectnums",""],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]));v(v(c=h["$key?"]("doctitle"))?c:(q=this.$doctitle())["$!"]())||(m=["doctitle",q],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]);v(this.id)||(this.id=h["$[]"]("css-signature"));m=v(t=v(h.$delete("toc2"))?"left":h["$[]"]("toc"))?v(v(c=n=h.$fetch("toc-placement",
"macro"))?n["$!="]("auto"):c)?n:h["$[]"]("toc-position"):e;v(v(c=t)?v(d=t["$empty?"]()["$!"]())?d:m["$nil_or_empty?"]()["$!"]():c)&&(u="left",p="toc2",t=v(m["$nil_or_empty?"]()["$!"]())?m:v(t["$empty?"]()["$!"]())?t:u,m=["toc",""],g(h,"[]=",a.to_a(m)),m[b(m.length,1)],m=["toc-placement","auto"],g(h,"[]=",a.to_a(m)),m[b(m.length,1)],u=t,"left"["$==="](u)||"<"["$==="](u)||"&lt;"["$==="](u)?(m=["toc-position","left"],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]):"right"["$==="](u)||">"["$==="](u)||"&gt;"["$==="](u)?
(m=["toc-position","right"],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]):"top"["$==="](u)||"^"["$==="](u)?(m=["toc-position","top"],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]):"bottom"["$==="](u)||"v"["$==="](u)?(m=["toc-position","bottom"],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]):("preamble"["$==="](u)||"macro"["$==="](u)?(m=["toc-position","content"],g(h,"[]=",a.to_a(m)),m[b(m.length,1)],m=["toc-placement",t],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]):h.$delete("toc-position"),p=e),v(p)&&(v(c=h["$[]"]("toc-class"))?
c:(m=["toc-class",p],g(h,"[]=",a.to_a(m)),m[b(m.length,1)])));v(this.compat_mode=h["$key?"]("compat-mode"))&&v(h["$key?"]("language"))&&(m=["source-language",h["$[]"]("language")],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]);this.outfilesuffix=h["$[]"]("outfilesuffix");this.header_attributes=h.$dup();return v(this.parent_document)?e:g(l(z,"FLEXIBLE_ATTRIBUTES"),"each",[],(k=function(a){var b=k.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=e);null==a&&(a=e);return v(v(c=b.attribute_overrides["$key?"](a))?
b.attribute_overrides["$[]"](a):c)?b.attribute_overrides.$delete(a):e},k.$$s=this,k.$$arity=1,k))},Y.$$arity=0);a.def(d,"$restore_attributes",la=function(){v(this.parent_document)||this.callouts.$rewind();return this.attributes=this.header_attributes},la.$$arity=0);a.def(d,"$clear_playback_attributes",na=function(a){return a.$delete("attribute_entries")},na.$$arity=1);a.def(d,"$playback_attributes",wa=function(c){var d;return v(c["$key?"]("attribute_entries"))?g(c["$[]"]("attribute_entries"),"each",
[],(d=function(c){var k=d.$$s||this,h=e,l=e;null==k.attributes&&(k.attributes=e);null==c&&(c=e);h=c.$name();if(v(c.$negate()))return k.attributes.$delete(h),h["$=="]("compat-mode")?k.compat_mode=!1:e;l=[h,c.$value()];g(k.attributes,"[]=",a.to_a(l));l[b(l.length,1)];return h["$=="]("compat-mode")?k.compat_mode=!0:e},d.$$s=this,d.$$arity=1,d)):e},wa.$$arity=1);a.def(d,"$set_attribute",ta=function(c,d){var k=e,h=e,h=e;null==d&&(d="");if(v(this["$attribute_locked?"](c)))return!1;k=v(this.max_attribute_value_size)?
this.$apply_attribute_value_subs(d).$limit_bytesize(this.max_attribute_value_size):this.$apply_attribute_value_subs(d);h=c;"backend"["$==="](h)?this.$update_backend_attributes(k,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](h)?this.$update_doctype_attributes(k):(h=[c,k],g(this.attributes,"[]=",a.to_a(h)),h[b(h.length,1)]);this.attributes_modified["$<<"](c);return k},ta.$$arity=-2);a.def(d,"$delete_attribute",Ca=function(a){if(v(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);
this.attributes_modified["$<<"](a);return!0},Ca.$$arity=1);a.def(d,"$attribute_locked?",ya=function(a){return this.attribute_overrides["$key?"](a)},ya.$$arity=1);a.def(d,"$apply_attribute_value_subs",Aa=function(a){var b;return v(l(z,"AttributeEntryPassMacroRx")["$=~"](a))?v((b=x["~"])===e?e:b["$[]"](1))?this.$apply_subs((b=x["~"])===e?e:b["$[]"](2),this.$resolve_pass_subs((b=x["~"])===e?e:b["$[]"](1))):(b=x["~"])===e?e:b["$[]"](2):this.$apply_header_subs(a)},Aa.$$arity=1);a.def(d,"$update_backend_attributes",
xa=function(d,k){var h,m,t=e,n=e,u=e,p=e,H=e,w=e,x=e,D=e,C=n=e,n=e;null==k&&(k=e);return v(v(h=k)?h:v(m=d)?d["$!="](this.backend):m)?(h=[this.backend,(t=this.attributes)["$[]"]("basebackend"),this.doctype],n=h[0],u=h[1],p=h[2],h,v(d["$start_with?"]("xhtml"))?(H=["htmlsyntax","xml"],g(t,"[]=",a.to_a(H)),H[b(H.length,1)],d=d["$[]"](q(1,-1,!1))):v(d["$start_with?"]("html"))&&!t["$[]"]("htmlsyntax")["$=="]("xml")&&(H=["htmlsyntax","html"],g(t,"[]=",a.to_a(H)),H[b(H.length,1)]),v(w=l(z,"BACKEND_ALIASES")["$[]"](d))&&
(d=w),v(p)?(v(n)&&(t.$delete("backend-"+n),t.$delete("backend-"+n+"-doctype-"+p)),H=["backend-"+d+"-doctype-"+p,""],g(t,"[]=",a.to_a(H)),H[b(H.length,1)],H=["doctype-"+p,""],g(t,"[]=",a.to_a(H)),H[b(H.length,1)]):v(n)&&t.$delete("backend-"+n),H=["backend-"+d,""],g(t,"[]=",a.to_a(H)),H[b(H.length,1)],this.backend=(H=["backend",d],g(t,"[]=",a.to_a(H)),H[b(H.length,1)]),v(c(l(z,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(x=this.converter.$basebackend(),v(this["$attribute_locked?"]("outfilesuffix"))||
(H=["outfilesuffix",this.converter.$outfilesuffix()],g(t,"[]=",a.to_a(H)),H[b(H.length,1)]),D=this.converter.$filetype()):v(this.converter)?(x=d.$sub(l(z,"TrailingDigitsRx"),""),v(n=l(z,"DEFAULT_EXTENSIONS")["$[]"](x))?D=n["$[]"](q(1,-1,!1)):(h=[".html","html","html"],n=h[0],x=h[1],D=h[2],h),v(this["$attribute_locked?"]("outfilesuffix"))||(H=["outfilesuffix",n],g(t,"[]=",a.to_a(H)),H[b(H.length,1)])):this.$raise(c("::","NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+
d+"'. Processing aborted."),v(C=t["$[]"]("filetype"))&&t.$delete("filetype-"+C),H=["filetype",D],g(t,"[]=",a.to_a(H)),H[b(H.length,1)],H=["filetype-"+D,""],g(t,"[]=",a.to_a(H)),H[b(H.length,1)],v(n=l(z,"DEFAULT_PAGE_WIDTHS")["$[]"](x))?(H=["pagewidth",n],g(t,"[]=",a.to_a(H)),H[b(H.length,1)]):t.$delete("pagewidth"),v(x["$!="](u))&&(v(p)?(v(u)&&(t.$delete("basebackend-"+u),t.$delete("basebackend-"+u+"-doctype-"+p)),H=["basebackend-"+x+"-doctype-"+p,""],g(t,"[]=",a.to_a(H)),H[b(H.length,1)]):v(u)&&
t.$delete("basebackend-"+u),H=["basebackend-"+x,""],g(t,"[]=",a.to_a(H)),H[b(H.length,1)],H=["basebackend",x],g(t,"[]=",a.to_a(H)),H[b(H.length,1)]),d):e},xa.$$arity=-2);a.def(d,"$update_doctype_attributes",Da=function(c){var d,k=e,h=e,l=e,m=e,h=e;return v(v(d=c)?c["$!="](this.doctype):d)?(d=[this.backend,(k=this.attributes)["$[]"]("basebackend"),this.doctype],h=d[0],l=d[1],m=d[2],d,v(m)?(k.$delete("doctype-"+m),v(h)&&(k.$delete("backend-"+h+"-doctype-"+m),h=["backend-"+h+"-doctype-"+c,""],g(k,"[]=",
a.to_a(h)),h[b(h.length,1)]),v(l)&&(k.$delete("basebackend-"+l+"-doctype-"+m),h=["basebackend-"+l+"-doctype-"+c,""],g(k,"[]=",a.to_a(h)),h[b(h.length,1)])):(v(h)&&(h=["backend-"+h+"-doctype-"+c,""],g(k,"[]=",a.to_a(h)),h[b(h.length,1)]),v(l)&&(h=["basebackend-"+l+"-doctype-"+c,""],g(k,"[]=",a.to_a(h)),h[b(h.length,1)])),h=["doctype-"+c,""],g(k,"[]=",a.to_a(h)),h[b(h.length,1)],this.doctype=(h=["doctype",c],g(k,"[]=",a.to_a(h)),h[b(h.length,1)])):e},Da.$$arity=1);a.def(d,"$create_converter",Fa=function(){var d=
this,h=e,m=e,q=e,t=e,n=e,u=e,h=k([],{}),m=["htmlsyntax",d.attributes["$[]"]("htmlsyntax")];g(h,"[]=",a.to_a(m));m[b(m.length,1)];q=function(){return v(t=d.options["$[]"]("template_dir"))?(m=["template_dirs",[t]],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]):v(q=d.options["$[]"]("template_dirs"))?(m=["template_dirs",q],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]):e}();v(q)&&(m=["template_cache",d.options.$fetch("template_cache",!0)],g(h,"[]=",a.to_a(m)),m[b(m.length,1)],m=["template_engine",d.options["$[]"]("template_engine")],
g(h,"[]=",a.to_a(m)),m[b(m.length,1)],m=["template_engine_options",d.options["$[]"]("template_engine_options")],g(h,"[]=",a.to_a(m)),m[b(m.length,1)],m=["eruby",d.options["$[]"]("eruby")],g(h,"[]=",a.to_a(m)),m[b(m.length,1)],m=["safe",d.safe],g(h,"[]=",a.to_a(m)),m[b(m.length,1)]);u=v(n=d.options["$[]"]("converter"))?c(l(z,"Converter"),"Factory").$new(c("::","Hash")["$[]"](d.$backend(),n)):c(l(z,"Converter"),"Factory").$default(!1);return u.$create(d.$backend(),h)},Fa.$$arity=0);a.def(d,"$convert",
La=function(d){var m,q,t=e,n=e,u=e,H=e,p=e;null==d&&(d=k([],{}));v(this.parsed)||this.$parse();v(v(m=h(this.safe,c(l(z,"SafeMode"),"SERVER")))?m:d["$empty?"]())||(v((t=["outfile",d["$[]"]("outfile")],g(this.attributes,"[]=",a.to_a(t)),t[b(t.length,1)]))||this.attributes.$delete("outfile"),v((t=["outdir",d["$[]"]("outdir")],g(this.attributes,"[]=",a.to_a(t)),t[b(t.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?v(n=this.blocks["$[]"](0))&&(v(v(m=n.$content_model()["$=="]("compound"))?
m:n.$content_model()["$=="]("empty"))?this.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):u=n.$content()):(H=v(v(d["$key?"]("header_footer"))?d["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?"document":"embedded",u=this.converter.$convert(this,H));!v(this.parent_document)&&v(v(m=p=this.extensions)?p["$postprocessors?"]():m)&&g(p.$postprocessors(),"each",[],(q=function(a){var b=q.$$s||this;null==a&&(a=
e);return u=a.$process_method()["$[]"](b,u)},q.$$s=this,q.$$arity=1,q));return u},La.$$arity=-1);a.alias(d,"render","convert");a.def(d,"$write",Ka=function(a,b){if(v(l(z,"Writer")["$==="](this.converter)))return this.converter.$write(a,b);v(b["$respond_to?"]("write"))?v(a["$nil_or_empty?"]())||(b.$write(a.$chomp()),b.$write(l(z,"LF"))):c("::","IO").$write(b,a);return e},Ka.$$arity=2);a.def(d,"$content",Ha=function(){var b=Ha.$$p,c=e,d=e,f=e;b&&(Ha.$$p=null);d=0;f=arguments.length;for(c=Array(f);d<
f;d++)c[d]=arguments[d];this.attributes.$delete("title");return g(this,a.find_super_dispatcher(this,"content",Ha,!1),c,b)},Ha.$$arity=0);a.def(d,"$docinfo",Ma=function(a,b){var d,f,q,n=e,u=e,H=e,p=e,w=e,x=e,D=e,p=D=e;null==a&&(a="head");null==b&&(b=e);if(v(h(this.$safe(),c(l(z,"SafeMode"),"SECURE"))))return"";n=[];a["$=="]("head")||(u="-"+a);v(b)||(b=this.outfilesuffix);H=v((H=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?v(this.attributes["$key?"]("docinfo2"))?["private","shared"]:v(this.attributes["$key?"]("docinfo1"))?
["shared"]:v(H)?["private"]:e:g(H.$split(","),"map",[],(d=function(a){null==a&&(a=e);return a.$strip()},d.$$s=this,d.$$arity=1,d));if(v(H)){f=["docinfo"+u+b,this.attributes["$[]"]("docinfodir"),this.$resolve_docinfo_subs()];p=f[0];w=f[1];x=f[2];f;if(!v(H["$&"](["shared","shared-"+a])["$empty?"]())&&(D=this.$normalize_system_path(p,w),v(D=this.$read_asset(D,k(["normalize"],{normalize:!0})))))n["$<<"](this.$apply_subs(D,x));if(!v(v(f=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?f:H["$&"](["private",
"private-"+a])["$empty?"]())&&(D=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+p,w),v(p=this.$read_asset(D,k(["normalize"],{normalize:!0})))))n["$<<"](this.$apply_subs(p,x))}v(v(f=this.extensions)?this["$docinfo_processors?"](a):f)&&(n=t(n,g(this.docinfo_processor_extensions["$[]"](a),"map",[],(q=function(a){var b=q.$$s||this;null==a&&(a=e);return a.$process_method()["$[]"](b)},q.$$s=this,q.$$arity=1,q)).$compact()));return m(n,l(z,"LF"))},Ma.$$arity=-1);a.def(d,"$resolve_docinfo_subs",
Ga=function(){return v(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",e,"docinfo"):["attributes"]},Ga.$$arity=0);a.def(d,"$docinfo_processors?",Ia=function(c){var d,k=e;null==c&&(c="head");if(v(this.docinfo_processor_extensions["$key?"](c)))return this.docinfo_processor_extensions["$[]"](c)["$!="](!1);if(v(v(d=this.extensions)?this.document.$extensions()["$docinfo_processors?"](c):d))return(k=[c,this.document.$extensions().$docinfo_processors(c)],
g(this.docinfo_processor_extensions,"[]=",a.to_a(k)),k[b(k.length,1)])["$!"]()["$!"]();k=[c,!1];g(this.docinfo_processor_extensions,"[]=",a.to_a(k));return k[b(k.length,1)]},Ia.$$arity=-1);return(a.def(d,"$to_s",H=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(v(this.header["$!="](e))?this.header.$title():e).$inspect()+", blocks: "+this.blocks.$size()+"}>"},H.$$arity=0),e)&&"to_s"})(D[0],l(D,"AbstractBlock"),D)}(n[0],n)};Opal.modules["asciidoctor/inline"]=
function(a){var b=[],h=a.nil,t=a.const_get_relative,m=a.module,n=a.klass,e=a.send,c=a.truthy,l=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter $attr $== $apply_reftext_subs $reftext".split(" "));return function(b,f){var v=[m(b,"Asciidoctor")].concat(f);(function(b,$super,d){function f(){}b=f=n(b,$super,"Inline",f);var m=b.$$proto;[b].concat(d);var t,v,p,w,x,r,y,z;m.text=m.type=h;b.$attr_reader("text");b.$attr_reader("type");b.$attr_accessor("target");
a.def(b,"$initialize",t=function(b,d,f,g){var m=t.$$p,q=h;null==f&&(f=h);null==g&&(g=l([],{}));m&&(t.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",t,!1),[b,d],null);this.node_name="inline_"+d;this.text=f;this.id=g["$[]"]("id");this.type=g["$[]"]("type");this.target=g["$[]"]("target");return c((q=g["$[]"]("attributes"))["$nil_or_empty?"]())?h:this.$update_attributes(q)},t.$$arity=-3);a.def(b,"$block?",v=function(){return!1},v.$$arity=0);a.def(b,"$inline?",p=function(){return!0},p.$$arity=
0);a.def(b,"$convert",w=function(){return this.$converter().$convert(this)},w.$$arity=0);a.alias(b,"render","convert");a.def(b,"$alt",x=function(){return this.$attr("alt")},x.$$arity=0);a.def(b,"$reftext?",r=function(){var a,b;return c(a=this.text)?c(b=this.type["$=="]("ref"))?b:this.type["$=="]("bibref"):a},r.$$arity=0);a.def(b,"$reftext",y=function(){var a=h;return c(a=this.text)?this.$apply_reftext_subs(a):h},y.$$arity=0);return(a.def(b,"$xreftext",z=function(a){return this.$reftext()},z.$$arity=
-1),h)&&"xreftext"})(v[0],t(v,"AbstractNode"),v)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],h=a.nil,t=a.const_get_relative,m=a.module,n=a.klass,e=a.send,c=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $dup $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(b,d){var f=[m(b,"Asciidoctor")].concat(d);(function(b,
$super,d){function f(){}b=f=n(b,$super,"List",f);var l=b.$$proto;[b].concat(d);var m,t,p,w;l.context=l.document=l.style=h;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.def(b,"$initialize",m=function(b,c){var d=m.$$p,f=h,k=h,l=h;d&&(m.$$p=null);k=0;l=arguments.length;for(f=Array(l);k<l;k++)f[k]=arguments[k];return e(this,a.find_super_dispatcher(this,"initialize",m,!1),f,d)},m.$$arity=2);a.def(b,"$outline?",t=function(){var a;return c(a=this.context["$=="]("ulist"))?
a:this.context["$=="]("olist")},t.$$arity=0);a.def(b,"$convert",p=function(){var b=p.$$p,c=h,d=c=h,f=h;b&&(p.$$p=null);d=0;f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(c=e(this,a.find_super_dispatcher(this,"convert",p,!1),c,b),this.document.$callouts().$next_list(),c):e(this,a.find_super_dispatcher(this,"convert",p,!1),c,b)},p.$$arity=0);a.alias(b,"render","convert");return(a.def(b,"$to_s",w=function(){return"#<"+this.$class()+"@"+this.$object_id()+
" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},w.$$arity=0),h)&&"to_s"})(f[0],t(f,"AbstractBlock"),f);(function(b,$super,d){function f(){}b=f=n(b,$super,"ListItem",f);var l=b.$$proto,m=[b].concat(d),p,w,x,r,y,A,B,z;l.text=l.subs=l.blocks=h;a.alias(b,"list","parent");b.$attr_accessor("marker");a.def(b,"$initialize",p=function(b,c){var d=p.$$p;null==c&&(c=h);d&&(p.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"list_item"],
null);this.text=c;this.level=b.$level();return this.subs=t(m,"NORMAL_SUBS").$dup()},p.$$arity=-2);a.def(b,"$text?",w=function(){return this.text["$nil_or_empty?"]()["$!"]()},w.$$arity=0);a.def(b,"$text",x=function(){return this.$apply_subs(this.text,this.subs)},x.$$arity=0);a.def(b,"$text=",r=function(a){return this.text=a},r.$$arity=1);a.def(b,"$simple?",y=function(){var a,b,d=h;return c(a=this.blocks["$empty?"]())?a:c(b=this.blocks.$size()["$=="](1)?t(m,"List")["$==="](d=this.blocks["$[]"](0)):
this.blocks.$size()["$=="](1))?d["$outline?"]():b},y.$$arity=0);a.def(b,"$compound?",A=function(){return this["$simple?"]()["$!"]()},A.$$arity=0);a.def(b,"$fold_first",B=function(a,b){var d,e,f,k,l,q=h,n=h;null==a&&(a=!1);null==b&&(b=!1);c(c(d=c(e=q=this.blocks["$[]"](0))?t(m,"Block")["$==="](q):e)?c(e=q.$context()["$=="]("paragraph")?a["$!"]():q.$context()["$=="]("paragraph"))?e:c(f=c(k=c(l=b)?l:a["$!"]())?q.$context()["$=="]("literal"):k)?q["$option?"]("listparagraph"):f:d)&&(n=this.$blocks().$shift(),
c(this.text["$nil_or_empty?"]())||n.$lines().$unshift(this.text),this.text=n.$source());return h},B.$$arity=-1);return(a.def(b,"$to_s",z=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(c(a=this.blocks)?a:[]).$size()+"}>"},z.$$arity=0),h)&&"to_s"})(f[0],t(f,"AbstractBlock"),f)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,c){return"number"===typeof a&&"number"===
typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function t(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e=[],c=a.nil,l=a.const_get_qualified,d=a.const_get_relative,p=a.module,v=a.klass,g=a.send,k=a.truthy,q=a.hash2,w=a.hash,u=a.gvars,x=a.range;a.add_stubs("$new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_doctitle? $attributes $key? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $attribute_locked? $set_attr $delete $source_location= $header $[]= $id $parse_style_attribute $parse_header_metadata $== $doctype $parse_manpage_header $=~ $sub_attributes $downcase $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $* $read_lines_until $match $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $sectname $+ $to_i $> $line_info $include? $size $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $parse_block_metadata_line $extensions $block_macros? $path $lineno $read_line $=== $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $lstrip $keys $chr $length $end_with? $parse_attributes $attribute_missing $clear $register $tr $basename $assign_caption $registered_for_block_macro? $config $update $process_method $replace $peek_line $next_list_item $callout_ids $callouts $items $next_list $next_item_list $each $catalog_inline_biblio_anchor $instance_variable_get $marker $find $next_description_list $underline_style_section_titles $is_section_title? $atx_section_title? $generate_id $title $level= $read_paragraph_lines $adjust_indentation! $set_option $map! $split $pop $build_block $chop $catalog_inline_anchors $rekey $index $slice $strip $< $next_table $concat $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $gsub $reader $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $casecmp $sectname= $special= $numbered= $special $numbered $update_attributes $peek_lines $setext_section_title? $abs $line_length $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $map $compact $Array $squeeze $to_a $process_attribute_entry $skip_comment_lines $advance $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $resolve_ordered_list_marker $ord $roman_numeral_to_int $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $post_match $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $join $each_char $call $sub! $gsub! $% $begin".split(" "));
return function(e,r){var A=[p(e,"Asciidoctor")].concat(r);(function(e,$super,p){function z(){}e=z=v(e,$super,"Parser",z);var D=[e].concat(p),r,y,A,B,F,L,S,W,O,X,N,ea,da,ga,P,U,aa,V,ha,Z,qa,ma,fa,ka,Ba,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,La,Ka,Ha,Ma,Ga,Ia,H,ua,za,Na;a.const_set(D[0],"BlockMatchData",d(D,"Struct").$new("context","masq","tip","terminator"));a.const_set(D[0],"TabRx",/\t/);a.const_set(D[0],"TabIndentRx",/^\t+/);a.const_set(D[0],"StartOfBlockProc",g(e,"lambda",[],(r=function(a){var b=r.$$s||
this,e,f;null==a&&(a=c);return k(e=k(f=a["$start_with?"]("["))?d(D,"BlockAttributeLineRx")["$match?"](a):f)?e:b["$is_delimited_block?"](a)},r.$$s=e,r.$$arity=1,r)));a.const_set(D[0],"StartOfListProc",g(e,"lambda",[],(y=function(a){null==a&&(a=c);return d(D,"AnyListRx")["$match?"](a)},y.$$s=e,y.$$arity=1,y)));a.const_set(D[0],"StartOfBlockOrListProc",g(e,"lambda",[],(A=function(a){var b=A.$$s||this,e,f,g;null==a&&(a=c);return k(e=k(f=b["$is_delimited_block?"](a))?f:k(g=a["$start_with?"]("["))?d(D,
"BlockAttributeLineRx")["$match?"](a):g)?e:d(D,"AnyListRx")["$match?"](a)},A.$$s=e,A.$$arity=1,A)));a.const_set(D[0],"NoOp",c);a.const_set(D[0],"TableCellHorzAlignments",q(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(D[0],"TableCellVertAlignments",q(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(D[0],"TableCellStyles",q("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.def(e,"$initialize",
B=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},B.$$arity=0);a.defs(e,"$parse",F=function(b,d,e){var f,g=f=c;null==e&&(e=q([],{}));f=this.$parse_document_header(b,d);if(!k(e["$[]"]("header_only")))for(;k(b["$has_more_lines?"]());)if(e=this.$next_section(b,d,f),f=a.to_ary(e),g=null==f[0]?c:f[0],f=null==f[1]?c:f[1],e,k(g))d["$<<"](g);return d},F.$$arity=-3);a.defs(e,"$parse_document_header",L=function(d,e){var h,l,m=c,q=c,t=c,n=c,u=l=c,p=c,H=
q=u=c;l=l=c;m=this.$parse_block_metadata_lines(d,e);if(k(k(h=q=this["$is_next_line_doctitle?"](d,m,e.$attributes()["$[]"]("leveloffset")))?m["$key?"]("title"):h))return e.$finalize_header(m,!1);t=c;k((n=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(l=[t=n],g(e,"title=",a.to_a(l)),l[b(l.length,1)]);u=c;k(q)&&(k(e.$sourcemap())&&(p=d.$cursor()),l=this.$parse_section_title(d,e),h=a.to_ary(l),e["$id="](null==h[0]?c:h[0]),u=null==h[2]?c:h[2],q=null==h[4]?c:h[4],l,k(t)||(l=[t=u],g(e,"title=",
a.to_a(l)),l[b(l.length,1)]),k(k(h=q)?h:e["$attribute_locked?"]("compat-mode"))||e.$set_attr("compat-mode"),k(H=m.$delete("separator"))&&!k(e["$attribute_locked?"]("title-separator"))&&e.$set_attr("title-separator",H),k(p)&&(l=[p],g(e.$header(),"source_location=",a.to_a(l)),l[b(l.length,1)]),l=["doctitle",u],g(e.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)],k(e.$id())?(m.$delete(1),m.$delete("id")):(k(l=m.$delete(1))&&(l=w(1,l),this.$parse_style_attribute(l,d),k(l["$key?"]("id"))&&(l=["id",l["$[]"]("id")],
g(m,"[]=",a.to_a(l)),l[b(l.length,1)])),l=[m.$delete("id")],g(e,"id=",a.to_a(l)),l[b(l.length,1)]),this.$parse_header_metadata(d,e));k(k(h=(n=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?h:n["$=="](u))||(l=[t=n],g(e,"title=",a.to_a(l)),l[b(l.length,1)]);k(t)&&(l=["doctitle",t],g(e.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)]);e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(d,e);return e.$finalize_header(m)},L.$$arity=2);a.defs(e,"$parse_manpage_header",S=function(e,l){var m,
t=c,n=t=t=c;k(d(D,"ManpageTitleVolnumRx")["$=~"](l.$attributes()["$[]"]("doctitle")))?(t=["mantitle",l.$sub_attributes(((m=u["~"])===c?c:m["$[]"](1)).$downcase())],g(l.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["manvolnum",(m=u["~"])===c?c:m["$[]"](2)]):(this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": malformed manpage title"),t=["mantitle",l.$attributes()["$[]"]("doctitle")],g(l.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["manvolnum","1"]);g(l.$attributes(),"[]=",a.to_a(t));
t[b(t.length,1)];e.$skip_blank_lines();return k(this["$is_next_line_section?"](e,q([],{})))?(t=this.$initialize_section(e,l,q([],{})),t.$level()["$=="](1)?(t=h(e.$read_lines_until(q(["break_on_blank_lines"],{break_on_blank_lines:!0}))," "),k(n=d(D,"ManpageNamePurposeRx").$match(t))?(t=["manname",l.$sub_attributes(n["$[]"](1))],g(l.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["manpurpose",n["$[]"](2)],g(l.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],l.$backend()["$=="]("manpage")?(t=["docname",
l.$attributes()["$[]"]("manname")],g(l.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)],t=["outfilesuffix","."+l.$attributes()["$[]"]("manvolnum")],g(l.$attributes(),"[]=",a.to_a(t)),t[b(t.length,1)]):c):this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": name section title must be at level 1")):this.$warn("asciidoctor: ERROR: "+e.$prev_line_info()+": name section expected")},S.$$arity=2);a.defs(e,"$next_section",
W=function(e,l,n){var u,p,H,v=c,w=c,z=c,x=c,r=c,C=c,y=c,A=c,B=c,J=c,G=B=c,Z=G=y=G=c,w=c;null==n&&(n=q([],{}));v=w=z=!1;k(k(u=(p=l.$context()["$=="]("document"))?l.$blocks()["$empty?"]():l.$context()["$=="]("document"))?k(p=k(H=x=l["$has_header?"]())?H:n.$delete("invalid-header"))?p:this["$is_next_line_section?"](e,n)["$!"]():u)?(r=(C=l).$doctype(),k(k(u=x)?u:(p=r["$=="]("book"))?n["$[]"](1)["$!="]("abstract"):r["$=="]("book"))&&(v=w=d(D,"Block").$new(l,"preamble",q(["content_model"],{content_model:"compound"})),
k((u=r["$=="]("book"))?l["$attr?"]("preface-title"):r["$=="]("book"))&&(y=[l.$attr("preface-title")],g(v,"title=",a.to_a(y)),y[b(y.length,1)]),l["$<<"](v)),A=l,B=0,J=k(l.$attributes()["$key?"]("fragment"))?c:r["$=="]("book")?[0,1]:[1]):(r=(C=l.$document()).$doctype(),A=this.$initialize_section(e,l,n),n=k(B=n["$[]"]("title"))?q(["title"],{title:B}):q([],{}),z=A.$sectname()["$=="]("part"),J=[t(B=A.$level(),1)]);for(e.$skip_blank_lines();k(e["$has_more_lines?"]());){this.$parse_block_metadata_lines(e,
C,n);if(k(G=this["$is_next_line_section?"](e,n)))if(k(C["$attr?"]("leveloffset"))&&(G=t(G,C.$attr("leveloffset").$to_i())),k(k(p=m(G,B))?p:G["$=="](0)?A.$context()["$=="]("document"):G["$=="](0)))k(G["$=="](0)?r["$!="]("book"):G["$=="](0))?this.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections"):k(k(p=J)?J["$include?"](G)["$!"]():p)&&this.$warn("asciidoctor: WARNING: "+e.$line_info()+": section title out of sequence: expected "+(k(m(J.$size(),1))?"levels":
"level")+" "+h(J," or ")+", got level "+G),H=this.$next_section(e,A,n),p=a.to_ary(H),G=null==p[0]?c:p[0],n=null==p[1]?c:p[1],H,A["$<<"](G);else{k((p=G["$=="](0))?r["$!="]("book"):G["$=="](0))&&this.$warn("asciidoctor: ERROR: "+e.$line_info()+": only book doctypes can contain level 0 sections");break}else y=e.$line_info(),k(G=this.$next_block(e,k(p=w)?p:A,n,q(["parse_metadata"],{parse_metadata:!1})))&&(k(z)&&(k(A["$blocks?"]()["$!"]())?k(G.$style()["$!="]("partintro"))&&(G.$context()["$=="]("paragraph")?
(y=["open"],g(G,"context=",a.to_a(y)),y[b(y.length,1)],y=["partintro"],g(G,"style=",a.to_a(y)),y[b(y.length,1)]):(w=d(D,"Block").$new(A,"open",q(["content_model"],{content_model:"compound"})),y=["partintro"],g(w,"style=",a.to_a(y)),y[b(y.length,1)],y=[w],g(G,"parent=",a.to_a(y)),y[b(y.length,1)],A["$<<"](w))):A.$blocks().$size()["$=="](1)&&(Z=A.$blocks()["$[]"](0),k(k(p=w["$!"]())?Z.$content_model()["$=="]("compound"):p)?this.$warn("asciidoctor: ERROR: "+y+": illegal block content outside of partintro block"):
k(Z.$content_model()["$!="]("compound"))&&(w=d(D,"Block").$new(A,"open",q(["content_model"],{content_model:"compound"})),y=["partintro"],g(w,"style=",a.to_a(y)),y[b(y.length,1)],A.$blocks().$shift(),Z.$style()["$=="]("partintro")&&(y=["paragraph"],g(Z,"context=",a.to_a(y)),y[b(y.length,1)],y=[c],g(Z,"style=",a.to_a(y)),y[b(y.length,1)]),y=[w],g(Z,"parent=",a.to_a(y)),y[b(y.length,1)],w["$<<"](Z),y=[w],g(G,"parent=",a.to_a(y)),y[b(y.length,1)],A["$<<"](w)))),(k(p=w)?p:A)["$<<"](G),n=q([],{}));if(k(p=
e.$skip_blank_lines()))p;else break}if(k(z))k(k(u=A["$blocks?"]())?A.$blocks()["$[]"](-1).$context()["$=="]("section"):u)||this.$warn("asciidoctor: ERROR: "+e.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(k(v))if(k(v["$blocks?"]())){if(k(k(u=k(p=d(D,"Compliance").$unwrap_standalone_preamble())?C.$blocks().$size()["$=="](1):p)?r["$!="]("book"):u))for(C.$blocks().$shift();k(w=v.$blocks().$shift());)y=[C],g(w,"parent=",a.to_a(y)),y[b(y.length,
1)],C["$<<"](w)}else C.$blocks().$shift();return[k(A["$!="](l))?A:c,n.$dup()]},W.$$arity=-3);a.defs(e,"$next_block",O=function(e,l,p,H){try{var v,w,z,y,r,A,B,G,J,Z,F=c,ua=c,O=c,W=c,ba=c,qa=c,ea=c,X=c,S=c,N=c,oa=c,L=c,R=c,za=c,Q=c,P=c,ga=c,K=c,Na=c,ma=c,V=c,ka=c,da=c,fa=c,pa=c,aa=c,U=c,va=c,ha=c,ia=c,Ka=c,La=c,sa=c,ya=c,Ha=c,wa=c,la=c,Ba=c,Aa=c,na=c,Ma=c,Ia=c,Y=c,Ga=c,xa=c,ta=c,Da=c,Fa=c,Ca=c,sb=c,tb=c,ub=c,vb=c,fb=c;null==p&&(p=q([],{}));null==H&&(H=q([],{}));if(!k(F=e.$skip_blank_lines()))return c;
k(k(v=ua=H["$[]"]("text"))?m(F,0):v)&&(H.$delete("text"),ua=!1);O=l.$document();if(k(H.$fetch("parse_metadata",!0)))for(;k(this.$parse_block_metadata_line(e,O,p,H));)e.$shift(),k(w=e.$skip_blank_lines())?w:a.ret(c);k(W=O.$extensions())&&(v=[W["$blocks?"](),W["$block_macros?"]()],ba=v[0],qa=v[1],v);k(O.$sourcemap())&&(ea=e.$cursor());v=[e.$path(),e.$lineno(),e.$read_line(),d(D,"ListItem")["$==="](l)];X=v[0];S=v[1];N=v[2];oa=v[3];v;L=R=za=Q=c;P=k(p["$[]"](1))?this.$parse_style_attribute(p,e):c;k(ga=
this["$is_delimited_block?"](N,!0))&&(R=za=ga.$context(),Q=ga.$terminator(),k(P["$!"]())?P=(K=["style",R.$to_s()],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]):k(P["$!="](R.$to_s()))&&(k(ga.$masq()["$include?"](P))?R=P.$to_sym():k(k(v=ga.$masq()["$include?"]("admonition"))?d(D,"ADMONITION_STYLES")["$include?"](P):v)?R="admonition":k(k(v=ba)?W["$registered_for_block?"](P,R):v)?R=P.$to_sym():(this.$warn("asciidoctor: WARNING: "+X+": line "+S+": invalid style for "+R+" block: "+P),P=R.$to_s())));if(!k(ga))for(;k(!0);){if(k(k(w=
k(z=P)?d(D,"Compliance").$strict_verbatim_paragraphs():z)?d(D,"VERBATIM_STYLES")["$include?"](P):w)){R=P.$to_sym();e.$unshift_line(N);break}if(k(ua))Na=N["$start_with?"](" ",d(D,"TAB"));else if(ma=d(D,"Compliance").$markdown_syntax(),k(N["$start_with?"](" "))){if(w=[!0," "],Na=w[0],V=w[1],w,k(k(w=k(z=ma)?g(N.$lstrip(),"start_with?",a.to_a(d(D,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):z)?d(D,"MarkdownThematicBreakRx")["$match?"](N):w)){L=d(D,"Block").$new(l,"thematic_break",q(["content_model"],{content_model:"empty"}));
break}}else if(k(N["$start_with?"](d(D,"TAB"))))w=[!0,d(D,"TAB")],Na=w[0],V=w[1],w;else if(w=[!1,N.$chr()],Na=w[0],V=w[1],w,ka=k(ma)?d(D,"HYBRID_LAYOUT_BREAK_CHARS"):d(D,"LAYOUT_BREAK_CHARS"),k(k(w=ka["$key?"](V))?k(ma)?d(D,"ExtLayoutBreakRx")["$match?"](N):(z=N["$=="](h(V,da=N.$length())))?m(da,2):N["$=="](h(V,da=N.$length())):w)){L=d(D,"Block").$new(l,ka["$[]"](V),q(["content_model"],{content_model:"empty"}));break}else if(k(k(w=N["$end_with?"]("]"))?N["$include?"]("::"):w))if(k(k(w=k(z=V["$=="]("i"))?
z:N["$start_with?"]("video:","audio:"))?fa=d(D,"BlockMediaMacroRx").$match(N):w)){w=[fa["$[]"](1).$to_sym(),fa["$[]"](2)];pa=w[0];aa=w[1];w;L=d(D,"Block").$new(l,pa,q(["content_model"],{content_model:"empty"}));U=pa;va="video"["$==="](U)?["poster","width","height"]:"audio"["$==="](U)?[]:["alt","width","height"];L.$parse_attributes(fa["$[]"](3),va,q(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:p}));k(p["$key?"]("style"))&&p.$delete("style");if(k(k(w=aa["$include?"](d(D,"ATTR_REF_HEAD")))?
(aa=L.$sub_attributes(aa,q(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]():w)){if(O.$attributes().$fetch("attribute-missing",d(D,"Compliance").$attribute_missing())["$=="]("skip"))return d(D,"Block").$new(l,"paragraph",q(["content_model","source"],{content_model:"simple",source:[N]}));p.$clear();return c}pa["$=="]("image")&&(L.$document().$register("images",aa),k(w=p["$[]"]("alt"))?w:(K=["alt",k(z=P)?z:(K=["default-alt",d(D,"Helpers").$basename(aa,!0).$tr("_-"," ")],g(p,"[]=",
a.to_a(K)),K[b(K.length,1)])],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),k((ha=p.$delete("scaledwidth"))["$nil_or_empty?"]())||(K=["scaledwidth",k(d(D,"TrailingDigitsRx")["$match?"](ha))?""+ha+"%":ha],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),K=[p.$delete("title")],g(L,"title=",a.to_a(K)),K[b(K.length,1)],L.$assign_caption(p.$delete("caption"),"figure"));K=["target",aa];g(p,"[]=",a.to_a(K));K[b(K.length,1)];break}else if(k(k(w=(z=V["$=="]("t"))?N["$start_with?"]("toc:"):V["$=="]("t"))?fa=d(D,"BlockTocMacroRx").$match(N):
w)){L=d(D,"Block").$new(l,"toc",q(["content_model"],{content_model:"empty"}));L.$parse_attributes(fa["$[]"](1),[],q(["sub_result","into"],{sub_result:!1,into:p}));break}else if(k(k(w=k(z=qa)?fa=d(D,"CustomBlockMacroRx").$match(N):z)?ia=W["$registered_for_block_macro?"](fa["$[]"](1)):w))if(aa=fa["$[]"](2),Ka=fa["$[]"](3),ia.$config()["$[]"]("content_model")["$=="]("attributes")?k(Ka["$empty?"]())||O.$parse_attributes(Ka,k(w=ia.$config()["$[]"]("pos_attrs"))?w:[],q(["sub_input","sub_result","into"],
{sub_input:!0,sub_result:!1,into:p})):(K=["text",Ka],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),k(La=ia.$config()["$[]"]("default_attrs"))&&g(p,"update",[La],(y=function(a,b){null==b&&(b=c);return b},y.$$s=this,y.$$arity=2,y)),k(L=ia.$process_method()["$[]"](l,aa,p))){p.$replace(L.$attributes());break}else return p.$clear(),c;if(k(k(w=k(z=k(r=Na["$!"]())?d(D,"CALLOUT_LIST_HEADS")["$include?"](V=k(A=V)?A:N.$chr()):r)?d(D,"CalloutListSniffRx")["$match?"](N):z)?fa=d(D,"CalloutListRx").$match(N):w)){L=d(D,
"List").$new(l,"colist");K=["style","arabic"];g(p,"[]=",a.to_a(K));K[b(K.length,1)];e.$unshift_line(N);for(sa=1;k(k(z=fa)?z:k(r=e["$has_more_lines?"]())?fa=d(D,"CalloutListRx").$match(e.$peek_line()):r);)ya=e.$lineno(),fa["$[]"](1)["$=="](sa.$to_s())||this.$warn("asciidoctor: WARNING: "+e.$path()+": line "+ya+": callout list item index: expected "+sa+" got "+fa["$[]"](1)),k(Ha=this.$next_list_item(e,L,fa))&&(L["$<<"](Ha),k((wa=O.$callouts().$callout_ids(L.$items().$size()))["$empty?"]())?this.$warn("asciidoctor: WARNING: "+
e.$path()+": line "+ya+": no callouts refer to list item "+L.$items().$size()):(K=["coids",wa],g(Ha.$attributes(),"[]=",a.to_a(K)),K[b(K.length,1)])),sa=t(sa,1),fa=c;O.$callouts().$next_list();break}else if(k(d(D,"UnorderedListRx")["$match?"](N))){e.$unshift_line(N);L=this.$next_item_list(e,"ulist",l);(k(w=P)?w:k(z=d(D,"Section")["$==="](l))?l.$sectname():z)["$=="]("bibliography")&&(k(P)||(K=["style","bibliography"],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),g(L.$items(),"each",[],(B=function(a){var b=
B.$$s||this;null==a&&(a=c);return b.$catalog_inline_biblio_anchor(a.$instance_variable_get("@text"),a,O)},B.$$s=this,B.$$arity=1,B)));break}else if(k(fa=d(D,"OrderedListRx").$match(N))){e.$unshift_line(N);L=this.$next_item_list(e,"olist",l);k(P)||(la=L.$items()["$[]"](0).$marker(),K=k(la["$start_with?"]("."))?["style",(k(w=d(D,"ORDERED_LIST_STYLES")["$[]"](b(la.$length(),1)))?w:"arabic").$to_s()]:["style",(k(w=g(d(D,"ORDERED_LIST_STYLES"),"find",[],(G=function(a){null==a&&(a=c);return d(D,"OrderedListMarkerRxMap")["$[]"](a)["$match?"](la)},
G.$$s=this,G.$$arity=1,G)))?w:"arabic").$to_s()],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]);break}else if(k(fa=d(D,"DescriptionListRx").$match(N))){e.$unshift_line(N);L=this.$next_description_list(e,fa,l);break}else if(k(k(w=k(z=P["$=="]("float"))?z:P["$=="]("discrete"))?k(d(D,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](N,e.$peek_line()):k(z=Na["$!"]())?this["$atx_section_title?"](N):z:w)){e.$unshift_line(N);z=this.$parse_section_title(e,O);w=a.to_ary(z);Ba=null==w[0]?
c:w[0];Aa=null==w[1]?c:w[1];na=null==w[2]?c:w[2];Ma=null==w[3]?c:w[3];z;k(Aa)&&(K=["reftext",Aa],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]);L=d(D,"Block").$new(l,"floating_title",q(["content_model"],{content_model:"empty"}));K=[na];g(L,"title=",a.to_a(K));K[b(K.length,1)];p.$delete("title");K=[k(w=k(z=Ba)?z:p["$[]"]("id"))?w:k(O.$attributes()["$key?"]("sectids"))?d(D,"Section").$generate_id(L.$title(),O):c];g(L,"id=",a.to_a(K));K[b(K.length,1)];K=[Ma];g(L,"level=",a.to_a(K));K[b(K.length,1)];break}else if(k(k(w=
P)?P["$!="]("normal"):w))if(k(d(D,"PARAGRAPH_STYLES")["$include?"](P))){R=P.$to_sym();za="paragraph";e.$unshift_line(N);break}else if(k(d(D,"ADMONITION_STYLES")["$include?"](P))){R="admonition";za="paragraph";e.$unshift_line(N);break}else if(k(k(w=ba)?W["$registered_for_block?"](P,"paragraph"):w)){R=P.$to_sym();za="paragraph";e.$unshift_line(N);break}else this.$warn("asciidoctor: WARNING: "+X+": line "+S+": invalid style for paragraph: "+P),P=c;Ia=(w=F["$=="](0))?oa:F["$=="](0);e.$unshift_line(N);
if(k(k(w=Na)?P["$!"]():w))Y=this.$read_paragraph_lines(e,Ia,q(["skip_line_comments"],{skip_line_comments:ua})),this["$adjust_indentation!"](Y),L=d(D,"Block").$new(l,"literal",q(["content_model","source","attributes"],{content_model:"verbatim",source:Y,attributes:p})),k(oa)&&L.$set_option("listparagraph");else{Y=this.$read_paragraph_lines(e,Ia,q(["skip_line_comments"],{skip_line_comments:!0}));if(k(ua)){if(k(k(w=Na)?P["$=="]("normal"):w))this["$adjust_indentation!"](Y);L=d(D,"Block").$new(l,"paragraph",
q(["content_model","source","attributes"],{content_model:"simple",source:Y,attributes:p}))}else if(k(k(w=k(z=d(D,"ADMONITION_STYLE_HEADS")["$include?"](V))?N["$include?"](":"):z)?d(D,"AdmonitionParagraphRx")["$=~"](N):w))K=[0,(w=u["~"])===c?c:w.$post_match()],g(Y,"[]=",a.to_a(K)),K[b(K.length,1)],K=["name",Ga=(K=["style",(w=u["~"])===c?c:w["$[]"](1)],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]).$downcase()],g(p,"[]=",a.to_a(K)),K[b(K.length,1)],K=["textlabel",k(w=p.$delete("caption"))?w:O.$attributes()["$[]"](""+
Ga+"-caption")],g(p,"[]=",a.to_a(K)),K[b(K.length,1)],L=d(D,"Block").$new(l,"admonition",q(["content_model","source","attributes"],{content_model:"simple",source:Y,attributes:p}));else if(k(k(w=k(z=ma)?V["$=="](">"):z)?N["$start_with?"]("> "):w)){g(Y,"map!",[],(J=function(a){null==a&&(a=c);return a["$=="](">")?a["$[]"](x(1,-1,!1)):k(a["$start_with?"]("> "))?a["$[]"](x(2,-1,!1)):a},J.$$s=this,J.$$arity=1,J));if(k(Y["$[]"](-1)["$start_with?"]("-- ")))for(z=Y.$pop()["$[]"](x(3,-1,!1)).$split(", ",2),
w=a.to_ary(z),xa=null==w[0]?c:w[0],ta=null==w[1]?c:w[1],z,k(xa)&&(K=["attribution",xa],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),k(ta)&&(K=["citetitle",ta],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]);k(Y["$[]"](-1)["$empty?"]());)Y.$pop();K=["style","quote"];g(p,"[]=",a.to_a(K));K[b(K.length,1)];L=this.$build_block("quote","compound",!1,l,d(D,"Reader").$new(Y),p)}else if(k(k(w=k(z=(r=V["$=="]('"'))?m(Y.$size(),1):V["$=="]('"'))?Y["$[]"](-1)["$start_with?"]("-- "):z)?Y["$[]"](-2)["$end_with?"]('"'):w)){K=
[0,N["$[]"](x(1,-1,!1))];g(Y,"[]=",a.to_a(K));K[b(K.length,1)];z=Y.$pop()["$[]"](x(3,-1,!1)).$split(", ",2);w=a.to_ary(z);xa=null==w[0]?c:w[0];ta=null==w[1]?c:w[1];z;k(xa)&&(K=["attribution",xa],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]);k(ta)&&(K=["citetitle",ta],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]);for(;k(Y["$[]"](-1)["$empty?"]());)Y.$pop();K=[-1,Y["$[]"](-1).$chop()];g(Y,"[]=",a.to_a(K));K[b(K.length,1)];K=["style","quote"];g(p,"[]=",a.to_a(K));K[b(K.length,1)];L=d(D,"Block").$new(l,"quote",q(["content_model",
"source","attributes"],{content_model:"simple",source:Y,attributes:p}))}else{if(k(k(w=Na)?P["$=="]("normal"):w))this["$adjust_indentation!"](Y);L=d(D,"Block").$new(l,"paragraph",q(["content_model","source","attributes"],{content_model:"simple",source:Y,attributes:p}))}this.$catalog_inline_anchors(h(Y,d(D,"LF")),L,O)}break}if(!k(L))if(k(k(v=R["$=="]("abstract"))?v:R["$=="]("partintro"))&&(R="open"),U=R,"admonition"["$==="](U))K=["name",Ga=P.$downcase()],g(p,"[]=",a.to_a(K)),K[b(K.length,1)],K=["textlabel",
k(v=p.$delete("caption"))?v:O.$attributes()["$[]"](""+Ga+"-caption")],g(p,"[]=",a.to_a(K)),K[b(K.length,1)],L=this.$build_block(R,"compound",Q,l,e,p);else{if("comment"["$==="](U))return this.$build_block(R,"skip",Q,l,e,p),p.$clear(),c;if("example"["$==="](U))L=this.$build_block(R,"compound",Q,l,e,p);else if("listing"["$==="](U)||"literal"["$==="](U))L=this.$build_block(R,"verbatim",Q,l,e,p);else if("source"["$==="](U))d(D,"AttributeList").$rekey(p,[c,"language","linenums"]),!k(p["$key?"]("language"))&&
k(O.$attributes()["$key?"]("source-language"))&&(K=["language",k(v=O.$attributes()["$[]"]("source-language"))?v:"text"],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),!k(p["$key?"]("linenums"))&&k(k(v=p["$key?"]("linenums-option"))?v:O.$attributes()["$key?"]("source-linenums-option"))&&(K=["linenums",""],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),!k(p["$key?"]("indent"))&&k(O.$attributes()["$key?"]("source-indent"))&&(K=["indent",O.$attributes()["$[]"]("source-indent")],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),
L=this.$build_block("listing","verbatim",Q,l,e,p);else if("fenced_code"["$==="](U))K=["style","source"],g(p,"[]=",a.to_a(K)),K[b(K.length,1)],(da=N.$length())["$=="](3)?Da=c:k(Fa=(Da=N.$slice(3,da)).$index(","))?k(m(Fa,0))?(Da=Da.$slice(0,Fa).$strip(),k(n(Fa,b(da,4)))&&(K=["linenums",""],g(p,"[]=",a.to_a(K)),K[b(K.length,1)])):(Da=c,k(m(da,4))&&(K=["linenums",""],g(p,"[]=",a.to_a(K)),K[b(K.length,1)])):Da=Da.$lstrip(),k(Da["$nil_or_empty?"]())?k(O.$attributes()["$key?"]("source-language"))&&(K=["language",
k(v=O.$attributes()["$[]"]("source-language"))?v:"text"],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]):(K=["language",Da],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),!k(p["$key?"]("linenums"))&&k(k(v=p["$key?"]("linenums-option"))?v:O.$attributes()["$key?"]("source-linenums-option"))&&(K=["linenums",""],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),!k(p["$key?"]("indent"))&&k(O.$attributes()["$key?"]("source-indent"))&&(K=["indent",O.$attributes()["$[]"]("source-indent")],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),Q=Q.$slice(0,
3),L=this.$build_block("listing","verbatim",Q,l,e,p);else if("pass"["$==="](U))L=this.$build_block(R,"raw",Q,l,e,p);else if("stem"["$==="](U)||"latexmath"["$==="](U)||"asciimath"["$==="](U))R["$=="]("stem")&&(K=["style",k(Ca=p["$[]"](2))?k(Ca["$include?"]("tex"))?"latexmath":"asciimath":k((sb=O.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":sb],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),L=this.$build_block("stem","raw",Q,l,e,p);else if("open"["$==="](U)||"sidebar"["$==="](U))L=this.$build_block(R,
"compound",Q,l,e,p);else if("table"["$==="](U))tb=d(D,"Reader").$new(e.$read_lines_until(q(["terminator","skip_line_comments"],{terminator:Q,skip_line_comments:!0})),e.$cursor()),k(Q["$start_with?"]("|","!"))||(k(v=p["$[]"]("format"))?v:(K=["format",k(Q["$start_with?"](","))?"csv":"dsv"],g(p,"[]=",a.to_a(K)),K[b(K.length,1)])),L=this.$next_table(tb,l,p);else if("quote"["$==="](U)||"verse"["$==="](U))d(D,"AttributeList").$rekey(p,[c,"attribution","citetitle"]),L=this.$build_block(R,R["$=="]("verse")?
"verbatim":"compound",Q,l,e,p);else if(k(k(v=ba)?ia=W["$registered_for_block?"](R,za):v)){if(k((ub=ia.$config()["$[]"]("content_model"))["$!="]("skip"))&&(k((vb=k(v=ia.$config()["$[]"]("pos_attrs"))?v:[])["$empty?"]()["$!"]())&&d(D,"AttributeList").$rekey(p,[c].$concat(vb)),k(La=ia.$config()["$[]"]("default_attrs"))&&g(La,"each",[],(Z=function(d,e){var h;null==d&&(d=c);null==e&&(e=c);return k(h=p["$[]"](d))?h:(K=[d,e],g(p,"[]=",a.to_a(K)),K[b(K.length,1)])},Z.$$s=this,Z.$$arity=2,Z)),K=["cloaked-context",
za],g(p,"[]=",a.to_a(K)),K[b(K.length,1)]),L=this.$build_block(R,ub,Q,l,e,p,q(["extension"],{extension:ia})),!k(L))return p.$clear(),c}else this.$raise("Unsupported block type "+R+" at "+e.$line_info())}k(ea)&&(K=[ea],g(L,"source_location=",a.to_a(K)),K[b(K.length,1)]);k(p["$key?"]("title"))&&(K=[p.$delete("title")],g(L,"title=",a.to_a(K)),K[b(K.length,1)]);K=[p["$[]"]("style")];g(L,"style=",a.to_a(K));K[b(K.length,1)];k(fb=k(v=L.$id())?v:(K=[p["$[]"]("id")],g(L,"id=",a.to_a(K)),K[b(K.length,1)]))&&
!k(O.$register("refs",[fb,L,k(v=p["$[]"]("reftext"))?v:k(L["$title?"]())?L.$title():c]))&&this.$warn("asciidoctor: WARNING: "+X+": line "+S+": id assigned to block already in use: "+fb);k(p["$empty?"]())||L.$attributes().$update(p);L.$lock_in_subs();k(L["$sub?"]("callouts"))&&!k(this.$catalog_callouts(L.$source(),O))&&L.$remove_sub("callouts");return L}catch(gb){if(gb===a.returner)return gb.$v;throw gb;}},O.$$arity=-3);a.defs(e,"$read_paragraph_lines",X=function(e,h,l){var m=c,m=c;null==l&&(l=q([],
{}));m=["break_on_blank_lines",!0];g(l,"[]=",a.to_a(m));m[b(m.length,1)];m=["break_on_list_continuation",!0];g(l,"[]=",a.to_a(m));m[b(m.length,1)];m=["preserve_last_line",!0];g(l,"[]=",a.to_a(m));m[b(m.length,1)];m=k(h)?k(d(D,"Compliance").$block_terminates_paragraph())?d(D,"StartOfBlockOrListProc"):d(D,"StartOfListProc"):k(d(D,"Compliance").$block_terminates_paragraph())?d(D,"StartOfBlockProc"):d(D,"NoOp");return g(e,"read_lines_until",[l],m.$to_proc())},X.$$arity=-3);a.defs(e,"$is_delimited_block?",
N=function(e,g){var l,t,q=t=c,p=c,u=c,v=c,u=p=c;null==g&&(g=!1);if(!k(k(l=m(t=e.$length(),1))?d(D,"DELIMITED_BLOCK_HEADS")["$include?"](e.$slice(0,2)):l))return c;if(t["$=="](2))q=e,p=2;else{k("number"===typeof t?4>=t:t["$<="](4))?(q=e,p=t):(q=e.$slice(0,4),p=4);u=!1;if(k(d(D,"Compliance").$markdown_syntax())&&(v=p["$=="](4)?q.$chop():q,v["$=="]("```"))){if(k(p["$=="](4)?q["$end_with?"]("`"):p["$=="](4)))return c;q=v;p=3;u=!0}if(k((l=p["$=="](3))?u["$!"]():p["$=="](3)))return c}if(k(d(D,"DELIMITED_BLOCKS")["$key?"](q))){if(k(k(l=
n(p,4))?l:p["$=="](t)))return k(g)?(t=d(D,"DELIMITED_BLOCKS")["$[]"](q),l=a.to_ary(t),p=null==l[0]?c:l[0],u=null==l[1]?c:l[1],t,d(D,"BlockMatchData").$new(p,u,q,q)):!0;if((""+q+h(q["$[]"](x(-1,-1,!1)),b(t,p)))["$=="](e))return k(g)?(t=d(D,"DELIMITED_BLOCKS")["$[]"](q),l=a.to_ary(t),p=null==l[0]?c:l[0],u=null==l[1]?c:l[1],t,d(D,"BlockMatchData").$new(p,u,q,e)):!0}return c},N.$$arity=-2);a.defs(e,"$build_block",ea=function(e,l,h,t,n,p,u){var v,H,w=c,z=c,x=w=z=c;v=x=x=x=c;null==u&&(u=q([],{}));v=l["$=="]("skip")?
[!0,"simple"]:l["$=="]("raw")?[!1,"simple"]:[!1,l];w=v[0];z=v[1];v;k(h["$nil?"]())?(z["$=="]("verbatim")?z=n.$read_lines_until(q(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(l["$=="]("compound")&&(l="simple"),z=this.$read_paragraph_lines(n,!1,q(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:w}))),w=c):k(z["$!="]("compound"))?(z=n.$read_lines_until(q(["terminator","skip_processing"],{terminator:h,skip_processing:w})),
w=c):h["$=="](!1)?(z=c,w=n):(z=c,w=d(D,"Reader").$new(n.$read_lines_until(q(["terminator","skip_processing"],{terminator:h,skip_processing:w})),n.$cursor()));if(l["$=="]("verbatim"))if(k(x=p["$[]"]("indent")))this["$adjust_indentation!"](z,x,k(v=p["$[]"]("tabsize"))?v:t.$document().$attributes()["$[]"]("tabsize"));else{if(k(m(x=(k(v=p["$[]"]("tabsize"))?v:t.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)))this["$adjust_indentation!"](z,c,x)}else if(l["$=="]("skip"))return c;if(k(x=u["$[]"]("extension")))if(p.$delete("style"),
k(x=x.$process_method()["$[]"](t,k(v=w)?v:d(D,"Reader").$new(z),p.$dup())))p.$replace(x.$attributes()),k((v=x.$content_model()["$=="]("compound"))?(z=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))&&(l="compound",w=d(D,"Reader").$new(z));else return c;else x=d(D,"Block").$new(t,e,q(["content_model","source","attributes"],{content_model:l,source:z,attributes:p}));k(k(v=k(H=p["$key?"]("title"))?x.$context()["$!="]("admonition"):H)?t.$document().$attributes()["$key?"](""+
x.$context()+"-caption"):v)&&(v=[p.$delete("title")],g(x,"title=",a.to_a(v)),v[b(v.length,1)],x.$assign_caption(p.$delete("caption")));l["$=="]("compound")&&this.$parse_blocks(w,x);return x},ea.$$arity=-7);a.defs(e,"$parse_blocks",da=function(a,b){for(var d,e,f=c;k(k(d=k(e=f=this.$next_block(a,b))?b["$<<"](f):e)?d:a["$has_more_lines?"]()););},da.$$arity=2);a.defs(e,"$next_item_list",ga=function(e,l,h){var q,p=c,u=c,v=c,H=u=c,w=c,z=c,p=d(D,"List").$new(h,l),u=h.$context()["$=="](l)?[t(h.$level(),1)]:
[1];g(p,"level=",a.to_a(u));for(u[b(u.length,1)];k(k(q=e["$has_more_lines?"]())?v=d(D,"ListRxMap")["$[]"](l).$match(e.$peek_line()):q);){u=this.$resolve_list_marker(l,v["$[]"](1));if(k(k(q=p["$items?"]())?u["$!="](p.$items()["$[]"](0).$marker()):q))for(H=t(p.$level(),1),w=h;w.$context()["$=="](l);){if(u["$=="](w.$items()["$[]"](0).$marker())){H=w.$level();break}w=w.$parent()}else H=p.$level();if(k(k(q=p["$items?"]()["$!"]())?q:H["$=="](p.$level())))z=this.$next_list_item(e,p,v);else if(k(n(H,p.$level())))break;
else if(k(m(H,p.$level())))p.$items()["$[]"](-1)["$<<"](this.$next_block(e,p));if(k(z))p["$<<"](z);z=c;if(k(q=e.$skip_blank_lines()))q;else break}return p},ga.$$arity=3);a.defs(e,"$catalog_callouts",P=function(a,b){var e,f=c,f=!1;k(a["$include?"]("<"))&&g(a,"scan",[d(D,"CalloutScanRx")],(e=function(){var a,d,e=c,g=c;a=[(d=u["~"])===c?c:d["$[]"](0),(d=u["~"])===c?c:d["$[]"](2)];e=a[0];g=a[1];a;k(e["$start_with?"]("\\"))||b.$callouts().$register(g);return f=!0},e.$$s=this,e.$$arity=0,e));return f},
P.$$arity=2);a.defs(e,"$catalog_inline_anchors",U=function(a,b,e){var f,l;k(k(f=a["$include?"]("[["))?f:a["$include?"]("or:"))&&g(a,"scan",[d(D,"InlineAnchorScanRx")],(l=function(){var a=l.$$s||this,f,g=c,h=c;if(k(g=(f=u["~"])===c?c:f["$[]"](1))){if(k(h=(f=u["~"])===c?c:f["$[]"](2))&&k(k(f=h["$include?"](d(D,"ATTR_REF_HEAD")))?(h=e.$sub_attributes(h))["$empty?"]():f))return c}else if(g=(f=u["~"])===c?c:f["$[]"](3),k(h=(f=u["~"])===c?c:f["$[]"](4))&&(k(h["$include?"]("]"))&&(h=h.$gsub("\\]","]")),
k(k(f=h["$include?"](d(D,"ATTR_REF_HEAD")))?(h=e.$sub_attributes(h))["$empty?"]():f)))return c;return k(e.$register("refs",[g,d(D,"Inline").$new(b,"anchor",h,q(["type","id"],{type:"ref",id:g})),h]))?c:a.$warn("asciidoctor: WARNING: "+e.$reader().$path()+": id assigned to anchor already in use: "+g)},l.$$s=this,l.$$arity=0,l));return c},U.$$arity=3);a.defs(e,"$catalog_inline_biblio_anchor",aa=function(a,b,e){var f,g,l=c,h=c;k(d(D,"InlineBiblioAnchorRx")["$=~"](a))&&!k(e.$register("refs",[l=(f=u["~"])===
c?c:f["$[]"](1),d(D,"Inline").$new(b,"anchor",h="["+(k(f=(g=u["~"])===c?c:g["$[]"](2))?f:l)+"]",q(["type","id"],{type:"bibref",id:l})),h]))&&this.$warn("asciidoctor: WARNING: "+e.$reader().$path()+": id assigned to bibliography anchor already in use: "+l);return c},aa.$$arity=3);a.defs(e,"$next_description_list",V=function(b,e,f){for(var g,l,h=c,m=c,t=c,q=c,n=c,h=d(D,"List").$new(f,"dlist"),m=c,t=d(D,"DescriptionListSiblingRx")["$[]"](e["$[]"](2));k(k(g=e)?g:k(l=b["$has_more_lines?"]())?e=t.$match(b.$peek_line()):
l);){l=this.$next_list_item(b,h,e,t);g=a.to_ary(l);q=null==g[0]?c:g[0];n=null==g[1]?c:g[1];l;if(k(k(g=m)?m["$[]"](-1)["$!"]():g))m.$pop(),m["$[]"](0)["$<<"](q),m["$<<"](n);else h.$items()["$<<"](m=[[q],n]);e=c}return h},V.$$arity=3);a.defs(e,"$next_list_item",ha=function(e,l,h,m){var t,n,p,u=c,v=c,H=c,w=c,z=H=c,y=z=z=w=c,r=c,C=r=y=c,A=c;null==m&&(m=c);(u=l.$context())["$=="]("dlist")?(v=d(D,"ListItem").$new(l,h["$[]"](1)),H=d(D,"ListItem").$new(l,h["$[]"](3)),w=h["$[]"](3)["$nil_or_empty?"]()["$!"]()):
(H=h["$[]"](2),z=!1,k((t=u["$=="]("ulist"))?H["$start_with?"]("["):u["$=="]("ulist"))&&(k(H["$start_with?"]("[ ] "))?(z=!0,w=!1,H=H["$[]"](x(3,-1,!1)).$lstrip()):k(H["$start_with?"]("[x] ","[*] "))&&(w=z=!0,H=H["$[]"](x(3,-1,!1)).$lstrip())),H=d(D,"ListItem").$new(l,H),k(z)&&(z=["checklist-option",""],g(l.$attributes(),"[]=",a.to_a(z)),z[b(z.length,1)],z=["checkbox",""],g(H.$attributes(),"[]=",a.to_a(z)),z[b(z.length,1)],k(w)&&(z=["checked",""],g(H.$attributes(),"[]=",a.to_a(z)),z[b(z.length,1)])),
m=k(t=m)?t:this.$resolve_list_marker(u,h["$[]"](1),l.$items().$size(),!0,e),z=[m],g(H,"marker=",a.to_a(z)),z[b(z.length,1)],w=!0);e.$shift();z=d(D,"Reader").$new(this.$read_lines_for_list_item(e,u,m,w),e.$cursor());if(k(z["$has_more_lines?"]())){y=z.$skip_line_comments();k(r=z.$peek_line())?(k(y["$empty?"]())||z.$unshift_lines(y),k(y=r["$empty?"]())?r=!1:(r=!0,u["$=="]("dlist")||(w=!1))):r=y=!1;for(C=q(["text"],{text:w["$!"]()});k(k(n=k(p=A=this.$next_block(z,H,q([],{}),C))?H["$<<"](A):p)?n:z["$has_more_lines?"]()););
H.$fold_first(y,r)}return u["$=="]("dlist")?k(k(t=H["$text?"]())?t:H["$blocks?"]())?[v,H]:[v,c]:H},ha.$$arity=-4);a.defs(e,"$read_lines_for_list_item",Z=function(e,l,h,m){var t,n,p,v,H,w,z,x,y=c,r=c,C=c,A=c,E=c,B=c,B=p=p=c;null==h&&(h=c);null==m&&(m=!0);y=[];r="inactive";C=!1;for(A=c;k(e["$has_more_lines?"]());){E=e.$read_line();if(k(this["$is_sibling_list_item?"](E,l,h)))break;B=k(y["$empty?"]())?c:y["$[]"](-1);if(B["$=="](d(D,"LIST_CONTINUATION"))&&(r["$=="]("inactive")&&(r="active",m=!0,k(C)||
(p=[-1,""],g(y,"[]=",a.to_a(p)),p[b(p.length,1)])),E["$=="](d(D,"LIST_CONTINUATION")))){k(r["$!="]("frozen"))&&(r="frozen",y["$<<"](E));E=c;continue}if(k(p=this["$is_delimited_block?"](E,!0)))if(r["$=="]("active"))y["$<<"](E),y.$concat(e.$read_lines_until(q(["terminator","read_last_line"],{terminator:p.$terminator(),read_last_line:!0}))),r="inactive";else break;else if(k(k(n=(p=l["$=="]("dlist"))?r["$!="]("active"):l["$=="]("dlist"))?d(D,"BlockAttributeLineRx")["$match?"](E):n))break;else if(k((n=
r["$=="]("active"))?E["$empty?"]()["$!"]():r["$=="]("active")))if(k(d(D,"LiteralParagraphRx")["$match?"](E)))e.$unshift_line(E),y.$concat(g(e,"read_lines_until",[q(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(v=function(a){var b=v.$$s||this;null==a&&(a=c);return l["$=="]("dlist")?b["$is_sibling_list_item?"](a,l,h):l["$=="]("dlist")},v.$$s=this,v.$$arity=1,v))),r="inactive";else if(k(k(n=
k(p=d(D,"BlockTitleRx")["$match?"](E))?p:d(D,"BlockAttributeLineRx")["$match?"](E))?n:d(D,"AttributeEntryRx")["$match?"](E)))y["$<<"](E);else k(B=g(k(C)?["dlist"]:d(D,"NESTABLE_LIST_CONTEXTS"),"find",[],(H=function(a){null==a&&(a=c);return d(D,"ListRxMap")["$[]"](a)["$match?"](E)},H.$$s=this,H.$$arity=1,H)))&&(C=!0,k((n=B["$=="]("dlist"))?((p=u["~"])===c?c:p["$[]"](3))["$nil_or_empty?"]():B["$=="]("dlist"))&&(m=!1)),y["$<<"](E),r="inactive";else if(k(k(n=B)?B["$empty?"]():n)){if(k(E["$empty?"]())){if(!k(E=
k(n=e.$skip_blank_lines())?e.$read_line():n))break;if(k(this["$is_sibling_list_item?"](E,l,h)))break}if(E["$=="](d(D,"LIST_CONTINUATION")))A=y.$size(),y["$<<"](E);else if(k(m))if(k(this["$is_sibling_list_item?"](E,l,h)))break;else if(k(B=g(d(D,"NESTABLE_LIST_CONTEXTS"),"find",[],(w=function(a){null==a&&(a=c);return d(D,"ListRxMap")["$[]"](a)["$=~"](E)},w.$$s=this,w.$$arity=1,w))))y["$<<"](E),C=!0,k((n=B["$=="]("dlist"))?((p=u["~"])===c?c:p["$[]"](3))["$nil_or_empty?"]():B["$=="]("dlist"))&&(m=!1);
else if(k(d(D,"LiteralParagraphRx")["$match?"](E)))e.$unshift_line(E),y.$concat(g(e,"read_lines_until",[q(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(z=function(a){var b=z.$$s||this;null==a&&(a=c);return l["$=="]("dlist")?b["$is_sibling_list_item?"](a,l,h):l["$=="]("dlist")},z.$$s=this,z.$$arity=1,z)));else break;else k(C)||y.$pop(),y["$<<"](E),m=!0}else k(E["$empty?"]()["$!"]())&&(m=!0),
k(B=g(k(C)?["dlist"]:d(D,"NESTABLE_LIST_CONTEXTS"),"find",[],(x=function(a){null==a&&(a=c);return d(D,"ListRxMap")["$[]"](a)["$=~"](E)},x.$$s=this,x.$$arity=1,x)))&&(C=!0,k((n=B["$=="]("dlist"))?((p=u["~"])===c?c:p["$[]"](3))["$nil_or_empty?"]():B["$=="]("dlist"))&&(m=!1)),y["$<<"](E);E=c}k(E)&&e.$unshift_line(E);for(k(A)&&y.$delete_at(A);k(k(n=y["$empty?"]()["$!"]())?y["$[]"](-1)["$empty?"]():n);)y.$pop();k(k(t=y["$empty?"]()["$!"]())?y["$[]"](-1)["$=="](d(D,"LIST_CONTINUATION")):t)&&y.$pop();return y},
Z.$$arity=-3);a.defs(e,"$initialize_section",qa=function(e,l,h){var t,n,p=c,u=c,v=c,H=c,w=c,z=c,x=c,y=c,r=c,C=c,E=c,A=c,B=r=t=c;null==h&&(h=q([],{}));p=l.$document();k(p.$sourcemap())&&(u=e.$cursor());n=this.$parse_section_title(e,p);t=a.to_ary(n);v=null==t[0]?c:t[0];H=null==t[1]?c:t[1];w=null==t[2]?c:t[2];z=null==t[3]?c:t[3];x=null==t[4]?c:t[4];n;k(H)?(y=["reftext",H],g(h,"[]=",a.to_a(y)),y[b(y.length,1)]):k(h["$key?"]("reftext"))&&(H=h["$[]"]("reftext"));r=k(h["$[]"](1))?this.$parse_style_attribute(h,
e):c;k(r)?k(r["$=="]("abstract")?p.$doctype()["$=="]("book"):r["$=="]("abstract"))?(t=["chapter",1],C=t[0],z=t[1],t):(t=[r,!0],C=t[0],E=t[1],t,z["$=="](0)&&(z=1),A=r["$=="]("appendix")):(t=p.$doctype(),"book"["$==="](t)?C=z["$=="](0)?"part":z["$=="](1)?"chapter":"section":"manpage"["$==="](t)?w.$casecmp("synopsis")["$=="](0)?(t=["synopsis",!0],C=t[0],E=t[1],t):C="section":C="section");r=d(D,"Section").$new(l,z,!1);t=[v,w,C,u];r["$id="](t[0]);r["$title="](t[1]);r["$sectname="](t[2]);r["$source_location="](t[3]);
t;k(E)?(y=[!0],g(r,"special=",a.to_a(y)),y[b(y.length,1)],k(A)&&(y=[!0],g(r,"numbered=",a.to_a(y)),y[b(y.length,1)])):k(k(t=m(z,0))?p.$attributes()["$key?"]("sectnums"):t)&&(y=[k(r.$special())?(t=l.$context()["$=="]("section"))?l.$numbered():l.$context()["$=="]("section"):!0],g(r,"numbered=",a.to_a(y)),y[b(y.length,1)]);k(B=k(t=r.$id())?t:(y=[k(n=h["$[]"]("id"))?n:k(p.$attributes()["$key?"]("sectids"))?d(D,"Section").$generate_id(r.$title(),p):c],g(r,"id=",a.to_a(y)),y[b(y.length,1)]))&&!k(p.$register("refs",
[B,r,k(t=H)?t:r.$title()]))&&this.$warn("asciidoctor: WARNING: "+e.$path()+": line "+b(e.$lineno(),k(x)?1:2)+": id assigned to section already in use: "+B);r.$update_attributes(h);e.$skip_blank_lines();return r},qa.$$arity=-3);a.defs(e,"$is_next_line_section?",ma=function(b,e){var f,l,h=c;return k(k(f=k(l=h=e["$[]"](1))?h["$start_with?"]("discrete","float"):l)?d(D,"DiscreteHeadingStyleRx")["$match?"](h):f)?c:k(b["$has_more_lines?"]())?k(d(D,"Compliance").$underline_style_section_titles())?g(this,
"is_section_title?",a.to_a(b.$peek_lines(2,k(f=h)?h["$=="]("comment"):f))):this["$atx_section_title?"](b.$peek_line()):c},ma.$$arity=2);a.defs(e,"$is_next_line_doctitle?",fa=function(a,b,d){var e,f=c;return k(d)?k(e=f=this["$is_next_line_section?"](a,b))?t(f,d.$to_i())["$=="](0):e:this["$is_next_line_section?"](a,b)["$=="](0)},fa.$$arity=3);a.defs(e,"$is_section_title?",ka=function(a,b){var d;null==b&&(b=c);return k(d=this["$atx_section_title?"](a))?d:k(b["$nil_or_empty?"]())?c:this["$setext_section_title?"](a,
b)},ka.$$arity=-2);a.defs(e,"$atx_section_title?",Ba=function(a){var e;return k(k(d(D,"Compliance").$markdown_syntax())?k(e=a["$start_with?"]("=","#"))?d(D,"ExtAtxSectionTitleRx")["$=~"](a):e:k(e=a["$start_with?"]("="))?d(D,"AtxSectionTitleRx")["$=~"](a):e)?b(((e=u["~"])===c?c:e["$[]"](1)).$length(),1):c},Ba.$$arity=1);a.defs(e,"$setext_section_title?",Y=function(a,e){var g,l,m,t=c,q=c,p=c;return k(k(g=k(l=k(m=t=d(D,"SETEXT_SECTION_LEVELS")["$[]"](q=e.$chr()))?h(q,p=e.$length())["$=="](e):m)?d(D,
"SetextSectionTitleRx")["$match?"](a):l)?n(b(this.$line_length(a),p).$abs(),2):g)?t:c},Y.$$arity=2);a.defs(e,"$parse_section_title",la=function(a,e){var g,l,m,q,p,v=c,H=c,w=c,z=c,x=c,y=c,r=c,A=c,B=c,v=H=c,w=a.$read_line();k(k(d(D,"Compliance").$markdown_syntax())?k(g=w["$start_with?"]("=","#"))?d(D,"ExtAtxSectionTitleRx")["$=~"](w):g:k(g=w["$start_with?"]("="))?d(D,"AtxSectionTitleRx")["$=~"](w):g)?(g=[b(((l=u["~"])===c?c:l["$[]"](1)).$length(),1),(l=u["~"])===c?c:l["$[]"](2),!0],z=g[0],x=g[1],y=
g[2],g,k(k(g=k(l=x["$end_with?"]("]]"))?d(D,"InlineSectionAnchorRx")["$=~"](x):l)?((l=u["~"])===c?c:l["$[]"](1))["$!"]():g)&&(g=[x.$slice(0,b(x.$length(),((l=u["~"])===c?c:l["$[]"](0)).$length())),(l=u["~"])===c?c:l["$[]"](2),(l=u["~"])===c?c:l["$[]"](3)],x=g[0],v=g[1],H=g[2],g)):k(k(g=k(l=k(m=k(q=k(p=d(D,"Compliance").$underline_style_section_titles())?r=a.$peek_line(!0):p)?z=d(D,"SETEXT_SECTION_LEVELS")["$[]"](A=r.$chr()):q)?h(A,B=r.$length())["$=="](r):m)?x=k(m=d(D,"SetextSectionTitleRx")["$=~"](w))?
(q=u["~"])===c?c:q["$[]"](1):m:l)?n(b(this.$line_length(w),B).$abs(),2):g)?(y=!1,k(k(g=k(l=x["$end_with?"]("]]"))?d(D,"InlineSectionAnchorRx")["$=~"](x):l)?((l=u["~"])===c?c:l["$[]"](1))["$!"]():g)&&(g=[x.$slice(0,b(x.$length(),((l=u["~"])===c?c:l["$[]"](0)).$length())),(l=u["~"])===c?c:l["$[]"](2),(l=u["~"])===c?c:l["$[]"](3)],x=g[0],v=g[1],H=g[2],g),a.$shift()):this.$raise("Unrecognized section at "+a.$prev_line_info());k(e["$attr?"]("leveloffset"))&&(z=t(z,e.$attr("leveloffset").$to_i()));return[v,
H,x,z,y]},la.$$arity=2);k(d(D,"FORCE_UNICODE_LINE_LENGTH"))?a.defs(e,"$line_length",na=function(a){return a.$scan(d(D,"UnicodeCharScanRx")).$size()},na.$$arity=1):a.defs(e,"$line_length",wa=function(a){return a.$length()},wa.$$arity=1);a.defs(e,"$parse_header_metadata",ta=function(e,m){var n,p,u,v,H=c,w=c,z=c,y=c,r=c,C=c,A=c,B=c,G=C=c,J=c,C=A=r=z=w=c;null==m&&(m=c);this.$process_attribute_entries(e,m);n=[q([],{}),c,c];H=n[0];w=n[1];z=n[2];n;k(k(n=e["$has_more_lines?"]())?e["$next_line_empty?"]()["$!"]():
n)&&(k((y=this.$process_authors(e.$read_line()))["$empty?"]())||(k(m)&&(g(y,"each",[],(p=function(d,e){var h=c;null==d&&(d=c);null==e&&(e=c);if(k(m.$attributes()["$key?"](d)))return c;h=[d,k(l("::","String")["$==="](e))?m.$apply_header_subs(e):e];g(m.$attributes(),"[]=",a.to_a(h));return h[b(h.length,1)]},p.$$s=this,p.$$arity=2,p)),w=m.$attributes()["$[]"]("author"),z=m.$attributes()["$[]"]("authors")),H=y),this.$process_attribute_entries(e,m),r=q([],{}),k(k(n=e["$has_more_lines?"]())?e["$next_line_empty?"]()["$!"]():
n)&&(C=e.$read_line(),k(A=d(D,"RevisionInfoLineRx").$match(C))?(k(A["$[]"](1))&&(B=["revnumber",A["$[]"](1).$rstrip()],g(r,"[]=",a.to_a(B)),B[b(B.length,1)]),k((C=A["$[]"](2).$strip())["$empty?"]())||(B=k(k(n=A["$[]"](1)["$!"]())?C["$start_with?"]("v"):n)?["revnumber",C["$[]"](x(1,-1,!1))]:["revdate",C],g(r,"[]=",a.to_a(B)),B[b(B.length,1)]),k(A["$[]"](3))&&(B=["revremark",A["$[]"](3).$rstrip()],g(r,"[]=",a.to_a(B)),B[b(B.length,1)])):e.$unshift_line(C)),k(r["$empty?"]())||(k(m)&&g(r,"each",[],(u=
function(d,e){null==d&&(d=c);null==e&&(e=c);if(k(m.$attributes()["$key?"](d)))return c;B=[d,m.$apply_header_subs(e)];g(m.$attributes(),"[]=",a.to_a(B));return B[b(B.length,1)]},u.$$s=this,u.$$arity=2,u)),H.$update(r)),this.$process_attribute_entries(e,m),e.$skip_blank_lines());if(k(m)){if(k(k(n=m.$attributes()["$key?"]("author"))?(G=m.$attributes()["$[]"]("author"))["$!="](w):n))y=this.$process_authors(G,!0,!1);else if(k(k(n=m.$attributes()["$key?"]("authors"))?(G=m.$attributes()["$[]"]("authors"))["$!="](z):
n))y=this.$process_authors(G,!0);else{n=[[],1,"author_1",!1,!1];J=n[0];w=n[1];z=n[2];r=n[3];A=n[4];for(n;k(m.$attributes()["$key?"](z));)(C=m.$attributes()["$[]"](z))["$=="](y["$[]"](z))?(J["$<<"](c),A=!0):(J["$<<"](C),r=!0),z="author_"+(w=t(w,1));k(r)?(k(A)&&g(J,"each_with_index",[],(v=function(d,e){var l=v.$$s||this,m,n=c;null==d&&(d=c);null==e&&(e=c);if(k(d))return c;B=[e,h(g([y["$[]"]("firstname_"+(n=t(e,1))),y["$[]"]("middlename_"+n),y["$[]"]("lastname_"+n)].$compact(),"map",[],(m=function(a){null==
a&&(a=c);return a.$tr(" ","_")},m.$$s=l,m.$$arity=1,m))," ")];g(J,"[]=",a.to_a(B));return B[b(B.length,1)]},v.$$s=this,v.$$arity=2,v)),y=this.$process_authors(J,!0,!1)):y=q([],{})}k(y["$empty?"]())||(m.$attributes().$update(y),k(k(n=m.$attributes()["$key?"]("email")["$!"]())?m.$attributes()["$key?"]("email_1"):n)&&(B=["email",m.$attributes()["$[]"]("email_1")],g(m.$attributes(),"[]=",a.to_a(B)),B[b(B.length,1)]))}return H},ta.$$arity=-2);a.defs(e,"$process_authors",Ca=function(e,l,h){var m,n,p=this,
u=c,v=c,H=c;null==l&&(l=!1);null==h&&(h=!0);u=q([],{});v="author authorinitials firstname middlename lastname email".split(" ");H=function(){return k(h)?g(e.$split(";"),"map",[],(m=function(a){null==a&&(a=c);return a.$strip()},m.$$s=p,m.$$arity=1,m)):p.$Array(e)}();g(H,"each_with_index",[],(n=function(e,h){var m=n.$$s||this,p,H,w,z,x=c,y=c,r=c,C=c,A=c,E=c,B=c,I=c;null==e&&(e=c);null==h&&(h=c);if(k(e["$empty?"]()))return c;x=q([],{});h["$=="](0)?g(v,"each",[],(p=function(d){var e=c;null==d&&(d=c);
e=[d.$to_sym(),d];g(x,"[]=",a.to_a(e));return e[b(e.length,1)]},p.$$s=m,p.$$arity=1,p)):g(v,"each",[],(H=function(d){var e=c;null==d&&(d=c);e=[d.$to_sym(),""+d+"_"+t(h,1)];g(x,"[]=",a.to_a(e));return e[b(e.length,1)]},H.$$s=m,H.$$arity=1,H));y=c;if(k(l)){if(k(e["$include?"]("<"))&&(r=[x["$[]"]("author"),e.$tr("_"," ")],g(u,"[]=",a.to_a(r)),r[b(r.length,1)],e=e.$gsub(d(D,"XmlSanitizeRx"),"")),(y=e.$split(c,3)).$size()["$=="](3))y["$<<"](y.$pop().$squeeze(" "))}else k(C=d(D,"AuthorInfoLineRx").$match(e))&&
(y=C.$to_a()).$shift();k(y)?(A=(r=[x["$[]"]("firstname"),E=y["$[]"](0).$tr("_"," ")],g(u,"[]=",a.to_a(r)),r[b(r.length,1)]),r=[x["$[]"]("authorinitials"),E.$chr()],g(u,"[]=",a.to_a(r)),r[b(r.length,1)],k(y["$[]"](1))&&(k(y["$[]"](2))?(r=[x["$[]"]("middlename"),B=y["$[]"](1).$tr("_"," ")],g(u,"[]=",a.to_a(r)),r[b(r.length,1)],r=[x["$[]"]("lastname"),I=y["$[]"](2).$tr("_"," ")],g(u,"[]=",a.to_a(r)),r[b(r.length,1)],A=t(t(t(t(E," "),B)," "),I),r=[x["$[]"]("authorinitials"),""+E.$chr()+B.$chr()+I.$chr()]):
(r=[x["$[]"]("lastname"),I=y["$[]"](1).$tr("_"," ")],g(u,"[]=",a.to_a(r)),r[b(r.length,1)],A=t(t(E," "),I),r=[x["$[]"]("authorinitials"),""+E.$chr()+I.$chr()]),g(u,"[]=",a.to_a(r)),r[b(r.length,1)]),k(w=u["$[]"](x["$[]"]("author")))?w:(r=[x["$[]"]("author"),A],g(u,"[]=",a.to_a(r)),r[b(r.length,1)]),k(k(w=l)?w:y["$[]"](3)["$!"]())||(r=[x["$[]"]("email"),y["$[]"](3)],g(u,"[]=",a.to_a(r)),r[b(r.length,1)])):(r=[x["$[]"]("author"),(r=[x["$[]"]("firstname"),E=e.$squeeze(" ").$strip()],g(u,"[]=",a.to_a(r)),
r[b(r.length,1)])],g(u,"[]=",a.to_a(r)),r[b(r.length,1)],r=[x["$[]"]("authorinitials"),E.$chr()],g(u,"[]=",a.to_a(r)),r[b(r.length,1)]);r=["authorcount",t(h,1)];g(u,"[]=",a.to_a(r));r[b(r.length,1)];h["$=="](1)&&g(v,"each",[],(z=function(d){null==d&&(d=c);return k(u["$key?"](d))?(r=[""+d+"_1",u["$[]"](d)],g(u,"[]=",a.to_a(r)),r[b(r.length,1)]):c},z.$$s=m,z.$$arity=1,z));r=h["$=="](0)?["authors",u["$[]"](x["$[]"]("author"))]:["authors",""+u["$[]"]("authors")+", "+u["$[]"](x["$[]"]("author"))];g(u,
"[]=",a.to_a(r));return r[b(r.length,1)]},n.$$s=p,n.$$arity=2,n));return u},Ca.$$arity=-2);a.defs(e,"$parse_block_metadata_lines",ya=function(a,b,c,d){var e;null==c&&(c=q([],{}));for(null==d&&(d=q([],{}));k(this.$parse_block_metadata_line(a,b,c,d));)if(a.$shift(),k(e=a.$skip_blank_lines()))e;else break;return c},ya.$$arity=-3);a.defs(e,"$parse_block_metadata_line",Aa=function(e,l,m,t){var n,p,v=c,H=c,w=c,w=w=c;null==u["~"]&&(u["~"]=c);null==t&&(t=q([],{}));if(k(k(n=v=e.$peek_line())?k(t["$[]"]("text"))?
v["$start_with?"]("[","/"):H=v["$start_with?"]("[",".","/",":"):n))if(k(v["$start_with?"]("[")))if(k(v["$start_with?"]("[["))){if(k(k(n=v["$end_with?"]("]]"))?d(D,"BlockAnchorRx")["$=~"](v):n))return w=["id",(n=u["~"])===c?c:n["$[]"](1)],g(m,"[]=",a.to_a(w)),w[b(w.length,1)],k(w=(n=u["~"])===c?c:n["$[]"](2))&&(w=["reftext",k(w["$include?"](d(D,"ATTR_REF_HEAD")))?l.$sub_attributes(w):w],g(m,"[]=",a.to_a(w)),w[b(w.length,1)]),!0}else{if(k(k(n=v["$end_with?"]("]"))?d(D,"BlockAttributeListRx")["$=~"](v):
n))return l.$parse_attributes((n=u["~"])===c?c:n["$[]"](1),[],q(["sub_input","into"],{sub_input:!0,into:m})),!0}else if(k(k(n=H)?v["$start_with?"]("."):n)){if(k(d(D,"BlockTitleRx")["$=~"](v)))return w=["title",(n=u["~"])===c?c:n["$[]"](1)],g(m,"[]=",a.to_a(w)),w[b(w.length,1)],!0}else if(k(k(n=H["$!"]())?n:v["$start_with?"]("/"))){if(k(v["$start_with?"]("//"))){if(v["$=="]("//"))return!0;if(k(k(n=H)?h("/",w=v.$length())["$=="](v):n)){if(w["$=="](3))return c;e.$read_lines_until(q(["skip_first_line",
"preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:v,skip_processing:!0}));return!0}return k(v["$start_with?"]("///"))?c:!0}}else if(k(k(n=k(p=H)?v["$start_with?"](":"):p)?d(D,"AttributeEntryRx")["$=~"](v):n))return this.$process_attribute_entry(e,l,m,u["~"]),!0;return c},Aa.$$arity=-4);a.defs(e,"$process_attribute_entries",xa=function(a,b,d){null==d&&(d=c);for(a.$skip_comment_lines();k(this.$process_attribute_entry(a,b,d));)a.$shift(),a.$skip_comment_lines()},
xa.$$arity=-3);a.defs(e,"$process_attribute_entry",Da=function(a,e,g,l){var h,m,t=c,n=c,q=c,p=c;null==g&&(g=c);null==l&&(l=c);if(k(l=k(h=l)?h:k(a["$has_more_lines?"]())?d(D,"AttributeEntryRx").$match(a.$peek_line()):c)){if(k((t=l["$[]"](2))["$nil_or_empty?"]()))t="";else if(k(t["$end_with?"](d(D,"LINE_CONTINUATION"),d(D,"LINE_CONTINUATION_LEGACY"))))for(h=[t.$slice(-2,2),t.$slice(0,b(t.$length(),2)).$rstrip()],n=h[0],t=h[1],h;k(k(m=a.$advance())?(q=a.$peek_line().$lstrip())["$empty?"]()["$!"]():m)&&
(k(p=q["$end_with?"](n))&&(q=q.$slice(0,b(q.$length(),2)).$rstrip()),t=""+t+(k(t["$end_with?"](d(D,"HARD_LINE_BREAK")))?d(D,"LF"):" ")+q,k(p)););this.$store_attribute(l["$[]"](1),t,e,g);return!0}return c},Da.$$arity=-3);a.defs(e,"$store_attribute",Fa=function(a,e,g,h){var m,n=c;null==g&&(g=c);null==h&&(h=c);k(a["$end_with?"]("!"))?(m=[a.$chop(),c],a=m[0],e=m[1],m):k(a["$start_with?"]("!"))&&(m=[a.$slice(1,a.$length()),c],a=m[0],e=m[1],m);a=this.$sanitize_attribute_name(a);a["$=="]("numbered")&&(a=
"sectnums");k(g)?k(e)?(a["$=="]("leveloffset")&&(k(e["$start_with?"]("+"))?e=t(g.$attr("leveloffset",0).$to_i(),(k(m=e["$[]"](x(1,-1,!1)))?m:0).$to_i()).$to_s():k(e["$start_with?"]("-"))&&(e=b(g.$attr("leveloffset",0).$to_i(),(k(m=e["$[]"](x(1,-1,!1)))?m:0).$to_i()).$to_s())),k(n=g.$set_attribute(a,e))&&(e=n,k(h)&&l(d(D,"Document"),"AttributeEntry").$new(a,e).$save_to(h))):k(k(m=g.$delete_attribute(a))?h:m)&&l(d(D,"Document"),"AttributeEntry").$new(a,e).$save_to(h):k(h)&&l(d(D,"Document"),"AttributeEntry").$new(a,
e).$save_to(h);return[a,e]},Fa.$$arity=-3);a.defs(e,"$resolve_list_marker",La=function(a,b,d,e,f){null==d&&(d=0);null==e&&(e=!1);null==f&&(f=c);return a["$=="]("olist")?k(b["$start_with?"]("."))?b:this.$resolve_ordered_list_marker(b,d,e,f):a["$=="]("colist")?"<1>":b},La.$$arity=-3);a.defs(e,"$resolve_ordered_list_marker",Ka=function(a,b,e,f){var l,h,m=c,n=c,q=c;null==b&&(b=0);null==e&&(e=!1);null==f&&(f=c);m=n=c;q=g(d(D,"ORDERED_LIST_STYLES"),"find",[],(l=function(b){null==b&&(b=c);return d(D,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](a)},
l.$$s=this,l.$$arity=1,l));"arabic"["$==="](q)?(k(e)&&(m=t(b,1),n=a.$to_i()),a="1."):"loweralpha"["$==="](q)?(k(e)&&(m=t("a"["$[]"](0).$ord(),b).$chr(),n=a.$chop()),a="a."):"upperalpha"["$==="](q)?(k(e)&&(m=t("A"["$[]"](0).$ord(),b).$chr(),n=a.$chop()),a="A."):"lowerroman"["$==="](q)?(k(e)&&(m=t(b,1),n=this.$roman_numeral_to_int(a.$chop())),a="i)"):"upperroman"["$==="](q)&&(k(e)&&(m=t(b,1),n=this.$roman_numeral_to_int(a.$chop())),a="I)");k(k(h=e)?m["$!="](n):h)&&this.$warn("asciidoctor: WARNING: "+
f.$line_info()+": list item index: expected "+m+", got "+n);return a},Ka.$$arity=-2);a.defs(e,"$is_sibling_list_item?",Ha=function(a,b,e){var f=c,g=c,h=c;k(l("::","Regexp")["$==="](e))?(f=e,g=!1):(f=d(D,"ListRxMap")["$[]"](b),g=e);return k(h=f.$match(a))?k(g)?g["$=="](this.$resolve_list_marker(b,h["$[]"](1))):!0:!1},Ha.$$arity=3);a.defs(e,"$next_table",Ma=function(e,h,n){var q,p,u,v=c,H=c,w=c,z=c,r=c,x=c,y=c,C=c,A=c,E=c,B=c,J=r=c,G=r=c,Z=c,v=d(D,"Table").$new(h,n);k(n["$key?"]("title"))&&(H=[n.$delete("title")],
g(v,"title=",a.to_a(H)),H[b(H.length,1)],v.$assign_caption(n.$delete("caption")));k(k(q=n["$key?"]("cols"))?(w=this.$parse_colspecs(n["$[]"]("cols")))["$empty?"]()["$!"]():q)&&(v.$create_columns(w),z=!0);r=k(q=e.$skip_blank_lines())?q:0;x=l(d(D,"Table"),"ParserContext").$new(e,v,n);q=[x.$format(),-1,c];y=q[0];C=q[1];A=q[2];q;k(k(q=k(p=m(r,0))?p:n["$key?"]("header-option"))?q:n["$key?"]("noheader-option"))||(E=!0);for(q=!1;q||k(B=e.$read_line());){q=!1;k(k(p=m(C=t(C,1),0))?B["$empty?"]():p)?(B=c,k(A)&&
(A=t(A,1))):y["$=="]("psv")&&(k(x["$starts_with_delimiter?"](B))?(B=B.$slice(1,B.$length()),x.$close_open_cell(),k(A)&&(A=c)):(u=this.$parse_cellspec(B,"start",x.$delimiter()),p=a.to_ary(u),r=null==p[0]?c:p[0],B=null==p[1]?c:p[1],u,k(r)?(x.$close_open_cell(r),k(A)&&(A=c)):k(k(p=A)?A["$=="](C):p)&&(p=[!1,c],E=p[0],A=p[1],p)));k(C["$=="](0)?E:C["$=="](0))&&(k(k(p=e["$has_more_lines?"]())?e.$peek_line()["$empty?"]():p)?A=1:E=!1);for(p=!1;p||k(!0);)if(p=!1,k(k(u=B)?J=x.$match_delimiter(B):u)){r=y;if("csv"["$==="](r)){if(k(x["$buffer_has_unclosed_quotes?"](J.$pre_match()))){if(k((B=
x.$skip_past_delimiter(J))["$empty?"]()))break;p=!0}H=[""+x.$buffer()+J.$pre_match()]}else if("dsv"["$==="](r)){if(k(J.$pre_match()["$end_with?"]("\\"))){if(k((B=x.$skip_past_escaped_delimiter(J))["$empty?"]())){H=[""+x.$buffer()+d(D,"LF")];g(x,"buffer=",a.to_a(H));H[b(H.length,1)];x.$keep_cell_open();break}p=!0}H=[""+x.$buffer()+J.$pre_match()]}else{if(k(J.$pre_match()["$end_with?"]("\\"))){if(k((B=x.$skip_past_escaped_delimiter(J))["$empty?"]())){H=[""+x.$buffer()+d(D,"LF")];g(x,"buffer=",a.to_a(H));
H[b(H.length,1)];x.$keep_cell_open();break}p=!0}h=this.$parse_cellspec(J.$pre_match());u=a.to_ary(h);r=null==u[0]?c:u[0];G=null==u[1]?c:u[1];h;x.$push_cellspec(r);H=[""+x.$buffer()+G]}g(x,"buffer=",a.to_a(H));H[b(H.length,1)];k((B=J.$post_match())["$empty?"]())&&(B=c);x.$close_cell()}else{H=[""+x.$buffer()+B+d(D,"LF")];g(x,"buffer=",a.to_a(H));H[b(H.length,1)];r=y;"csv"["$==="](r)?(H=[""+x.$buffer().$rstrip()+" "],g(x,"buffer=",a.to_a(H)),H[b(H.length,1)],k(x["$buffer_has_unclosed_quotes?"]())?(k(k(u=
A)?C["$=="](0):u)&&(u=[!1,c],E=u[0],A=u[1],u),x.$keep_cell_open()):x.$close_cell(!0)):"dsv"["$==="](r)?x.$close_cell(!0):x.$keep_cell_open();break}if(k(x["$cell_open?"]()))k(e["$has_more_lines?"]())||x.$close_cell(!0);else if(k(p=e.$skip_blank_lines()))p;else break}k(k(q=(Z=v.$attributes(),k(p=Z["$[]"]("colcount"))?p:(H=["colcount",v.$columns().$size()],g(Z,"[]=",a.to_a(H)),H[b(H.length,1)]))["$=="](0))?q:z)||v.$assign_column_widths();k(E)&&(H=[!0],g(v,"has_header_option=",a.to_a(H)),H[b(H.length,
1)],H=["header-option",""],g(n,"[]=",a.to_a(H)),H[b(H.length,1)],H=["options",k(n["$key?"]("options"))?""+n["$[]"]("options")+",header":"header"],g(n,"[]=",a.to_a(H)),H[b(H.length,1)]);v.$partition_header_footer(n);return v},Ma.$$arity=3);a.defs(e,"$parse_colspecs",Ga=function(e){var h,m,t=c;k(e["$include?"](" "))&&(e=e.$delete(" "));if(e["$=="](e.$to_i().$to_s()))return g(l("::","Array"),"new",[e.$to_i()],(h=function(){return q(["width"],{width:1})},h.$$s=this,h.$$arity=0,h));t=[];g(e.$split(",",
-1),"each",[],(m=function(e){var l=m.$$s||this,h,n,p=c,u=c,v=c,H=c,v=c;null==e&&(e=c);return k(e["$empty?"]())?t["$<<"](q(["width"],{width:1})):k(p=d(D,"ColumnSpecRx").$match(e))?(u=q([],{}),k(p["$[]"](2))&&(e=p["$[]"](2).$split("."),h=a.to_ary(e),v=null==h[0]?c:h[0],H=null==h[1]?c:h[1],e,k(k(h=v["$nil_or_empty?"]()["$!"]())?d(D,"TableCellHorzAlignments")["$key?"](v):h)&&(v=["halign",d(D,"TableCellHorzAlignments")["$[]"](v)],g(u,"[]=",a.to_a(v)),v[b(v.length,1)]),k(k(h=H["$nil_or_empty?"]()["$!"]())?
d(D,"TableCellVertAlignments")["$key?"](H):h)&&(v=["valign",d(D,"TableCellVertAlignments")["$[]"](H)],g(u,"[]=",a.to_a(v)),v[b(v.length,1)])),v=["width",k(p["$[]"](3))?p["$[]"](3).$to_i():1],g(u,"[]=",a.to_a(v)),v[b(v.length,1)],k(k(h=p["$[]"](4))?d(D,"TableCellStyles")["$key?"](p["$[]"](4)):h)&&(v=["style",d(D,"TableCellStyles")["$[]"](p["$[]"](4))],g(u,"[]=",a.to_a(v)),v[b(v.length,1)]),k(p["$[]"](1))?g(1,"upto",[p["$[]"](1).$to_i()],(n=function(){return t["$<<"](u.$dup())},n.$$s=l,n.$$arity=0,
n)):t["$<<"](u)):c},m.$$s=this,m.$$arity=1,m));return t},Ga.$$arity=1);a.defs(e,"$parse_cellspec",Ia=function(e,l,h){var m,t=c,n=c,p=t=c,u=c,v=c,u=c;null==l&&(l="end");null==h&&(h=c);m=[c,""];m;if(l["$=="]("start"))if(k(e["$include?"](h)))if(l=e.$split(h,2),m=a.to_ary(l),t=null==m[0]?c:m[0],n=null==m[1]?c:m[1],l,k(t=d(D,"CellSpecStartRx").$match(t))){if(k(t["$[]"](0)["$empty?"]()))return[q([],{}),n]}else return[c,e];else return[c,e];else if(k(t=d(D,"CellSpecEndRx").$match(e))){if(k(t["$[]"](0).$lstrip()["$empty?"]()))return[q([],
{}),e.$rstrip()];n=t.$pre_match()}else return[q([],{}),e];p=q([],{});k(t["$[]"](1))&&(l=t["$[]"](1).$split("."),m=a.to_ary(l),u=null==m[0]?c:m[0],v=null==m[1]?c:m[1],l,u=k(u["$nil_or_empty?"]())?1:u.$to_i(),v=k(v["$nil_or_empty?"]())?1:v.$to_i(),t["$[]"](2)["$=="]("+")?(u["$=="](1)||(u=["colspan",u],g(p,"[]=",a.to_a(u)),u[b(u.length,1)]),v["$=="](1)||(u=["rowspan",v],g(p,"[]=",a.to_a(u)),u[b(u.length,1)])):t["$[]"](2)["$=="]("*")&&!u["$=="](1)&&(u=["repeatcol",u],g(p,"[]=",a.to_a(u)),u[b(u.length,
1)]));k(t["$[]"](3))&&(l=t["$[]"](3).$split("."),m=a.to_ary(l),u=null==m[0]?c:m[0],v=null==m[1]?c:m[1],l,k(k(m=u["$nil_or_empty?"]()["$!"]())?d(D,"TableCellHorzAlignments")["$key?"](u):m)&&(u=["halign",d(D,"TableCellHorzAlignments")["$[]"](u)],g(p,"[]=",a.to_a(u)),u[b(u.length,1)]),k(k(m=v["$nil_or_empty?"]()["$!"]())?d(D,"TableCellVertAlignments")["$key?"](v):m)&&(u=["valign",d(D,"TableCellVertAlignments")["$[]"](v)],g(p,"[]=",a.to_a(u)),u[b(u.length,1)]));k(k(m=t["$[]"](4))?d(D,"TableCellStyles")["$key?"](t["$[]"](4)):
m)&&(u=["style",d(D,"TableCellStyles")["$[]"](t["$[]"](4))],g(p,"[]=",a.to_a(u)),u[b(u.length,1)]);return[p,n]},Ia.$$arity=-2);a.defs(e,"$parse_style_attribute",H=function(e,l){var m,n,p,u,v,H=c,w=c,z=c,x=c,r=c,y=c,C=c,A=c,B=c;null==l&&(l=c);if(k(k(m=k(n=H=e["$[]"](1))?H["$include?"](" ")["$!"]():n)?d(D,"Compliance").$shorthand_property_syntax():m)){m=["style",[],q([],{})];w=m[0];z=m[1];x=m[2];m;r=g(this,"lambda",[],(p=function(){var d=p.$$s||this,e,h=c,m=c;if(k(z["$empty?"]()))return w["$=="]("style")?
c:d.$warn("asciidoctor: WARNING:"+(k(l)?" "+l.$prev_line_info()+":":c)+" invalid empty "+w+" detected in style attribute");h=w;if("role"["$==="](h)||"option"["$==="](h))(k(e=x["$[]"](w))?e:(m=[w,[]],g(x,"[]=",a.to_a(m)),m[b(m.length,1)]))["$<<"](z.$join());else"id"["$==="](h)&&k(x["$key?"]("id"))&&d.$warn("asciidoctor: WARNING:"+(k(l)?" "+l.$prev_line_info()+":":c)+" multiple ids detected in style attribute"),m=[w,z.$join()],g(x,"[]=",a.to_a(m)),m[b(m.length,1)];return z=[]},p.$$s=this,p.$$arity=
0,p));g(H,"each_char",[],(u=function(a){var b,d,e=c;null==a&&(a=c);return k(k(b=k(d=a["$=="]("."))?d:a["$=="]("#"))?b:a["$=="]("%"))?(r.$call(),e=a,"."["$==="](e)?w="role":"#"["$==="](e)?w="id":"%"["$==="](e)?w="option":c):z["$<<"](a)},u.$$s=this,u.$$arity=1,u));if(w["$=="]("style"))return y=["style",H],g(e,"[]=",a.to_a(y)),y[b(y.length,1)];r.$call();k(x["$key?"]("style"))&&(C=(y=["style",x["$[]"]("style")],g(e,"[]=",a.to_a(y)),y[b(y.length,1)]));k(x["$key?"]("id"))&&(y=["id",x["$[]"]("id")],g(e,
"[]=",a.to_a(y)),y[b(y.length,1)]);k(x["$key?"]("role"))&&(y=["role",h(x["$[]"]("role")," ")],g(e,"[]=",a.to_a(y)),y[b(y.length,1)]);k(x["$key?"]("option"))&&(g(A=x["$[]"]("option"),"each",[],(v=function(d){null==d&&(d=c);y=[""+d+"-option",""];g(e,"[]=",a.to_a(y));return y[b(y.length,1)]},v.$$s=this,v.$$arity=1,v)),y=k(B=e["$[]"]("options"))?["options",h(t(A,B.$split(",")),",")]:["options",h(A,",")],g(e,"[]=",a.to_a(y)),y[b(y.length,1)]);return C}y=["style",H];g(e,"[]=",a.to_a(y));return y[b(y.length,
1)]},H.$$arity=-2);a.defs(e,"$adjust_indentation!",ua=function(e,l,n){var p,q,v,H,w,z,x=this,r=c,y=c,C=c;null==l&&(l=0);null==n&&(n=0);if(k(e["$empty?"]()))return c;k(k(p=m(n=n.$to_i(),0))?e.$join()["$include?"](d(D,"TAB")):p)&&(r=h(" ",n),g(e,"map!",[],(q=function(a){var e=q.$$s||this,l,m,p=c;null==a&&(a=c);if(k(a["$empty?"]()))return a;k(a["$start_with?"](d(D,"TAB")))&&(a=g(a,"sub",[d(D,"TabIndentRx")],(l=function(){var a;return h(r,((a=u["~"])===c?c:a["$[]"](0)).$length())},l.$$s=e,l.$$arity=0,
l)));return k(a["$include?"](d(D,"TAB")))?(p=0,a=g(a,"gsub",[d(D,"TabRx")],(m=function(){var a=c,d=c;null==u["~"]&&(u["~"]=c);if((a=t(u["~"].$begin(0),p))["$%"](n)["$=="](0))return p=t(p,b(n,1)),r;(d=b(n,a["$%"](n)))["$=="](1)||(p=t(p,b(d,1)));return h(" ",d)},m.$$s=e,m.$$arity=0,m))):a},q.$$s=x,q.$$arity=1,q)));if(!k(k(p=l)?m(l=l.$to_i(),-1):p))return c;y=c;(function(){var d=a.new_brk();try{return g(e,"each",[],(v=function(e){var g,l=c;null==e&&(e=c);if(k(e["$empty?"]()))return c;if((l=b(e.$length(),
e.$lstrip().$length()))["$=="](0))y=c,a.brk(c,d);else return k(k(g=y)?m(l,y):g)?c:y=l},v.$$s=x,v.$$brk=d,v.$$arity=1,v))}catch(l){if(l===d)return l.$v;throw l;}})();l["$=="](0)?k(y)&&g(e,"map!",[],(H=function(b){null==b&&(b=c);return k(b["$empty?"]())?b:b["$[]"](a.Range.$new(y,-1,!1))},H.$$s=x,H.$$arity=1,H)):(C=h(" ",l),k(y)?g(e,"map!",[],(w=function(b){null==b&&(b=c);return k(b["$empty?"]())?b:t(C,b["$[]"](a.Range.$new(y,-1,!1)))},w.$$s=x,w.$$arity=1,w)):g(e,"map!",[],(z=function(a){null==a&&(a=
c);return k(a["$empty?"]())?a:t(C,a)},z.$$s=x,z.$$arity=1,z)));return c},ua.$$arity=-2);a.defs(e,"$sanitize_attribute_name",za=function(a){return a.$gsub(d(D,"InvalidAttributeNameCharsRx"),"").$downcase()},za.$$arity=1);return(a.defs(e,"$roman_numeral_to_int",Na=function(d){var e,l=c,h=c;d=d.$downcase();l=q(["i","v","x"],{i:1,v:5,x:10});h=0;g(a.Range.$new(0,b(d.$length(),1),!1),"each",[],(e=function(e){var g,p=c;null==e&&(e=c);p=l["$[]"](d["$[]"](a.Range.$new(e,e,!1)));return k(k(g=n(t(e,1),d.$length()))?
m(l["$[]"](d["$[]"](a.Range.$new(t(e,1),t(e,1),!1))),p):g)?h=b(h,p):h=t(h,p)},e.$$s=this,e.$$arity=1,e));return h},Na.$$arity=1),c)&&"roman_numeral_to_int"})(A[0],null,A)}(e[0],e)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var t=[],m=a.nil,n=a.const_get_qualified,e=a.const_get_relative,c=a.module,l=a.klass,d=a.truthy,p=a.hash2,v=a.range,
g=a.send;a.add_stubs("$attr_accessor $root? $expand_path $pwd $start_with? $== $match? $absolute_path? $+ $length $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixify $web_root? $unc? $slice $index $split $shift $delete $[]= $- $* $raise $empty? $system_path $!= $! $dup $each $> $size $pop $fetch $warn $<< $end_with? $uri_prefix $gsub".split(" "));return function(k,t){var w=[c(k,"Asciidoctor")].concat(t);(function(c,$super,k){function t(){}c=t=l(c,$super,"PathResolver",t);var q=c.$$proto,
w=[c].concat(k),x,r,z,A,B,F,G,Q,R,L,S,W,O;q.file_separator=q._partition_path_web=q._partition_path_sys=q.working_dir=m;a.const_set(w[0],"DOT",".");a.const_set(w[0],"DOT_DOT","..");a.const_set(w[0],"DOT_SLASH","./");a.const_set(w[0],"SLASH","/");a.const_set(w[0],"BACKSLASH","\\");a.const_set(w[0],"DOUBLE_SLASH","//");a.const_set(w[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);c.$attr_accessor("file_separator");c.$attr_accessor("working_dir");a.def(c,"$initialize",x=function(a,b){var c;null==a&&(a=m);null==
b&&(b=m);this.file_separator=d(a)?a:d(c=n(n("::","File"),"ALT_SEPARATOR"))?c:n(n("::","File"),"SEPARATOR");d(b)?this.working_dir=d(this["$root?"](b))?b:n("::","File").$expand_path(b):this.working_dir=n("::","File").$expand_path(n("::","Dir").$pwd());return c=[p([],{}),p([],{})],this._partition_path_sys=c[0],this._partition_path_web=c[1],c},x.$$arity=-1);a.def(c,"$absolute_path?",r=function(a){var b;return d(b=a["$start_with?"](e(w,"SLASH")))?b:this.file_separator["$=="](e(w,"BACKSLASH"))?e(w,"WindowsRootRx")["$match?"](a):
this.file_separator["$=="](e(w,"BACKSLASH"))},r.$$arity=1);d(e(w,"RUBY_ENGINE")["$=="]("opal")?n("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):e(w,"RUBY_ENGINE")["$=="]("opal"))?a.def(c,"$root?",z=function(a){var b;return d(b=this["$absolute_path?"](a))?b:a["$start_with?"]("file://","http://","https://")},z.$$arity=1):a.alias(c,"root?","absolute_path?");a.def(c,"$unc?",A=function(a){return a["$start_with?"](e(w,"DOUBLE_SLASH"))},A.$$arity=1);a.def(c,"$web_root?",B=function(a){return a["$start_with?"](e(w,
"SLASH"))},B.$$arity=1);a.def(c,"$descends_from?",F=function(a,c){return c["$=="](a)?0:d(a["$start_with?"](b(c,"/")))?b(c.$length(),1):!1},F.$$arity=2);a.def(c,"$posixify",G=function(a){return d(a["$nil_or_empty?"]())?"":d(a["$include?"](e(w,"BACKSLASH")))?a.$tr(e(w,"BACKSLASH"),e(w,"SLASH")):a},G.$$arity=1);a.alias(c,"posixfy","posixify");a.def(c,"$expand_path",Q=function(b){var c,d=m;c=m;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?m:c[0];c=null==c[1]?m:c[1];b;return this.$join_path(d,c)},
Q.$$arity=1);a.def(c,"$partition_path",R=function(c,k){var l=m,h=m,n=l=m,t=m,l=m;null==k&&(k=m);if(d(l=(h=d(k)?this._partition_path_web:this._partition_path_sys)["$[]"](c)))return l;l=this.$posixify(c);n=d(k)?d(this["$web_root?"](l))?e(w,"SLASH"):d(l["$start_with?"](e(w,"DOT_SLASH")))?e(w,"DOT_SLASH"):m:d(this["$root?"](l))?d(this["$unc?"](l))?e(w,"DOUBLE_SLASH"):d(l["$start_with?"](e(w,"SLASH")))?e(w,"SLASH"):l.$slice(0,b(l.$index(e(w,"SLASH")),1)):d(l["$start_with?"](e(w,"DOT_SLASH")))?e(w,"DOT_SLASH"):
m;t=l.$split(e(w,"SLASH"));n["$=="](e(w,"DOUBLE_SLASH"))?t=t["$[]"](v(2,-1,!1)):d(n)&&t.$shift();t.$delete(e(w,"DOT"));l=[c,[t,n,l]];g(h,"[]=",a.to_a(l));h=l;l=l.length;l="number"===typeof l?l-1:l["$-"](1);return h[l]},R.$$arity=-2);a.def(c,"$join_path",L=function(a,b){null==b&&(b=m);return d(b)?""+b+h(a,e(w,"SLASH")):h(a,e(w,"SLASH"))},L.$$arity=-2);a.def(c,"$system_path",S=function(b,c,f,k){var l,h,t,q=m,u=m,v=h=m,z=m,x=m,D=z=m,r=m;null==c&&(c=m);null==f&&(f=m);null==k&&(k=p([],{}));d(f)&&(d(this["$root?"](f))||
this.$raise(n("::","SecurityError"),"Jail is not an absolute path: "+f),f=this.$posixify(f));d(b["$nil_or_empty?"]())?q=[]:(h=this.$partition_path(b),l=a.to_ary(h),q=null==l[0]?m:l[0],u=null==l[1]?m:l[1],h);if(d(q["$empty?"]())){if(d(c["$nil_or_empty?"]()))return d(f)?f:this.working_dir;if(d(this["$root?"](c))){if(!d(f))return this.$expand_path(c)}else return this.$system_path(c,f,f,k)}if(d(d(l=u)?u["$!="](e(w,"DOT_SLASH")):l)&&(h=this.$join_path(q,u),d(d(l=f["$!"]())?l:h["$start_with?"](f))))return h;
c=d(c["$nil_or_empty?"]())?d(f)?f:this.working_dir:d(this["$root?"](c))?this.$posixify(c):this.$system_path(c,f,f,k);f["$=="](c)?(h=this.$partition_path(f),l=a.to_ary(h),v=null==l[0]?m:l[0],z=null==l[1]?m:l[1],h,x=v.$dup()):(d(f)?(d(c["$start_with?"](f))||this.$raise(n("::","SecurityError"),""+(d(l=k["$[]"]("target_name"))?l:"Start path")+" "+c+" is outside of jail: "+f+" (disallowed in safe mode)"),h=this.$partition_path(c),l=a.to_ary(h),x=null==l[0]?m:l[0],z=null==l[1]?m:l[1],h,h=this.$partition_path(f),
l=a.to_ary(h),v=null==l[0]?m:l[0]):(h=this.$partition_path(c),l=a.to_ary(h),x=null==l[0]?m:l[0]),z=null==l[1]?m:l[1],h);D=x.$dup();r=!1;g(q,"each",[],(t=function(a){var c=t.$$s||this,g;null==a&&(a=m);if(a["$=="](e(w,"DOT_DOT"))){if(d(f)){a=D.$size();var l=v.$size();a="number"===typeof a&&"number"===typeof l?a>l:a["$>"](l);return d(a)?D.$pop():d((d(g=m)?g:k.$fetch("recover",!0))["$!"]())?c.$raise(n("::","SecurityError"),""+(d(g=k["$[]"]("target_name"))?g:"path")+" "+b+" refers to location outside jail: "+
f+" (disallowed in safe mode)"):d(r["$!"]())?(c.$warn("asciidoctor: WARNING: "+(d(g=k["$[]"]("target_name"))?g:"path")+" has illegal reference to ancestor of jail, auto-recovering"),r=!0):m}return D.$pop()}return D["$<<"](a)},t.$$s=this,t.$$arity=1,t));return this.$join_path(D,z)},S.$$arity=-2);a.def(c,"$web_path",W=function(b,c){var f,k,l,h=m,t=m,n=m,p=m,q=m;null==c&&(c=m);b=this.$posixify(b);c=this.$posixify(c);h=m;d(d(f=c["$nil_or_empty?"]())?f:this["$web_root?"](b))||(b=d(c["$end_with?"](e(w,
"SLASH")))?""+c+b:""+c+e(w,"SLASH")+b,d(h=e(w,"Helpers").$uri_prefix(b))&&(b=b["$[]"](a.Range.$new(h.$length(),-1,!1))));k=this.$partition_path(b,!0);f=a.to_ary(k);t=null==f[0]?m:f[0];n=null==f[1]?m:f[1];k;p=[];g(t,"each",[],(l=function(a){var b;null==a&&(a=m);return a["$=="](e(w,"DOT_DOT"))?d(p["$empty?"]())?d(d(b=n)?n["$!="](e(w,"DOT_SLASH")):b)?m:p["$<<"](a):p["$[]"](-1)["$=="](e(w,"DOT_DOT"))?p["$<<"](a):p.$pop():p["$<<"](a)},l.$$s=this,l.$$arity=1,l));d((q=this.$join_path(p,n))["$include?"](" "))&&
(q=q.$gsub(" ","%20"));return d(h)?""+h+q:q},W.$$arity=-2);return(a.def(c,"$relative_path",O=function(a,c){var e;return d(d(e=this["$root?"](a))?a["$start_with?"](c):e)?a.$slice(b(c.$length(),1),a.$length()):a},O.$$arity=2),m)&&"relative_path"})(w[0],null,w)}(t[0],t)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function t(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var e=[],c=a.nil,l=a.const_get_qualified,d=a.const_get_relative,p=a.module,v=a.klass,g=a.truthy,k=a.hash2,q=a.range,w=a.send,u=a.gvars,x=a.hash;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $[] $normalize_lines_from_string $normalize_lines_array $+ $empty? $nil_or_empty? $peek_line $> $process_line $times $shift $read_line $<< $- $unshift_all $has_more_lines? $* $read_lines $unshift $start_with? $length $push $read_lines_until $size $clear $[]= $new $line_info $to_i $fetch $attributes $< $catalog $key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $strip $pop_include $downcase $warn $none? $any? $all? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $resolve_include_path $each $map $/ $concat $to_a $uniq $sort $slice $open $each_line $infinite? $push_include $delete $value? $rindex $force_encoding $chomp $delete_at $nil? $keys $read $uriish? $require_library $normalize_system_path $file? $relative_path $base_dir $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(e,r){var A=[p(e,"Asciidoctor")].concat(r);(function(e,$super,n){function p(){}e=p=v(e,$super,"Reader",p);var u=e.$$proto,x=[e].concat(n),r,D,y,C,A,B,F,O,X,N,ea,da,ga,P,U,ia,V,ha,Z,qa,ma,fa,ka,aa,Y,la,na,wa,Ea,Ca;u.file=u.dir=u.lines=u.process_lines=u.look_ahead=u.unescape_next_line=u.lineno=u.path=u.source_lines=c;(function(b,$super,d){function e(){}b=e=v(b,$super,"Cursor",e);[b].concat(d);var f,k;b.$attr_accessor("file");b.$attr_accessor("dir");b.$attr_accessor("path");b.$attr_accessor("lineno");
a.def(b,"$initialize",f=function(a,b,d,e){null==b&&(b=c);null==d&&(d=c);null==e&&(e=c);this.file=a;this.dir=b;this.path=d;return this.lineno=e},f.$$arity=-2);a.def(b,"$line_info",k=function(){return""+this.$path()+": line "+this.$lineno()},k.$$arity=0);return a.alias(b,"to_s","line_info")})(x[0],null,x);e.$attr_reader("file");e.$attr_reader("dir");e.$attr_reader("path");e.$attr_reader("lineno");e.$attr_reader("source_lines");e.$attr_accessor("process_lines");a.def(e,"$initialize",r=function(b,d,e){var f;
null==b&&(b=c);null==d&&(d=c);null==e&&(e=k([],{}));g(d["$!"]())?(this.file=this.dir=c,this.path="<stdin>",this.lineno=1):g(l("::","String")["$==="](d))?(this.file=d,d=l("::","File").$split(this.file),f=a.to_ary(d),this.dir=null==f[0]?c:f[0],this.path=null==f[1]?c:f[1],d,this.lineno=1):(this.file=d.$file(),this.dir=d.$dir(),this.path=g(f=d.$path())?f:"<stdin>",g(this.file)&&(g(this.dir)||(this.dir=l("::","File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=c)),g(d.$path())||(this.path=l("::",
"File").$basename(this.file))),this.lineno=g(f=d.$lineno())?f:1);this.lines=g(b)?this.$prepare_lines(b,e):[];this.source_lines=this.lines.$dup();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1},r.$$arity=-1);a.def(e,"$prepare_lines",D=function(a,b){null==b&&(b=k([],{}));return g(l("::","String")["$==="](a))?g(b["$[]"]("normalize"))?d(x,"Helpers").$normalize_lines_from_string(a):a.$split(d(x,"LF"),-1):g(b["$[]"]("normalize"))?d(x,"Helpers").$normalize_lines_array(a):a.$dup()},
D.$$arity=-2);a.def(e,"$process_line",y=function(a){g(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},y.$$arity=1);a.def(e,"$has_more_lines?",C=function(){return g(this.lines["$empty?"]())?(this.look_ahead=0,!1):!0},C.$$arity=0);a.def(e,"$empty?",A=function(){return g(this.lines["$empty?"]())?(this.look_ahead=0,!0):!1},A.$$arity=0);a.alias(e,"eof?","empty?");a.def(e,"$next_line_empty?",B=function(){return this.$peek_line()["$nil_or_empty?"]()},B.$$arity=0);a.def(e,"$peek_line",
F=function(a){var b,d=c;null==a&&(a=!1);return g(g(b=a)?b:h(this.look_ahead,0))?g(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](q(1,-1,!1)):this.lines["$[]"](0):g(this.lines["$empty?"]())?(this.look_ahead=0,c):g(d=this.$process_line(this.lines["$[]"](0)))?d:this.$peek_line()},F.$$arity=-1);a.def(e,"$peek_lines",O=function(b,d){var e,f=this,k=c,l=c;null==d&&(d=!1);k=f.look_ahead;l=[];(function(){var k=a.new_brk();try{return w(b,"times",[],(e=function(){var b=e.$$s||this,f=c;null==b.lineno&&
(b.lineno=c);if(g(f=g(d)?b.$shift():b.$read_line()))return l["$<<"](f);g(d)&&(b.lineno=t(b.lineno,1));a.brk(c,k)},e.$$s=f,e.$$brk=k,e.$$arity=0,e))}catch(h){if(h===k)return h.$v;throw h;}})();g(l["$empty?"]())||(f.$unshift_all(l),g(d)&&(f.look_ahead=k));return l},O.$$arity=-2);a.def(e,"$read_line",X=function(){var a;return g(g(a=h(this.look_ahead,0))?a:this["$has_more_lines?"]())?this.$shift():c},X.$$arity=0);a.def(e,"$read_lines",N=function(){for(var a=c,a=[];g(this["$has_more_lines?"]());)a["$<<"](this.$shift());
return a},N.$$arity=0);a.alias(e,"readlines","read_lines");a.def(e,"$read",ea=function(){return m(this.$read_lines(),d(x,"LF"))},ea.$$arity=0);a.def(e,"$advance",da=function(){return g(this.$shift())?!0:!1},da.$$arity=0);a.def(e,"$unshift_line",ga=function(a){this.$unshift(a);return c},ga.$$arity=1);a.alias(e,"restore_line","unshift_line");a.def(e,"$unshift_lines",P=function(a){this.$unshift_all(a);return c},P.$$arity=1);a.alias(e,"restore_lines","unshift_lines");a.def(e,"$replace_next_line",U=function(a){this.$shift();
this.$unshift(a);return!0},U.$$arity=1);a.alias(e,"replace_line","replace_next_line");a.def(e,"$skip_blank_lines",ia=function(){var a=c,d=c;if(g(this["$empty?"]()))return c;for(a=0;g(d=this.$peek_line());)if(g(d["$empty?"]()))this.$shift(),a=b(a,1);else return a},ia.$$arity=0);a.def(e,"$skip_comment_lines",V=function(){var b,d=c,e=c,f=c;if(g(this["$empty?"]()))return[];for(d=[];g(g(b=e=this.$peek_line())?e["$empty?"]()["$!"]():b);)if(g(e["$start_with?"]("//")))if(g(e["$start_with?"]("///")))if(g(g(b=
h(f=e.$length(),3))?e["$=="](m("/",f)):b))d["$<<"](this.$shift()),w(d,"push",a.to_a(this.$read_lines_until(k(["terminator","read_last_line","skip_processing"],{terminator:e,read_last_line:!0,skip_processing:!0}))));else break;else d["$<<"](this.$shift());else break;return d},V.$$arity=0);a.def(e,"$skip_line_comments",ha=function(){var a,b=c,d=c;if(g(this["$empty?"]()))return[];for(b=[];g(g(a=d=this.$peek_line())?d["$empty?"]()["$!"]():a);)if(g(d["$start_with?"]("//")))b["$<<"](this.$shift());else break;
return b},ha.$$arity=0);a.def(e,"$terminate",Z=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();this.look_ahead=0;return c},Z.$$arity=0);a.def(e,"$read_lines_until",qa=function(b){var e,f,l,h,m=qa.$$p,n=m||c,p=c,q=c,u=c,v=c,H=c,z=c,r=c,D=c,y=c,C=c,A=c;null==b&&(b=k([],{}));m&&(qa.$$p=null);p=[];g(b["$[]"]("skip_first_line"))&&this.$shift();g(g(e=this.process_lines)?b["$[]"]("skip_processing"):e)?(this.process_lines=!1,q=!0):q=!1;g(u=b["$[]"]("terminator"))?H=v=!1:(v=b["$[]"]("break_on_blank_lines"),
H=b["$[]"]("break_on_list_continuation"));z=b["$[]"]("skip_line_comments");for(y=D=r=!1;g(g(f=y["$!"]())?C=this.$read_line():f);)y=function(){for(;g(!0);)return g(g(l=u)?C["$=="](u):l)||g(g(l=v)?C["$empty?"]():l)?!0:g(g(l=g(h=H)?r:h)?C["$=="](d(x,"LIST_CONTINUATION")):l)?(A=["preserve_last_line",!0],w(b,"[]=",a.to_a(A)),A[t(A.length,1)],!0):g((l=n!==c)?a.yield1(n,C):n!==c)?!0:!1;return c}(),g(y)?(g(b["$[]"]("read_last_line"))&&(p["$<<"](C),r=!0),g(b["$[]"]("preserve_last_line"))&&(this.$unshift(C),
D=!0)):g(g(f=g(l=z)?C["$start_with?"]("//"):l)?C["$start_with?"]("///")["$!"]():f)||(p["$<<"](C),r=!0);g(q)&&(this.process_lines=!0,g(g(e=D)?u["$!"]():e)&&(this.look_ahead=t(this.look_ahead,1)));return p},qa.$$arity=-1);a.def(e,"$shift",ma=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=t(this.look_ahead,1));return this.lines.$shift()},ma.$$arity=0);a.def(e,"$unshift",fa=function(a){this.lineno=t(this.lineno,1);this.look_ahead=b(this.look_ahead,1);return this.lines.$unshift(a)},
fa.$$arity=1);a.def(e,"$unshift_all",ka=function(c){this.lineno=t(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());return w(this.lines,"unshift",a.to_a(c))},ka.$$arity=1);a.def(e,"$cursor",aa=function(){return d(x,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},aa.$$arity=0);a.def(e,"$line_info",Y=function(){return""+this.path+": line "+this.lineno},Y.$$arity=0);a.alias(e,"next_line_info","line_info");a.def(e,"$prev_line_info",la=function(){return""+this.path+": line "+
t(this.lineno,1)},la.$$arity=0);a.def(e,"$lines",na=function(){return this.lines.$dup()},na.$$arity=0);a.def(e,"$string",wa=function(){return m(this.lines,d(x,"LF"))},wa.$$arity=0);a.def(e,"$source",Ea=function(){return m(this.source_lines,d(x,"LF"))},Ea.$$arity=0);return(a.def(e,"$to_s",Ca=function(){return this.$line_info()},Ca.$$arity=0),c)&&"to_s"})(A[0],null,A);(function(e,$super,p){function z(){}e=z=v(e,$super,"PreprocessorReader",z);var r=e.$$proto,D=[e].concat(p),y,A,B,F,L,S,W,O,X,N,ea,da,
ga,P,U,ia,V,ha;r.document=r.lineno=r.process_lines=r.look_ahead=r.skipping=r.include_stack=r.conditional_stack=r.path=r.include_processor_extensions=r.maxdepth=r.dir=r.path_resolver=r.lines=r.file=r.includes=r.unescape_next_line=c;e.$attr_reader("include_stack");e.$attr_reader("includes");a.def(e,"$initialize",y=function(b,d,e,f){var l=y.$$p,h=c;null==d&&(d=c);null==e&&(e=c);null==f&&(f=k([],{}));l&&(y.$$p=null);this.document=b;w(this,a.find_super_dispatcher(this,"initialize",y,!1),[d,e,f],null);
h=b.$attributes().$fetch("max-include-depth",64).$to_i();g("number"===typeof h?0>h:h["$<"](0))&&(h=0);this.maxdepth=k(["abs","rel"],{abs:h,rel:h});this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=c},y.$$arity=-2);a.def(e,"$prepare_lines",A=function(e,l){var h,n,p=A.$$p,q=c,u=c,v=c,z=c,x=c,r=v=q=c;null==l&&(l=k([],{}));p&&(A.$$p=null);v=0;r=arguments.length;for(q=Array(r);v<r;v++)q[v]=arguments[v];
q=w(this,a.find_super_dispatcher(this,"prepare_lines",A,!1),q,p);g(g(h=this.document)?this.document.$attributes()["$key?"]("skip-front-matter"):h)&&g(u=this["$skip_front_matter!"](q))&&(v=["front-matter",m(u,d(D,"LF"))],w(this.document.$attributes(),"[]=",a.to_a(v)),v[t(v.length,1)]);if(g(l.$fetch("condense",!0))){for(;g(g(n=z=q["$[]"](0))?z["$empty?"]():n);)g(n=q.$shift())?this.lineno=b(this.lineno,1):n;for(;g(g(n=x=q["$[]"](-1))?x["$empty?"]():n);)q.$pop()}if(g(l["$[]"]("indent")))d(D,"Parser")["$adjust_indentation!"](q,
l["$[]"]("indent"),this.document.$attr("tabsize"));return q},A.$$arity=-2);a.def(e,"$process_line",B=function(a){var e,k;if(!g(this.process_lines))return a;if(g(a["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),a;if(g(g(e=g(k=a["$end_with?"]("]"))?a["$start_with?"]("[")["$!"]():k)?a["$include?"]("::"):e)){if(g(g(e=a["$include?"]("if"))?d(D,"ConditionalDirectiveRx")["$=~"](a):e)){if(((e=u["~"])===c?c:e["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,
1),a["$[]"](q(1,-1,!1));if(g(this.$preprocess_conditional_directive((e=u["~"])===c?c:e["$[]"](2),(e=u["~"])===c?c:e["$[]"](3),(e=u["~"])===c?c:e["$[]"](4),(e=u["~"])===c?c:e["$[]"](5))))return this.$shift(),c;this.look_ahead=b(this.look_ahead,1);return a}if(g(this.skipping))return this.$shift(),c;if(g(g(e=a["$start_with?"]("inc","\\inc"))?d(D,"IncludeDirectiveRx")["$=~"](a):e)){if(((e=u["~"])===c?c:e["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),a["$[]"](q(1,
-1,!1));if(g(this.$preprocess_include_directive((e=u["~"])===c?c:e["$[]"](2),((e=u["~"])===c?c:e["$[]"](3)).$strip())))return c;this.look_ahead=b(this.look_ahead,1);return a}this.look_ahead=b(this.look_ahead,1);return a}if(g(this.skipping))return this.$shift(),c;this.look_ahead=b(this.look_ahead,1);return a},B.$$arity=1);a.def(e,"$has_more_lines?",F=function(){return g(this.$peek_line())?!0:!1},F.$$arity=0);a.def(e,"$empty?",L=function(){return g(this.$peek_line())?!1:!0},L.$$arity=0);a.alias(e,"eof?",
"empty?");a.def(e,"$peek_line",S=function(b){var d=S.$$p,e=c,f=e=c,k=c;null==b&&(b=!1);d&&(S.$$p=null);f=0;k=arguments.length;for(e=Array(k);f<k;f++)e[f]=arguments[f];if(g(e=w(this,a.find_super_dispatcher(this,"peek_line",S,!1),e,d)))return e;if(g(this.include_stack["$empty?"]()))return c;this.$pop_include();return this.$peek_line(b)},S.$$arity=-1);a.def(e,"$preprocess_conditional_directive",W=function(a,b,e,f){var l,h,m,n,p,q,v,z=c,x=c,r=c,y=c,C=y=z=c;g(z=b["$empty?"]())||(b=b.$downcase());if(g(g(l=
g(h=z)?g(m=a["$=="]("ifdef"))?m:a["$=="]("ifndef"):h)?l:g(h=f)?a["$=="]("endif"):h))return!1;if(a["$=="]("endif"))return g(this.conditional_stack["$empty?"]())?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"):g(g(l=z)?l:b["$=="]((x=this.conditional_stack["$[]"](-1))["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=g(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$warn("asciidoctor: ERROR: "+
this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+x["$[]"]("target")+"[]"),!0;if(g(this.skipping))r=!1;else if(y=a,"ifdef"["$==="](y))y=e,r=","["$==="](y)?w(b.$split(",",-1),"none?",[],(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},n.$$s=this,n.$$arity=1,n)):"+"["$==="](y)?w(b.$split("+",-1),"any?",[],(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)["$!"]()},
p.$$s=this,p.$$arity=1,p)):this.document.$attributes()["$key?"](b)["$!"]();else if("ifndef"["$==="](y))y=e,r=","["$==="](y)?w(b.$split(",",-1),"any?",[],(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},q.$$s=this,q.$$arity=1,q)):"+"["$==="](y)?w(b.$split("+",-1),"all?",[],(v=function(a){var b=v.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},v.$$s=this,v.$$arity=1,v)):
this.document.$attributes()["$key?"](b);else if("ifeval"["$==="](y)){if(!g(g(l=z)?d(D,"EvalExpressionRx")["$=~"](f.$strip()):l))return!1;l=[(h=u["~"])===c?c:h["$[]"](1),(h=u["~"])===c?c:h["$[]"](2),(h=u["~"])===c?c:h["$[]"](3)];z=l[0];y=l[1];C=l[2];l;z=this.$resolve_expr_val(z);C=this.$resolve_expr_val(C);r=y["$=="]("!=")?z.$send("==",C):z.$send(y.$to_sym(),C)["$!"]()}g(g(l=a["$=="]("ifeval"))?l:f["$!"]())?(g(r)&&(this.skipping=!0),this.conditional_stack["$<<"](k(["target","skip","skipping"],{target:b,
skip:r,skipping:this.skipping}))):g(g(l=this.skipping)?l:r)||(this.$replace_next_line(f.$rstrip()),this.$unshift(""),g(f["$start_with?"]("include::"))&&(this.look_ahead=t(this.look_ahead,1)));return!0},W.$$arity=4);a.def(e,"$preprocess_include_directive",O=function(e,p){var q,v,z,r,y,A,B,G=this,F=c,J=c,O=c,L=O=c,W=c,R=c,ba=c,S=c,Q=c,T=c,N=c,P=c,X=c,H=c,ua=c,za=c,Na=c,Ja=c,M=c,ca=c,V=c,da=c,ea=c,ga=c;if(g(g(q=(F=e)["$include?"](d(D,"ATTR_REF_HEAD")))?(F=G.document.$sub_attributes(e,k(["attribute_missing"],
{attribute_missing:"drop-line"})))["$empty?"]():q))return G.$shift(),G.document.$attributes().$fetch("attribute-missing",d(D,"Compliance").$attribute_missing())["$=="]("skip")&&G.$unshift("Unresolved directive in "+G.path+" - include::"+e+"["+p+"]"),!0;if(g(g(q=G["$include_processors?"]())?J=w(G.include_processor_extensions,"find",[],(v=function(a){null==a&&(a=c);return a.$instance()["$handles?"](F)},v.$$s=G,v.$$arity=1,v)):q))return G.$shift(),J.$process_method()["$[]"](G.document,G,F,d(D,"AttributeList").$new(p).$parse()),
!0;if(g(n(G.document.$safe(),l(d(D,"SafeMode"),"SECURE"))))return G.$replace_next_line("link:"+F+"[]");if(g(h(O=G.maxdepth["$[]"]("abs"),0))){if(g(n(G.include_stack.$size(),O)))return G.$warn("asciidoctor: ERROR: "+G.$line_info()+": maximum include depth of "+G.maxdepth["$[]"]("rel")+" exceeded"),c;O=g(p["$empty?"]())?k([],{}):d(D,"AttributeList").$new(p).$parse();v=G.$resolve_include_path(F,p,O);q=a.to_ary(v);L=null==q[0]?c:q[0];W=null==q[1]?c:q[1];R=null==q[2]?c:q[2];v;if(!g(W))return L;ba=S=c;
g(O["$empty?"]())||(g(O["$key?"]("lines"))?(ba=[],w(O["$[]"]("lines").$split(d(D,"DataDelimiterRx")),"each",[],(z=function(b){var d=z.$$s||this,e,f=c,k=c;null==b&&(b=c);return g(b["$include?"](".."))?(b=w(b.$split("..",2),"map",[],(e=function(a){null==a&&(a=c);return a.$to_i()},e.$$s=d,e.$$arity=1,e)),e=a.to_ary(b),f=null==e[0]?c:e[0],k=null==e[1]?c:e[1],b,k["$=="](-1)?(ba["$<<"](f),ba["$<<"](1/0)):ba.$concat(l("::","Range").$new(f,k).$to_a())):ba["$<<"](b.$to_i())},z.$$s=G,z.$$arity=1,z)),ba=g(ba["$empty?"]())?
c:ba.$sort().$uniq()):g(O["$key?"]("tag"))?g((Q=O["$[]"]("tag"))["$empty?"]())||(g(Q["$start_with?"]("!"))?Q["$=="]("!")||(S=x(Q.$slice(1,Q.$length()),!1)):S=x(Q,!0)):g(O["$key?"]("tags"))&&(S=k([],{}),w(O["$[]"]("tags").$split(d(D,"DataDelimiterRx")),"each",[],(r=function(b){var d=c;null==b&&(b=c);if(g(b["$empty?"]()))return c;if(g(b["$start_with?"]("!"))){if(b["$=="]("!"))return c;d=[b.$slice(1,b.$length()),!1];w(S,"[]=",a.to_a(d));return d[t(d.length,1)]}d=[b,!0];w(S,"[]=",a.to_a(d));return d[t(d.length,
1)]},r.$$s=G,r.$$arity=1,r)),g(S["$empty?"]())&&(S=c)));if(g(ba)){q=[[],c,0];T=q[0];N=q[1];P=q[2];q;try{(function(){var d=a.new_brk();try{return w(G,"open",[L,"r"],(y=function(d){var e=y.$$s||this,k;null==d&&(d=c);return function(){var h=a.new_brk();try{return w(d,"each_line",[],(k=function(d){var e,k=c;null==d&&(d=c);P=b(P,1);k=ba["$[]"](0);if(g(g(e=l("::","Float")["$==="](k))?k["$infinite?"]():e))return N=g(e=N)?e:P,T["$<<"](d);P["$=="](k)&&(N=g(e=N)?e:P,T["$<<"](d),ba.$shift());if(g(ba["$empty?"]()))a.brk(c,
h);else return c},k.$$s=e,k.$$brk=h,k.$$arity=1,k))}catch(m){if(m===h)return m.$v;throw m;}}()},y.$$s=G,y.$$brk=d,y.$$arity=1,y))}catch(e){if(e===d)return e.$v;throw e;}})()}catch(U){if(a.rescue(U,[d(D,"StandardError")]))try{return G.$warn("asciidoctor: WARNING: "+G.$line_info()+": include "+W+" not readable: "+L),G.$replace_next_line("Unresolved directive in "+G.path+" - include::"+F+"["+p+"]")}finally{a.pop_exception()}else throw U;}G.$shift();g(N)&&G.$push_include(T,L,R,N,O)}else if(g(S)){q=[[],
c,0,[],l("::","Set").$new(),c];T=q[0];N=q[1];P=q[2];X=q[3];H=q[4];ua=q[5];q;g(S["$key?"]("**"))?g(S["$key?"]("*"))?(za=Na=S.$delete("**"),Ja=S.$delete("*")):za=Na=Ja=S.$delete("**"):(za=Na=S["$value?"](!0)["$!"](),Ja=S.$delete("*"));g(g(q=M=L.$rindex("."))?ca=d(D,"CIRCUMFIX_COMMENTS")["$[]"](L.$slice(M,L.$length())):q)&&(V=t((da="[] "+ca["$[]"]("suffix")).$length(),2));try{w(G,"open",[L,"r"],(A=function(e){var k=A.$$s||this,h;null==e&&(e=c);return w(e,"each_line",[],(h=function(e){var k=h.$$s||this,
m,n,p,q,v,z=c,r=c,x=c;null==e&&(e=c);P=b(P,1);g(d(D,"FORCE_ENCODING"))&&e.$force_encoding(l(l("::","Encoding"),"UTF_8"));return g(g(m=g(n=(z=e.$chomp())["$end_with?"]("[]"))?n:g(p=g(q=da)?z["$end_with?"](da):q)?z=z.$slice(0,t(z.$length(),V)):p)?d(D,"TagDirectiveRx")["$=~"](z):m)?g((m=u["~"])===c?c:m["$[]"](1))?(r=(m=u["~"])===c?c:m["$[]"](2))["$=="](ua)?(X.$pop(),n=g(X["$empty?"]())?[c,Na]:X["$[]"](-1),m=a.to_ary(n),ua=null==m[0]?c:m[0],za=null==m[1]?c:m[1],n):g(S["$key?"](r))?g(x=w(X,"rindex",[],
(v=function(a,b){null==a&&(a=c);return a["$=="](r)},v.$$s=k,v.$$arity=2,v)))?(x["$=="](0)?X.$shift():X.$delete_at(x),k.$warn("asciidoctor: WARNING: "+F+": line "+P+": mismatched end tag in include: expected "+ua+", found "+r)):k.$warn("asciidoctor: WARNING: "+F+": line "+P+": unexpected end tag in include: "+r):c:g(S["$key?"](r=(m=u["~"])===c?c:m["$[]"](2)))?(H["$<<"](r),X["$<<"]([ua=r,za=S["$[]"](r)])):g(Ja["$nil?"]()["$!"]())?(za=g(g(m=ua)?za["$!"]():m)?!1:Ja,X["$<<"]([ua=r,za])):c:g(za)?(N=g(m=
N)?m:P,T["$<<"](e)):c},h.$$s=k,h.$$arity=1,h))},A.$$s=G,A.$$arity=1,A))}catch(U){if(a.rescue(U,[d(D,"StandardError")]))try{return G.$warn("asciidoctor: WARNING: "+G.$line_info()+": include "+W+" not readable: "+L),G.$replace_next_line("Unresolved directive in "+G.path+" - include::"+F+"["+p+"]")}finally{a.pop_exception()}else throw U;}g((ea=t(S.$keys().$to_a(),H.$to_a()))["$empty?"]())||G.$warn("asciidoctor: WARNING: "+G.$line_info()+": tag"+(g(h(ea.$size(),1))?"s":c)+" '"+m(ea,",")+"' not found in include "+
W+": "+L);G.$shift();g(N)&&G.$push_include(T,L,R,N,O)}else try{ga=function(){return W["$=="]("file")?l("::","IO").$read(L):w(G,"open",[L,"r"],(B=function(a){null==a&&(a=c);return a.$read()},B.$$s=G,B.$$arity=1,B))}(),G.$shift(),G.$push_include(ga,L,R,1,O)}catch(U){if(a.rescue(U,[d(D,"StandardError")]))try{return G.$warn("asciidoctor: WARNING: "+G.$line_info()+": include "+W+" not readable: "+L),G.$replace_next_line("Unresolved directive in "+G.path+" - include::"+F+"["+p+"]")}finally{a.pop_exception()}else throw U;
}return!0}return!1},O.$$arity=2);a.def(e,"$resolve_include_path",X=function(a,b,e){var f,h,m=e=c;if(g(d(D,"Helpers")["$uriish?"](a))){if(!g(this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+a+"["+b+"]");g(this.document.$attributes()["$key?"]("cache-uri"))?g((f=l("::","OpenURI","skip_raise"))&&l(f,"Cache","skip_raise")?"constant":c)||d(D,"Helpers").$require_library("open-uri/cached","open-uri-cached"):g(l("::","RUBY_ENGINE_OPAL")["$!"]())&&l("::","OpenURI");
return[a,"uri",a]}e=this.document.$normalize_system_path(a,this.dir,c,k(["target_name"],{target_name:"include file"}));if(!g(l("::","File")["$file?"](e)))return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+e),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+a+"["+b+"]");m=(this.path_resolver=g(h=this.path_resolver)?h:d(D,"PathResolver").$new()).$relative_path(e,this.document.$base_dir());return[e,"file",m]},X.$$arity=3);a.def(e,"$push_include",
N=function(a,e,h,m,n){var p=c,p=c;null==e&&(e=c);null==h&&(h=c);null==m&&(m=1);null==n&&(n=k([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);g(e)?(this.file=e,this.dir=d(D,"File").$dirname(e),this.process_lines=d(D,"ASCIIDOC_EXTENSIONS")["$[]"](l("::","File").$extname(e))):(this.file=c,this.dir=".",this.process_lines=!0);if(g(h))this.includes["$<<"](d(D,"Helpers").$rootname(this.path=h));else this.path="<stdin>";this.lineno=
m;g(n["$key?"]("depth"))&&(p=n["$[]"]("depth").$to_i(),g("number"===typeof p?0>=p:p["$<="](0))&&(p=1),this.maxdepth=k(["abs","rel"],{abs:b(t(this.include_stack.$size(),1),p),rel:p}));if(g((this.lines=this.$prepare_lines(a,k(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:n["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(g(n["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+n["$[]"]("leveloffset"));this.lines["$<<"]("");if(g(p=
this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+p);else this.lines["$<<"](":leveloffset!:");this.lineno=t(this.lineno,2)}this.look_ahead=0}return this},N.$$arity=-2);a.def(e,"$pop_include",ea=function(){var b,d;g(h(this.include_stack.$size(),0))&&(d=this.include_stack.$pop(),b=a.to_ary(d),this.lines=null==b[0]?c:b[0],this.file=null==b[1]?c:b[1],this.dir=null==b[2]?c:b[2],this.path=null==b[3]?c:b[3],this.lineno=null==b[4]?c:b[4],this.maxdepth=null==b[5]?c:b[5],this.process_lines=
null==b[6]?c:b[6],d,this.look_ahead=0);return c},ea.$$arity=0);a.def(e,"$include_depth",da=function(){return this.include_stack.$size()},da.$$arity=0);a.def(e,"$exceeded_max_depth?",ga=function(){var a,b=c;return g(g(a=h(b=this.maxdepth["$[]"]("abs"),0))?n(this.include_stack.$size(),b):a)?this.maxdepth["$[]"]("rel"):!1},ga.$$arity=0);a.def(e,"$shift",P=function(){var b=P.$$p,d=c,e=c,f=c;b&&(P.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return g(this.unescape_next_line)?
(this.unescape_next_line=!1,w(this,a.find_super_dispatcher(this,"shift",P,!1),d,b)["$[]"](q(1,-1,!1))):w(this,a.find_super_dispatcher(this,"shift",P,!1),d,b)},P.$$arity=0);a.def(e,"$skip_front_matter!",U=function(d,e){var k,l=c,h=c;null==e&&(e=!0);l=c;if(d["$[]"](0)["$=="]("---")){h=d.$dup();l=[];d.$shift();g(e)&&(this.lineno=b(this.lineno,1));for(;g(g(k=d["$empty?"]()["$!"]())?d["$[]"](0)["$!="]("---"):k);)l["$<<"](d.$shift()),g(e)&&(this.lineno=b(this.lineno,1));g(d["$empty?"]())?(w(d,"unshift",
a.to_a(h)),g(e)&&(this.lineno=0),l=c):(d.$shift(),g(e)&&(this.lineno=b(this.lineno,1)))}return l},U.$$arity=-2);a.def(e,"$resolve_expr_val",ia=function(a){var b,e,f=c;g(g(b=g(e=a["$start_with?"]('"'))?a["$end_with?"]('"'):e)?b:g(e=a["$start_with?"]("'"))?a["$end_with?"]("'"):e)?(f=!0,a=a["$[]"](q(1,-1,!0))):f=!1;g(a["$include?"](d(D,"ATTR_REF_HEAD")))&&(a=this.document.$sub_attributes(a,k(["attribute_missing"],{attribute_missing:"drop"})));return g(f)?a:g(a["$empty?"]())?c:a["$=="]("true")?!0:a["$=="]("false")?
!1:g(a.$rstrip()["$empty?"]())?" ":g(a["$include?"]("."))?a.$to_f():a.$to_i()},ia.$$arity=1);a.def(e,"$include_processors?",V=function(){var a;return g(this.include_processor_extensions["$nil?"]())?g(g(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},V.$$arity=0);return(a.def(e,
"$to_s",ha=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+m(w(this.include_stack,"map",[],(a=function(a){null==a&&(a=c);return a.$to_s()},a.$$s=this,a.$$arity=1,a)),", ")+"]}>"},ha.$$arity=0),c)&&"to_s"})(A[0],d(A,"Reader"),A)}(e[0],e)};Opal.modules["asciidoctor/section"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}
function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var n=[],m=a.nil,p=a.const_get_relative,e=a.module,c=a.klass,l=a.send,d=a.truthy,w=a.hash2;a.add_stubs("$attr_accessor $attr_reader $+ $level $> $== $context $special $generate_id $title $sectnum $reftext $! $empty? $=== $sprintf $sub_quotes $compat_mode $[] $attributes $enumerate_section $class $object_id $inspect $size $gsub $downcase $tr_s $end_with? $chop $start_with? $slice $length $key? $catalog $unique_id_start_index".split(" "));
return function(n,g){var k=[e(n,"Asciidoctor")].concat(g);(function(e,$super,k){function g(){}e=g=c(e,$super,"Section",g);var n=e.$$proto,t=[e].concat(k),v,r,x,A,z,B,F;n.level=n.document=n.parent=n.number=n.numbered=n.sectname=n.title=n.blocks=m;e.$attr_accessor("index");e.$attr_accessor("sectname");e.$attr_accessor("special");e.$attr_accessor("numbered");e.$attr_reader("caption");a.def(e,"$initialize",v=function(c,e,k,g){var n,t,p=v.$$p;null==c&&(c=m);null==e&&(e=m);null==k&&(k=!0);null==g&&(g=w([],
{}));p&&(v.$$p=null);l(this,a.find_super_dispatcher(this,"initialize",v,!1),[c,"section",g],null);this.level=d(e)?e:d(c)?b(c.$level(),1):1;this.numbered=d(n=k)?h(this.level,0):n;this.special=d(n=d(t=c)?c.$context()["$=="]("section"):t)?c.$special():n;this.index=0;return this.number=1},v.$$arity=-1);a.alias(e,"name","title");a.def(e,"$generate_id",r=function(){return p(t,"Section").$generate_id(this.$title(),this.document)},r.$$arity=0);a.def(e,"$sectnum",x=function(a,b){var c,e,f;null==a&&(a=".");
null==b&&(b=m);b=d(c=b)?c:b["$=="](!1)?"":a;return d(d(c=d(e=d(f=this.level)?h(this.level,1):f)?this.parent:e)?this.parent.$context()["$=="]("section"):c)?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b},x.$$arity=-1);a.def(e,"$xreftext",A=function(a){var b,c=m,e=m,f=m,k=e=m;null==a&&(a=m);d(d(b=c=this.$reftext())?c["$empty?"]()["$!"]():b)?b=c:d(a)?(d(this.numbered)?(e=a,"full"["$==="](e)?(e=d(d(b=(f=this.sectname)["$=="]("chapter"))?b:f["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),
this.$title()):this.$sprintf(this.$sub_quotes(d(this.document.$compat_mode())?"``%s''":'"`%s`"'),this.$title()),a=d(k=this.document.$attributes()["$[]"](""+f+"-refsig"))?""+k+" "+this.$sectnum(".",",")+" "+e:""+this.$sectnum(".",",")+" "+e):a="short"["$==="](e)?d(k=this.document.$attributes()["$[]"](""+this.sectname+"-refsig"))?""+k+" "+this.$sectnum(".",""):this.$sectnum(".",""):d(d(b=(f=this.sectname)["$=="]("chapter"))?b:f["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):
this.$title()):a=d(d(b=(f=this.sectname)["$=="]("chapter"))?b:f["$=="]("appendix"))?this.$sprintf(this.$sub_quotes("_%s_"),this.$title()):this.$title(),b=a):b=this.$title();return b},A.$$arity=-1);a.def(e,"$<<",z=function(b){var c=z.$$p,d=m,e=m,f=m;c&&(z.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$enumerate_section(b);return l(this,a.find_super_dispatcher(this,"<<",z,!1),d,c)},z.$$arity=1);a.def(e,"$to_s",B=function(){var b=B.$$p,
c=m,e=c=m,f=m;b&&(B.$$p=null);e=0;f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];return d(this.title)?(c=d(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+c.$inspect()+", blocks: "+this.blocks.$size()+"}>"):l(this,a.find_super_dispatcher(this,"to_s",B,!1),c,b)},B.$$arity=0);return(a.defs(e,"$generate_id",F=function(a,c){var e,k=m,l=m,g=m,h=g=k=m,n=m,k=c.$attributes(),l=d(e=k["$[]"]("idseparator"))?
e:"_",g=d(e=k["$[]"]("idprefix"))?e:"_",k=""+g+a.$downcase().$gsub(p(t,"InvalidSectionIdCharsRx"),l);if(!d(l["$empty?"]())&&(k=k.$tr_s(l,l),d(k["$end_with?"](l))&&(k=k.$chop()),d(g["$empty?"]())))for(;d(k["$start_with?"](l));)k=k.$slice(1,k.$length());if(d(c.$catalog()["$[]"]("ids")["$key?"](k))){e=[c.$catalog()["$[]"]("ids"),p(t,"Compliance").$unique_id_start_index()];g=e[0];h=e[1];for(e;d(g["$key?"](n=""+k+l+h));)h=b(h,1);return n}return k},F.$$arity=2),m)&&"generate_id"})(k[0],p(k,"AbstractBlock"),
k)}(n[0],n)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],h=a.nil,n=a.const_get_qualified,m=a.const_get_relative,p=a.module,e=a.klass,c=a.truthy,l=a.hash2,d=a.send;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $sub $css $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(b,f){var g=[p(b,"Asciidoctor")].concat(f);
(function(b,$super,f){function g(){}var p=g=e(b,$super,"Stylesheets",g);b=p.$$proto;var v=[p].concat(f),w,r,x,y,C,z,A,B,F,G,Q,R,L,S;b.primary_stylesheet_data=b.coderay_stylesheet_data=b.pygments_stylesheet_data=h;a.const_set(v[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(v[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(v[0],"STYLESHEETS_DATA_PATH",n("::","File").$join(m(v,"DATA_PATH"),"stylesheets"));p.__instance__=p.$new();a.defs(p,"$instance",w=function(){null==this.__instance__&&
(this.__instance__=h);return this.__instance__},w.$$arity=0);a.def(p,"$primary_stylesheet_name",r=function(){return m(v,"DEFAULT_STYLESHEET_NAME")},r.$$arity=0);a.def(p,"$primary_stylesheet_data",x=function(){var b=a.const_get_relative([],"File"),c;c=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?"node"===b.$basename(__dirname)&&"dist"===b.$basename(b.$dirname(__dirname))?b.$join(b.$dirname(__dirname),"css"):b.$join(__dirname,"css"):a.const_get_relative([],"JAVASCRIPT_ENGINE")["$=="]("nashorn")?
"nashorn"===b.$basename(__DIR__)&&"dist"===b.$basename(b.$dirname(__DIR__))?b.$join(b.$dirname(__DIR__),"css"):b.$join(__DIR__,"css"):"css";return!1!==($a=p.primary_stylesheet_data)&&$a!==h&&null!=$a?$a:p.primary_stylesheet_data=a.const_get_relative([],"IO").$read(b.$join(c,"asciidoctor.css")).$chomp()},x.$$arity=0);a.def(p,"$embed_primary_stylesheet",y=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},y.$$arity=0);a.def(p,"$write_primary_stylesheet",C=function(a){null==a&&
(a=".");return n("::","IO").$write(n("::","File").$join(a,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},C.$$arity=-1);a.def(p,"$coderay_stylesheet_name",z=function(){return"coderay-asciidoctor.css"},z.$$arity=0);a.def(p,"$coderay_stylesheet_data",A=function(){var a;return this.coderay_stylesheet_data=c(a=this.coderay_stylesheet_data)?a:n("::","IO").$read(n("::","File").$join(m(v,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},A.$$arity=0);a.def(p,"$embed_coderay_stylesheet",
B=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},B.$$arity=0);a.def(p,"$write_coderay_stylesheet",F=function(a){null==a&&(a=".");return n("::","IO").$write(n("::","File").$join(a,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},F.$$arity=-1);a.def(p,"$pygments_stylesheet_name",G=function(a){var b;null==a&&(a=h);return"pygments-"+(c(b=a)?b:m(v,"DEFAULT_PYGMENTS_STYLE"))+".css"},G.$$arity=-1);a.def(p,"$pygments_stylesheet_data",Q=function(b){var e,f;e=h;
null==b&&(b=h);return c(this.$load_pygments())?(c(e=(this.pygments_stylesheet_data=c(f=this.pygments_stylesheet_data)?f:l([],{}))["$[]"](c(f=b)?f:m(v,"DEFAULT_PYGMENTS_STYLE")))?b=e:(e=[c(f=b)?f:m(v,"DEFAULT_PYGMENTS_STYLE"),n("::","Pygments").$css(".listingblock .pygments",l(["classprefix","style"],{classprefix:"tok-",style:c(f=b)?f:m(v,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],d(this.pygments_stylesheet_data=c(f=this.pygments_stylesheet_data)?
f:l([],{}),"[]=",a.to_a(e)),b=e,f=e.length,f="number"===typeof f?f-1:f["$-"](1),b=b[f]),b):"/* Pygments styles disabled. Pygments is not available. */"},Q.$$arity=-1);a.def(p,"$embed_pygments_stylesheet",R=function(a){null==a&&(a=h);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},R.$$arity=-1);a.def(p,"$write_pygments_stylesheet",L=function(a,b){null==a&&(a=".");null==b&&(b=h);return n("::","IO").$write(n("::","File").$join(a,this.$pygments_stylesheet_name(b)),this.$pygments_stylesheet_data(b))},
L.$$arity=-1);return(a.def(p,"$load_pygments",S=function(){return c(n("::","Pygments","skip_raise")?"constant":h)?!0:m(v,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},S.$$arity=0),h)&&"load_pygments"})(g[0],null,g)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function n(a,b){return"number"===typeof a&&
"number"===typeof b?a-b:a["$-"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],l=a.nil,d=a.const_get_qualified,w=a.const_get_relative,v=a.module,g=a.klass,k=a.send,q=a.truthy,r=a.hash2,u=a.range;a.add_stubs("$attr_accessor $attr_reader $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $shift $style= $head= $pop $foot= $update_attributes $parent $header_row? $table $delete $! $rstrip $start_with? $slice $length $strip $split $include? $readlines $unshift $nil? $apply_subs $convert $map $text $to_s $to_set $cursor $nested? $document $warn $prev_line_info $nil_or_empty? $escape $columns $match $pre_match $post_match $chop $buffer $end_with? $gsub $push_cellspec $cell_open? $close_cell $advance $take_cellspec $line_info $squeeze $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" "));
return function(c,x){var A=[v(c,"Asciidoctor")].concat(x);(function(c,$super,d){function u(){}c=u=g(c,$super,"Table",u);var v=c.$$proto,r=[c].concat(d),x,D,A,B,F;v.attributes=v.document=v.has_header_option=v.rows=v.columns=l;(function(b,$super,c){function d(){}b=d=g(b,$super,"Rows",d);var e=b.$$proto;[b].concat(c);var f,k;e.head=e.foot=e.body=l;b.$attr_accessor("head","foot","body");a.def(b,"$initialize",f=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=
c},f.$$arity=-1);a.alias(b,"[]","send");return(a.def(b,"$by_section",k=function(){return[["head",this.head],["foot",this.foot],["body",this.body]]},k.$$arity=0),l)&&"by_section"})(r[0],null,r);c.$attr_accessor("columns");c.$attr_accessor("rows");c.$attr_accessor("has_header_option");c.$attr_reader("caption");a.def(c,"$initialize",x=function(c,d){var e,g,v=l,u=l,z=l;x.$$p&&(x.$$p=null);k(this,a.find_super_dispatcher(this,"initialize",x,!1),[c,"table"],null);this.rows=w(r,"Rows").$new();this.columns=
[];this.has_header_option=d["$key?"]("header-option");q(v=d["$[]"]("width"))?q(q(e=b(u=v.$to_i(),100))?e:h(u,1))&&!q((e=u["$=="](0))?q(g=v["$=="]("0"))?g:v["$=="]("0%"):u["$=="](0))&&(u=100):u=100;z=["tablepcwidth",u];k(this.attributes,"[]=",a.to_a(z));z[n(z.length,1)];q(this.document.$attributes()["$key?"]("pagewidth"))&&(q(e=this.attributes["$[]"]("tableabswidth"))?e:(z=["tableabswidth",m(p(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()],
k(this.attributes,"[]=",a.to_a(z)),z[n(z.length,1)]));return q(d["$key?"]("rotate-option"))?(z=["orientation","landscape"],k(d,"[]=",a.to_a(z)),z[n(z.length,1)]):l},x.$$arity=2);a.def(c,"$header_row?",D=function(){var a;return q(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},D.$$arity=0);a.def(c,"$create_columns",A=function(b){var c,d=l,f=l,g=l,d=[],f=0;k(b,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=l);f=e(f,a["$[]"]("width"));return d["$<<"](w(r,"Column").$new(b,d.$size(),
a))},c.$$s=this,c.$$arity=1,c));q((this.columns=d)["$empty?"]())||(g=["colcount",d.$size()],k(this.attributes,"[]=",a.to_a(g)),g[n(g.length,1)],this.$assign_column_widths(f["$=="](0)?l:f));return l},A.$$arity=1);a.def(c,"$assign_column_widths",B=function(a){var b,c,d=l,f=l,g=l;null==a&&(a=l);d=10["$**"](4);f=g=0;q(a)?k(this.columns,"each",[],(b=function(b){null==b&&(b=l);return f=e(f,g=b.$assign_width(l,a,d))},b.$$s=this,b.$$arity=1,b)):(g=p(p(m(100,d),this.columns.$size()).$to_i(),d),g.$to_i()["$=="](g)&&
(g=g.$to_i()),k(this.columns,"each",[],(c=function(a){null==a&&(a=l);return f=e(f,a.$assign_width(g))},c.$$s=this,c.$$arity=1,c)));f["$=="](100)||this.columns["$[]"](-1).$assign_width(p(m(e(n(100,f),g),d).$round(),d));return l},B.$$arity=-1);return(a.def(c,"$partition_header_footer",F=function(c){var d,e,g=l,h=l,m=l,g=["rowcount",this.rows.$body().$size()];k(this.attributes,"[]=",a.to_a(g));g[n(g.length,1)];h=this.rows.$body().$size();q(q(d=b(h,0))?this.has_header_option:d)&&(m=this.rows.$body().$shift(),
h=n(h,1),k(m,"each",[],(e=function(b){null==b&&(b=l);g=[l];k(b,"style=",a.to_a(g));return g[n(g.length,1)]},e.$$s=this,e.$$arity=1,e)),g=[[m]],k(this.rows,"head=",a.to_a(g)),g[n(g.length,1)]);q(q(d=b(h,0))?c["$key?"]("footer-option"):d)&&(g=[[this.rows.$body().$pop()]],k(this.rows,"foot=",a.to_a(g)),g[n(g.length,1)]);return l},F.$$arity=1),l)&&"partition_header_footer"})(A[0],w(A,"AbstractBlock"),A);(function(b,$super,c){function d(){}b=d=g(b,$super,"Column",d);var f=b.$$proto;[b].concat(c);var h,
u;f.attributes=l;b.$attr_accessor("style");a.def(b,"$initialize",h=function(b,c,d){var f,g=h.$$p,m=l;null==d&&(d=r([],{}));g&&(h.$$p=null);k(this,a.find_super_dispatcher(this,"initialize",h,!1),[b,"column"],null);this.style=d["$[]"]("style");m=["colnumber",e(c,1)];k(d,"[]=",a.to_a(m));m[n(m.length,1)];q(f=d["$[]"]("width"))?f:(m=["width",1],k(d,"[]=",a.to_a(m)),m[n(m.length,1)]);q(f=d["$[]"]("halign"))?f:(m=["halign","left"],k(d,"[]=",a.to_a(m)),m[n(m.length,1)]);q(f=d["$[]"]("valign"))?f:(m=["valign",
"top"],k(d,"[]=",a.to_a(m)),m[n(m.length,1)]);return this.$update_attributes(d)},h.$$arity=-3);a.alias(b,"table","parent");return(a.def(b,"$assign_width",u=function(b,c,d){var e=l;null==c&&(c=l);null==d&&(d=1E4);q(c)&&(b=p(m(m(p(this.attributes["$[]"]("width").$to_f(),c),100),d).$to_i(),d),b.$to_i()["$=="](b)&&(b=b.$to_i()));e=["colpcwidth",b];k(this.attributes,"[]=",a.to_a(e));e[n(e.length,1)];q(this.$parent().$attributes()["$key?"]("tableabswidth"))&&(e=["colabswidth",m(p(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],
k(this.attributes,"[]=",a.to_a(e)),e[n(e.length,1)]);return b},u.$$arity=-2),l)&&"assign_width"})(w(A,"Table"),w(A,"AbstractNode"),A);(function(b,$super,c){function d(){}b=d=g(b,$super,"Cell",d);var e=b.$$proto,f=[b].concat(c),m,p,u,v,x;e.document=e.text=e.style=e.inner_document=e.colspan=e.rowspan=e.attributes=l;b.$attr_accessor("style");b.$attr_accessor("colspan");b.$attr_accessor("rowspan");a.alias(b,"column","parent");b.$attr_reader("inner_document");a.def(b,"$initialize",m=function(b,c,d,e){var g,
p=m.$$p,u=l,v=l,z=v=l,x=l,D=l,v=l;null==d&&(d=r([],{}));null==e&&(e=r([],{}));p&&(m.$$p=null);k(this,a.find_super_dispatcher(this,"initialize",m,!1),[b,"cell"],null);q(b)?(u=q(v=b.$table()["$header_row?"]())?l:b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes())):v=u=l;if(q(d)){this.colspan=d.$delete("colspan");this.rowspan=d.$delete("rowspan");q(q(g=v)?g:d["$key?"]("style")["$!"]())||(u=d["$[]"]("style"));if(q(e["$[]"]("strip_text")))if(q(q(g=u["$=="]("literal"))?g:u["$=="]("verse")))for(c=
c.$rstrip();q(c["$start_with?"](w(f,"LF")));)c=c.$slice(1,n(c.$length(),1));else c=c.$strip();this.$update_attributes(d)}else this.rowspan=this.colspan=l;u["$=="]("asciidoc")&&(v=this.document.$attributes().$delete("doctitle"),z=c.$split(w(f,"LF"),-1),!q(z["$empty?"]())&&q((x=z["$[]"](0))["$include?"]("::"))&&(D=w(f,"PreprocessorReader").$new(this.document,[x]).$readlines(),q(x["$=="](D["$[]"](0))?h(D.$size(),2):x["$=="](D["$[]"](0)))||(z.$shift(),q(D["$empty?"]())||k(z,"unshift",a.to_a(D)))),this.inner_document=
w(f,"Document").$new(z,r(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:e["$[]"]("cursor")})),q(v["$nil?"]())||(v=["doctitle",v],k(this.document.$attributes(),"[]=",a.to_a(v)),v[n(v.length,1)]));this.text=c;return this.style=u},m.$$arity=-3);a.def(b,"$text",p=function(){return this.$apply_subs(this.text,this.style["$=="]("literal")?w(f,"BASIC_SUBS"):w(f,"NORMAL_SUBS"))},p.$$arity=0);a.def(b,"$text=",u=function(a){return this.text=a},u.$$arity=1);a.def(b,"$content",
v=function(){var a;return this.style["$=="]("asciidoc")?this.inner_document.$convert():k(this.$text().$split(w(f,"BlankLineRx")),"map",[],(a=function(b){var c=a.$$s||this,d;null==c.style&&(c.style=l);null==b&&(b=l);return q(q(d=c.style["$!"]())?d:c.style["$=="]("header"))?b:w(f,"Inline").$new(c.$parent(),"quoted",b,r(["type"],{type:c.style})).$convert()},a.$$s=this,a.$$arity=1,a))},v.$$arity=0);return(a.def(b,"$to_s",x=function(){var b,c=x.$$p,d=l,e=l,f=l;c&&(x.$$p=null);e=0;f=arguments.length;for(d=
Array(f);e<f;e++)d[e]=arguments[e];return""+k(this,a.find_super_dispatcher(this,"to_s",x,!1),d,c).$to_s()+" - [text: "+this.text+", colspan: "+(q(b=this.colspan)?b:1)+", rowspan: "+(q(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},x.$$arity=0),l)&&"to_s"})(w(A,"Table"),w(A,"AbstractNode"),A);(function(c,$super,h){function m(){}c=m=g(c,$super,"ParserContext",m);var p=c.$$proto,v=[c].concat(h),x,D,C,A,B,E,F,W,O,X,N,ea,pa,ga,P,U,ia,V,ha;p.delimiter=p.delimiter_re=p.buffer=p.cellspecs=p.cell_open=
p.format=p.last_cursor=p.table=p.current_row=p.colcount=p.column_visits=p.active_rowspans=p.linenum=l;a.const_set(v[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(v[0],"DELIMITERS",r(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));c.$attr_accessor("table");c.$attr_accessor("format");c.$attr_reader("colcount");c.$attr_accessor("buffer");c.$attr_reader("delimiter");c.$attr_reader("delimiter_re");a.def(c,"$initialize",x=function(b,
c,e){var f=l,k=l;null==e&&(e=r([],{}));this.reader=b;this.table=c;this.last_cursor=b.$cursor();q(e["$key?"]("format"))?q(w(v,"FORMATS")["$include?"](f=e["$[]"]("format")))?f["$=="]("tsv")?this.format="csv":q((this.format=f)["$=="]("psv")?c.$document()["$nested?"]():(this.format=f)["$=="]("psv"))&&(f="!sv"):(this.$warn("asciidoctor: ERROR: "+b.$prev_line_info()+": illegal table format: "+f),b=["psv",q(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b):(b=["psv",q(c.$document()["$nested?"]())?
"!sv":"psv"],this.format=b[0],f=b[1],b);q(e["$key?"]("separator"))?q((k=e["$[]"]("separator"))["$nil_or_empty?"]())?(e=w(v,"DELIMITERS")["$[]"](f),b=a.to_ary(e),this.delimiter=null==b[0]?l:b[0],this.delimiter_re=null==b[1]?l:b[1],e):k["$=="]("\\t")?(e=w(v,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(e),this.delimiter=null==b[0]?l:b[0],this.delimiter_re=null==b[1]?l:b[1],e):(b=[k,new RegExp(d("::","Regexp").$escape(k))],this.delimiter=b[0],this.delimiter_re=b[1],b):(e=w(v,"DELIMITERS")["$[]"](f),b=a.to_ary(e),
this.delimiter=null==b[0]?l:b[0],this.delimiter_re=null==b[1]?l:b[1],e);this.colcount=q(c.$columns()["$empty?"]())?-1:c.$columns().$size();this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},x.$$arity=-3);a.def(c,"$starts_with_delimiter?",D=function(a){return a["$start_with?"](this.delimiter)},D.$$arity=1);a.def(c,"$match_delimiter",C=function(a){return this.delimiter_re.$match(a)},C.$$arity=1);a.def(c,"$skip_past_delimiter",
A=function(a){this.buffer=""+this.buffer+a.$pre_match()+this.delimiter;return a.$post_match()},A.$$arity=1);a.def(c,"$skip_past_escaped_delimiter",B=function(a){this.buffer=""+this.buffer+a.$pre_match().$chop()+this.delimiter;return a.$post_match()},B.$$arity=1);a.def(c,"$buffer_has_unclosed_quotes?",E=function(a){var b,c,d=l,f=l;null==a&&(a=l);return q((d=q(a)?e(this.$buffer(),a).$strip():this.$buffer().$strip())["$start_with?"]('"'))?q(q(b=q(c=f=d["$end_with?"]('"'))?d["$end_with?"]('""'):c)?b:
d["$start_with?"]('""'))?q(b=(d=d.$gsub('""',""))["$start_with?"]('"'))?d["$end_with?"]('"')["$!"]():b:f["$!"]():!1},E.$$arity=-1);a.def(c,"$take_cellspec",F=function(){return this.cellspecs.$shift()},F.$$arity=0);a.def(c,"$push_cellspec",W=function(a){var b;null==a&&(a=r([],{}));this.cellspecs["$<<"](q(b=a)?b:r([],{}));return l},W.$$arity=-1);a.def(c,"$keep_cell_open",O=function(){this.cell_open=!0;return l},O.$$arity=0);a.def(c,"$mark_cell_closed",X=function(){this.cell_open=!1;return l},X.$$arity=
0);a.def(c,"$cell_open?",N=function(){return this.cell_open},N.$$arity=0);a.def(c,"$cell_closed?",ea=function(){return this.cell_open["$!"]()},ea.$$arity=0);a.def(c,"$close_open_cell",pa=function(a){null==a&&(a=r([],{}));this.$push_cellspec(a);q(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return l},pa.$$arity=-1);a.def(c,"$close_cell",ga=function(c){try{var g,h,m=l,p=l,x=l,z=l;null==c&&(c=!1);this.format["$=="]("psv")?(m=!0,p=this.buffer,this.buffer="",q(x=this.$take_cellspec())?
z=q(g=x.$delete("repeatcol"))?g:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),x=r([],{}),z=1)):(m=!1,p=this.buffer.$strip(),this.buffer="",x=l,z=1,this.format["$=="]("csv")&&q(q(g=p["$empty?"]()["$!"]())?p["$include?"]('"'):g)&&(q(q(g=p["$start_with?"]('"'))?p["$end_with?"]('"'):g)&&(p=p["$[]"](u(1,-1,!0)).$strip()),p=p.$squeeze('"')));k(1,"upto",[z],(h=function(g){var u=h.$$s||this,D,C,A,B,E=l,G=l,F=l,E=l;null==u.colcount&&
(u.colcount=l);null==u.table&&(u.table=l);null==u.current_row&&(u.current_row=l);null==u.last_cursor&&(u.last_cursor=l);null==u.reader&&(u.reader=l);null==u.column_visits&&(u.column_visits=l);null==u.linenum&&(u.linenum=l);null==g&&(g=l);u.colcount["$=="](-1)?(u.table.$columns()["$<<"](E=d(w(v,"Table"),"Column").$new(u.table,n(e(u.table.$columns().$size(),g),1))),q(q(D=q(C=x)?x["$key?"]("colspan"):C)?b(G=n(x["$[]"]("colspan").$to_i(),1),0):D)&&(F=u.table.$columns().$size(),k(G,"times",[],(A=function(a){var b=
A.$$s||this;null==b.table&&(b.table=l);null==a&&(a=l);return b.table.$columns()["$<<"](d(w(v,"Table"),"Column").$new(b.table,e(F,a)))},A.$$s=u,A.$$arity=1,A)))):q(E=u.table.$columns()["$[]"](u.current_row.$size()))||(u.$warn("asciidoctor: ERROR: "+u.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(l));E=d(w(v,"Table"),"Cell").$new(E,p,x,r(["cursor","strip_text"],{cursor:u.last_cursor,strip_text:m}));u.last_cursor=u.reader.$cursor();q(q(D=E.$rowspan()["$!"]())?
D:E.$rowspan()["$=="](1))||u.$activate_rowspan(E.$rowspan(),q(D=E.$colspan())?D:1);u.column_visits=e(u.column_visits,q(D=E.$colspan())?D:1);u.current_row["$<<"](E);return q(q(D=u["$end_of_row?"]())?q(C=q(B=u.colcount["$!="](-1))?B:b(u.linenum,0))?C:q(B=c)?g["$=="](z):B:D)?u.$close_row():l},h.$$s=this,h.$$arity=1,h));this.cell_open=!1;return l}catch(D){if(D===a.returner)return D.$v;throw D;}},ga.$$arity=-1);a.def(c,"$close_row",P=function(){var b,c=l;this.table.$rows().$body()["$<<"](this.current_row);
this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();q(b=this.active_rowspans["$[]"](0))?b:(c=[0,0],k(this.active_rowspans,"[]=",a.to_a(c)),c[n(c.length,1)]);return l},P.$$arity=0);a.def(c,"$activate_rowspan",U=function(b,c){var d;k((1).$upto(n(b,1)),"each",[],(d=function(b){var f=d.$$s||this,g,h=l;null==f.active_rowspans&&(f.active_rowspans=l);null==b&&(b=l);h=[b,e(q(g=f.active_rowspans["$[]"](b))?g:0,c)];k(f.active_rowspans,
"[]=",a.to_a(h));return h[n(h.length,1)]},d.$$s=this,d.$$arity=1,d));return l},U.$$arity=2);a.def(c,"$end_of_row?",ia=function(){var a;return q(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},ia.$$arity=0);a.def(c,"$effective_column_visits",V=function(){return e(this.column_visits,this.active_rowspans["$[]"](0))},V.$$arity=0);return(a.def(c,"$advance",ha=function(){return this.linenum=e(this.linenum,1)},ha.$$arity=0),l)&&"advance"})(w(A,"Table"),null,A)}(c[0],
c)};Opal.modules["asciidoctor/converter/composite"]=function(a){var b=[],h=a.nil,n=a.const_get_qualified,m=a.const_get_relative,p=a.module,e=a.klass,c=a.send,l=a.truthy,d=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));return function(b,f){var g=[p(b,"Asciidoctor")].concat(f);(function(b,$super,f){function g(){}b=g=e(b,$super,"CompositeConverter",g);var m=b.$$proto;[b].concat(f);
var n,p,t,v;m.converter_map=m.converters=h;b.$attr_reader("converters");a.def(b,"$initialize",n=function(a,b){var e,f,k=arguments.length;f=k-1;0>f&&(f=0);f=Array(f);for(var g=1;g<k;g++)f[g-1]=arguments[g];this.backend=a;c(this.converters=f.$flatten().$compact(),"each",[],(e=function(a){var b=e.$$s||this;null==a&&(a=h);return l(a["$respond_to?"]("composed"))?a.$composed(b):h},e.$$s=this,e.$$arity=1,e));return this.converter_map=d([],{})},n.$$arity=-2);a.def(b,"$convert",p=function(a,b,c){var e;null==
b&&(b=h);null==c&&(c=d([],{}));b=l(e=b)?e:a.$node_name();return this.$converter_for(b).$convert(a,b,c)},p.$$arity=-2);a.alias(b,"convert_with_options","convert");a.def(b,"$converter_for",t=function(b){var d;d=h;l(d=this.converter_map["$[]"](b))?b=d:(d=[b,this.$find_converter(b)],c(this.converter_map,"[]=",a.to_a(d)),b=d,d=d.length,d="number"===typeof d?d-1:d["$-"](1),b=b[d]);return b},t.$$arity=1);return(a.def(b,"$find_converter",v=function(b){try{var d;c(this.converters,"each",[],(d=function(c){null==
c&&(c=h);if(l(c["$handles?"](b)))a.ret(c);else return h},d.$$s=this,d.$$arity=1,d));return this.$raise("Could not find a converter to handle transform: "+b)}catch(e){if(e===a.returner)return e.$v;throw e;}},v.$$arity=1),h)&&"find_converter"})(m(g,"Converter"),n(m(g,"Converter"),"Base"),g)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:
a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var l=[],d=a.nil,w=a.const_get_qualified,v=a.const_get_relative,g=a.module,k=a.klass,q=a.send,x=a.hash2,
u=a.truthy,r=a.range;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $>= $safe $attr? $<< $include? $gsub $extname $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $caption $captioned_title $numbered $<= $sectnum $< $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $items $blocks? $text? $chomp $read_svg_contents $alt $image_uri $encode_quotes $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $type $attributes $catalog $xreftext $target $join $map $chop $read_contents $sub $match $length".split(" "));
return function(l,A){var B=[g(l,"Asciidoctor")].concat(A);(function(g,$super,l){function z(){}g=z=k(g,$super,"Html5Converter",z);var D=g.$$proto,A=[g].concat(l),B,G,F,R,L,S,W,O,X,N,ea,pa,ga,P,U,ia,V,ha,Z,qa,da,fa,ka,aa,Y,la,na,wa,ta,Ca,ya,Aa,xa,Da,Fa,La,Ka,Ha,Ma,Ga,Ia;l=d;D.xml_mode=D.void_element_slash=D.stylesheets=D.xrefstyle=d;l=[["","",!1]];q(a.const_set(A[0],"QUOTE_TAGS",x("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),{monospaced:["<code>",
"</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(l));l[b(l.length,1)];a.const_set(A[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);a.const_set(A[0],"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(A[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["'])[^\n]*?\1/);
a.def(g,"$initialize",B=function(a,b){null==b&&(b=x([],{}));this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=u(this.xml_mode)?"/":d;return this.stylesheets=v(A,"Stylesheets").$instance()},B.$$arity=-2);a.def(g,"$document",G=function(b){var c,e,f,g,k,l=d,p=d,z=d,D=d,C=d,B=d,G=d,F=d,J=G=d,O=d,L=C=J=C=J=G=J=G=G=d,l=l=C=C=J=d,l=this.void_element_slash,p="<br"+l+">";u((z=b.$attr("asset-uri-scheme","https"))["$empty?"]())||(z=""+z+":");D=""+z+"//cdnjs.cloudflare.com/ajax/libs";
C=u(c=h(b.$safe(),w(v(A,"SafeMode"),"SECURE")))?c:b["$attr?"]("linkcss");B=["<!DOCTYPE html>"];G=u(b["$attr?"]("nolang"))?d:' lang="'+b.$attr("lang","en")+'"';B["$<<"]("<html"+(u(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':d)+G+">");B["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+l+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+l+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+l+'>\n<meta name="generator" content="Asciidoctor '+
b.$attr("asciidoctor-version")+'"'+l+">");if(u(b["$attr?"]("app-name")))B["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+'"'+l+">");if(u(b["$attr?"]("description")))B["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+l+">");if(u(b["$attr?"]("keywords")))B["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+l+">");if(u(b["$attr?"]("authors")))B["$<<"]('<meta name="author" content="'+(u((F=b.$attr("authors"))["$include?"]("<"))?F.$gsub(v(A,"XmlSanitizeRx"),
""):F)+'"'+l+">");if(u(b["$attr?"]("copyright")))B["$<<"]('<meta name="copyright" content="'+b.$attr("copyright")+'"'+l+">");u(b["$attr?"]("favicon"))&&(u((G=b.$attr("favicon"))["$empty?"]())?(c=["favicon.ico","image/x-icon"],G=c[0],J=c[1],c):J=(O=w("::","File").$extname(G))["$=="](".ico")?"image/x-icon":"image/"+O["$[]"](r(1,-1,!1)),B["$<<"]('<link rel="shortcut icon" type="'+J+'" href="'+G+'">'));B["$<<"]("<title>"+b.$doctitle(x(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");
if(u(v(A,"DEFAULT_STYLESHEET_KEYS")["$include?"](b.$attr("stylesheet")))){if(u(G=b.$attr("webfonts")))B["$<<"]('<link rel="stylesheet" href="'+z+"//fonts.googleapis.com/css?family="+(u(G["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":G)+'"'+l+">");if(u(C))B["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(v(A,"DEFAULT_STYLESHEET_NAME"),b.$attr("stylesdir",""),!1)+'"'+l+">");else B["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(u(b["$attr?"]("stylesheet")))if(u(C))B["$<<"]('<link rel="stylesheet" href="'+
b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+l+">");else B["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),b.$attr("stylesdir","")),x(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(u(b["$attr?"]("icons","font")))if(u(b["$attr?"]("iconfont-remote")))B["$<<"]('<link rel="stylesheet" href="'+b.$attr("iconfont-cdn",""+D+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+l+">");else G=""+b.$attr("iconfont-name",
"font-awesome")+".css",B["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(G,b.$attr("stylesdir",""),!1)+'"'+l+">");J=G=b.$attr("source-highlighter");if("coderay"["$==="](J)){if(b.$attr("coderay-css","class")["$=="]("class"))if(u(C))B["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),b.$attr("stylesdir",""),!1)+'"'+l+">");else B["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](J)&&b.$attr("pygments-css",
"class")["$=="]("class"))if(J=b.$attr("pygments-style"),u(C))B["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(J),b.$attr("stylesdir",""),!1)+'"'+l+">");else B["$<<"](this.stylesheets.$embed_pygments_stylesheet(J));if(!u((C=b.$docinfo())["$empty?"]()))B["$<<"](C);B["$<<"]("</head>");J=[];if(u(b.$id()))J["$<<"]('id="'+b.$id()+'"');if(u(u(c=u(e=u(f=C=b["$sections?"]())?b["$attr?"]("toc-class"):f)?b["$attr?"]("toc"):e)?b["$attr?"]("toc-placement",
"auto"):c))J["$<<"]('class="'+b.$doctype()+" "+b.$attr("toc-class")+" toc-"+b.$attr("toc-position","header")+'"');else J["$<<"]('class="'+b.$doctype()+'"');if(u(b["$attr?"]("max-width")))J["$<<"]('style="max-width: '+b.$attr("max-width")+';"');B["$<<"]("<body "+n(J," ")+">");if(!u(b.$noheader())){B["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){B["$<<"]("<h1>"+b.$doctitle()+" Manual Page</h1>");if(u(u(c=u(e=C)?b["$attr?"]("toc"):e)?b["$attr?"]("toc-placement","auto"):c))B["$<<"]('<div id="toc" class="'+
b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");B["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+b.$attr("manname")+" - "+b.$attr("manpurpose")+"</p>\n</div>")}else{if(u(b["$has_header?"]())){if(!u(b.$notitle()))B["$<<"]("<h1>"+b.$header().$title()+"</h1>");L=[];if(u(b["$attr?"]("author"))){L["$<<"]('<span id="author" class="author">'+b.$attr("author")+"</span>"+p);if(u(b["$attr?"]("email")))L["$<<"]('<span id="email" class="email">'+
b.$sub_macros(b.$attr("email"))+"</span>"+p);u(m(J=b.$attr("authorcount").$to_i(),1))&&q(a.Range.$new(2,J,!1),"each",[],(g=function(a){null==a&&(a=d);L["$<<"]('<span id="author'+a+'" class="author">'+b.$attr("author_"+a)+"</span>"+p);return u(b["$attr?"]("email_"+a))?L["$<<"]('<span id="email'+a+'" class="email">'+b.$sub_macros(b.$attr("email_"+a))+"</span>"+p):d},g.$$s=this,g.$$arity=1,g))}if(u(b["$attr?"]("revnumber")))L["$<<"]('<span id="revnumber">'+(u(c=b.$attr("version-label"))?c:"").$downcase()+
" "+b.$attr("revnumber")+(u(b["$attr?"]("revdate"))?",":"")+"</span>");if(u(b["$attr?"]("revdate")))L["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if(u(b["$attr?"]("revremark")))L["$<<"](""+p+'<span id="revremark">'+b.$attr("revremark")+"</span>");u(L["$empty?"]())||(B["$<<"]('<div class="details">'),B.$concat(L),B["$<<"]("</div>"))}if(u(u(c=u(e=C)?b["$attr?"]("toc"):e)?b["$attr?"]("toc-placement","auto"):c))B["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+
b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}B["$<<"]("</div>")}B["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");u(u(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(B["$<<"]('<div id="footnotes">\n<hr'+l+">"),q(b.$footnotes(),"each",[],(k=function(a){null==a&&(a=d);return B["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},k.$$s=this,k.$$arity=1,k)),B["$<<"]("</div>"));
if(!u(b.$nofooter())){B["$<<"]('<div id="footer">');B["$<<"]('<div id="footer-text">');if(u(b["$attr?"]("revnumber")))B["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+p);if(u(u(c=b["$attr?"]("last-update-label"))?b["$attr?"]("reproducible")["$!"]():c))B["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));B["$<<"]("</div>");B["$<<"]("</div>")}if(!u((C=b.$docinfo("footer"))["$empty?"]()))B["$<<"](C);J=G;"highlightjs"["$==="](J)||"highlight.js"["$==="](J)?(C=b.$attr("highlightjsdir",
""+D+"/highlight.js/9.12.0"),B["$<<"]('<link rel="stylesheet" href="'+C+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+l+">"),B["$<<"]('<script src="'+C+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](J)&&(C=b.$attr("prettifydir",""+D+"/prettify/r298"),B["$<<"]('<link rel="stylesheet" href="'+C+"/"+b.$attr("prettify-theme","prettify")+'.min.css"'+l+">"),B["$<<"]('<script src="'+C+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));
u(b["$attr?"]("stem"))&&(l=b.$attr("eqnums","none"),u(l["$empty?"]())&&(l="AMS"),l=' equationNumbers: { autoNumber: "'+l+'" } ',B["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+v(A,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+v(A,"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+v(A,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+
'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+l+'}\n});\n\x3c/script>\n<script src="'+D+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));B["$<<"]("</body>");B["$<<"]("</html>");return n(B,v(A,"LF"))},G.$$arity=1);a.def(g,"$embedded",F=function(a){var b,c,e,f,g=d,k=d,l=d,g=[];a.$doctype()["$=="]("manpage")?(u(a.$notitle())||(k=u(a.$id())?' id="'+a.$id()+'"':d,g["$<<"]("<h1"+k+">"+a.$doctitle()+" Manual Page</h1>")),g["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+
a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")):u(u(b=a["$has_header?"]())?a.$notitle()["$!"]():b)&&(k=u(a.$id())?' id="'+a.$id()+'"':d,g["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if(u(u(b=u(c=u(e=a["$sections?"]())?a["$attr?"]("toc"):e)?(l=a.$attr("toc-placement"))["$!="]("macro"):c)?l["$!="]("preamble"):b))g["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");g["$<<"](a.$content());u(u(b=a["$footnotes?"]())?
a["$attr?"]("nofootnotes")["$!"]():b)&&(g["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),q(a.$footnotes(),"each",[],(f=function(a){null==a&&(a=d);return g["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},f.$$s=this,f.$$arity=1,f)),g["$<<"]("</div>"));return n(g,v(A,"LF"))},F.$$arity=1);a.def(g,"$outline",R=function(a,b){var c,f,g=d,k=d,l=d,h=d;null==b&&(b=x([],{}));if(!u(a["$sections?"]()))return d;
g=u(c=b["$[]"]("sectnumlevels"))?c:a.$document().$attr("sectnumlevels",3).$to_i();k=u(c=b["$[]"]("toclevels"))?c:a.$document().$attr("toclevels",2).$to_i();l=a.$sections();h=['<ul class="sectlevel'+l["$[]"](0).$level()+'">'];q(l,"each",[],(f=function(a){var b=f.$$s||this,c,l=d,m=d,n=d;null==a&&(a=d);l=a.$level();m=u(a.$caption())?a.$captioned_title():u(u(c=a.$numbered())?p(l,g):c)?""+a.$sectnum()+" "+a.$title():a.$title();return u(u(c=e(l,k))?n=b.$outline(a,x(["toclevels","secnumlevels"],{toclevels:k,
secnumlevels:g})):c)?(h["$<<"]('<li><a href="#'+a.$id()+'">'+m+"</a>"),h["$<<"](n),h["$<<"]("</li>")):h["$<<"]('<li><a href="#'+a.$id()+'">'+m+"</a></li>")},f.$$s=this,f.$$arity=1,f));h["$<<"]("</ul>");return n(h,v(A,"LF"))},R.$$arity=-2);a.def(g,"$section",L=function(a){var b,e,f=d,g=d,k=d,l=d,h=d,m=d,n=d,q=d,t=n=d,q=d,f=a.$level(),g="h"+c(f,1),k=l=h=m=d;u(a.$id())&&(k=' id="'+(n=a.$id())+'"',u((q=a.$document())["$attr?"]("sectanchors"))&&(l='<a class="anchor" href="#'+n+'"></a>'),u(q["$attr?"]("sectlinks"))&&
(h='<a class="link" href="#'+n+'">',m="</a>"));if(f["$=="](0))return"<h1"+k+' class="sect0">'+l+h+a.$title()+m+"</h1>\n"+a.$content();n=u(t=a.$role())?' class="sect'+f+" "+t+'"':' class="sect'+f+'"';q=u(u(b=u(e=a.$numbered())?a.$caption()["$!"]():e)?p(f,a.$document().$attr("sectnumlevels",3).$to_i()):b)?""+a.$sectnum()+" ":d;return"<div"+n+">\n<"+g+k+">"+l+h+q+a.$captioned_title()+m+"</"+g+">\n"+(f["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},L.$$arity=
1);a.def(g,"$admonition",S=function(a){var b,c=d,e=d,f=d,g=d,k=d,c=u(a.$id())?' id="'+a.$id()+'"':d,e=a.$attr("name"),f=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":d,g=u(a.$document()["$attr?"]("icons"))?u(u(b=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+e+'" title="'+a.$attr("textlabel")+'"></i>':'<img src="'+a.$icon_uri(e)+'" alt="'+a.$attr("textlabel")+'"'+this.void_element_slash+">":'<div class="title">'+a.$attr("textlabel")+"</div>";
return"<div"+c+' class="admonitionblock '+e+(u(b=k=a.$role())?" "+k:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+f+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},S.$$arity=1);a.def(g,"$audio",W=function(a){var b,c=d,e=d,f=d,g=f=d,k=d,l=d,k=d,c=this.xml_mode,e=u(a.$id())?' id="'+a.$id()+'"':d,f=["audioblock",a.$role()].$compact(),f=' class="'+n(f," ")+'"',g=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":d,k=a.$attr("start",d,!1),l=a.$attr("end",d,
!1),k=u(u(b=k)?b:l)?"#t="+k+(u(l)?",":d)+l:d;return"<div"+e+f+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+k+'"'+(u(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",c):d)+(u(a["$option?"]("nocontrols"))?d:this.$append_boolean_attribute("controls",c))+(u(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):d)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},W.$$arity=1);a.def(g,"$colist",O=function(a){var b,
e,f=d,g=d,k=d,l=k=d,h=d,f=[],g=u(a.$id())?' id="'+a.$id()+'"':d,k=["colist",a.$style(),a.$role()].$compact(),k=' class="'+n(k," ")+'"';f["$<<"]("<div"+g+k+">");if(u(a["$title?"]()))f["$<<"]('<div class="title">'+a.$title()+"</div>");u(a.$document()["$attr?"]("icons"))?(f["$<<"]("<table>"),b=[a.$document()["$attr?"]("icons","font"),0],l=b[0],h=b[1],b,q(a.$items(),"each",[],(e=function(b){var g=e.$$s||this,k=d;null==g.void_element_slash&&(g.void_element_slash=d);null==b&&(b=d);h=c(h,1);k=u(l)?'<i class="conum" data-value="'+
h+'"></i><b>'+h+"</b>":'<img src="'+a.$icon_uri("callouts/"+h)+'" alt="'+h+'"'+g.void_element_slash+">";return f["$<<"]("<tr>\n<td>"+k+"</td>\n<td>"+b.$text()+(u(b["$blocks?"]())?c(v(A,"LF"),b.$content()):"")+"</td>\n</tr>")},e.$$s=this,e.$$arity=1,e)),f["$<<"]("</table>")):(f["$<<"]("<ol>"),q(a.$items(),"each",[],(b=function(a){null==a&&(a=d);return f["$<<"]("<li>\n<p>"+a.$text()+"</p>"+(u(a["$blocks?"]())?c(v(A,"LF"),a.$content()):"")+"\n</li>")},b.$$s=this,b.$$arity=1,b)),f["$<<"]("</ol>"));f["$<<"]("</div>");
return n(f,v(A,"LF"))},O.$$arity=1);a.def(g,"$dlist",X=function(b){var c,e,f,g,k=d,l=d,h=d,m=h=h=d,p=l=d,k=[],l=u(b.$id())?' id="'+b.$id()+'"':d,h=b.$style(),h=("qanda"["$==="](h)?["qlist","qanda",b.$role()]:"horizontal"["$==="](h)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),h=' class="'+n(h," ")+'"';k["$<<"]("<div"+l+h+">");if(u(b["$title?"]()))k["$<<"]('<div class="title">'+b.$title()+"</div>");h=b.$style();"qanda"["$==="](h)?(k["$<<"]("<ol>"),q(b.$items(),"each",[],(c=function(b,
e){var f=c.$$s||this,g;null==b&&(b=d);null==e&&(e=d);k["$<<"]("<li>");q([].concat(a.to_a(b)),"each",[],(g=function(a){null==a&&(a=d);return k["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=f,g.$$arity=1,g));if(u(e)){if(u(e["$text?"]()))k["$<<"]("<p>"+e.$text()+"</p>");if(u(e["$blocks?"]()))k["$<<"](e.$content())}return k["$<<"]("</li>")},c.$$s=this,c.$$arity=2,c)),k["$<<"]("</ol>")):"horizontal"["$==="](h)?(m=this.void_element_slash,k["$<<"]("<table>"),u(u(e=b["$attr?"]("labelwidth"))?e:b["$attr?"]("itemwidth"))&&
(k["$<<"]("<colgroup>"),l=u(b["$attr?"]("labelwidth"))?' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"':d,k["$<<"]("<col"+l+m+">"),l=u(b["$attr?"]("itemwidth"))?' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':d,k["$<<"]("<col"+l+m+">"),k["$<<"]("</colgroup>")),q(b.$items(),"each",[],(f=function(c,e){var g=f.$$s||this,l,h=d,n=d;null==c&&(c=d);null==e&&(e=d);k["$<<"]("<tr>");k["$<<"]('<td class="hdlist1'+(u(b["$option?"]("strong"))?" strong":d)+'">');h=[].concat(a.to_a(c));n=h["$[]"](-1);
q(h,"each",[],(l=function(a){null==a&&(a=d);k["$<<"](a.$text());return u(a["$!="](n))?k["$<<"]("<br"+m+">"):d},l.$$s=g,l.$$arity=1,l));k["$<<"]("</td>");k["$<<"]('<td class="hdlist2">');if(u(e)){if(u(e["$text?"]()))k["$<<"]("<p>"+e.$text()+"</p>");if(u(e["$blocks?"]()))k["$<<"](e.$content())}k["$<<"]("</td>");return k["$<<"]("</tr>")},f.$$s=this,f.$$arity=2,f)),k["$<<"]("</table>")):(k["$<<"]("<dl>"),p=u(b.$style())?d:' class="hdlist1"',q(b.$items(),"each",[],(g=function(b,c){var e=g.$$s||this,f;
null==b&&(b=d);null==c&&(c=d);q([].concat(a.to_a(b)),"each",[],(f=function(a){null==a&&(a=d);return k["$<<"]("<dt"+p+">"+a.$text()+"</dt>")},f.$$s=e,f.$$arity=1,f));if(u(c)){k["$<<"]("<dd>");if(u(c["$text?"]()))k["$<<"]("<p>"+c.$text()+"</p>");if(u(c["$blocks?"]()))k["$<<"](c.$content());return k["$<<"]("</dd>")}return d},g.$$s=this,g.$$arity=2,g)),k["$<<"]("</dl>"));k["$<<"]("</div>");return n(k,v(A,"LF"))},X.$$arity=1);a.def(g,"$example",N=function(a){var b,c=d,e=d,f=d,c=u(a.$id())?' id="'+a.$id()+
'"':d,e=u(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":d;return"<div"+c+' class="exampleblock'+(u(b=f=a.$role())?" "+f:b)+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},N.$$arity=1);a.def(g,"$floating_title",ea=function(a){var b=d,e=d,f=d,b="h"+c(a.$level(),1),e=u(a.$id())?' id="'+a.$id()+'"':d,f=[a.$style(),a.$role()].$compact();return"<"+b+e+' class="'+n(f," ")+'">'+a.$title()+"</"+b+">"},ea.$$arity=1);a.def(g,"$image",pa=function(a){var b,c,f,k=d,g=
d,l=d,h=d,m=d,p=d,q=d,x=d,r=d,q=l=l=g=g=k=d,k=a.$attr("target"),g=u(a["$attr?"]("width"))?' width="'+a.$attr("width")+'"':d,l=u(a["$attr?"]("height"))?' height="'+a.$attr("height")+'"':d;u(u(b=u(c=u(f=a["$attr?"]("format","svg",!1))?f:k["$include?"](".svg"))?e(a.$document().$safe(),w(v(A,"SafeMode"),"SECURE")):c)?u(c=h=a["$option?"]("inline"))?c:m=a["$option?"]("interactive"):b)&&(u(h)?p=u(b=this.$read_svg_contents(a,k))?b:'<span class="alt">'+a.$alt()+"</span>":u(m)&&(q=u(a["$attr?"]("fallback"))?
'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+g+l+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",p='<object type="image/svg+xml" data="'+a.$image_uri(k)+'"'+g+l+">"+q+"</object>"));p=u(b=p)?b:'<img src="'+a.$image_uri(k)+'" alt="'+this.$encode_quotes(a.$alt())+'"'+g+l+this.void_element_slash+">";u(a["$attr?"]("link"))&&(u(a["$attr?"]("window"))&&(x=' target="'+(r=a.$attr("window"))+'"'+(u(u(b=r["$=="]("_blank"))?b:a["$option?"]("noopener"))?
' rel="noopener"':"")),p='<a class="image" href="'+a.$attr("link")+'"'+x+">"+p+"</a>");k=u(a.$id())?' id="'+a.$id()+'"':d;g=["imageblock",a.$role()].$compact();g=' class="'+n(g," ")+'"';l=[];if(u(a["$attr?"]("align")))l["$<<"]("text-align: "+a.$attr("align"));if(u(a["$attr?"]("float")))l["$<<"]("float: "+a.$attr("float"));l=u(l["$empty?"]())?d:' style="'+n(l,";")+'"';q=u(a["$title?"]())?'\n<div class="title">'+a.$captioned_title()+"</div>":d;return"<div"+k+g+l+'>\n<div class="content">\n'+p+"\n</div>"+
q+"\n</div>"},pa.$$arity=1);a.def(g,"$listing",ga=function(a){var b,c=d,e=d,f=d,g=d,k=g=c=f=c=d,l=d,c=u(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(f=u(e=a.$attr("language",d,!1))?' data-lang="'+e+'"':d,g=a.$document().$attr("source-highlighter"),"coderay"["$==="](g)?c=' class="CodeRay highlight'+(u(c)?" nowrap":d)+'"':"pygments"["$==="](g)?c=' class="pygments highlight'+(u(c)?" nowrap":d)+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?
(c=' class="highlightjs highlight'+(u(c)?" nowrap":d)+'"',u(e)&&(f=' class="language-'+e+' hljs"'+f)):"prettify"["$==="](g)?(c=' class="prettyprint highlight'+(u(c)?" nowrap":d)+(u(a["$attr?"]("linenums",d,!1))?" linenums":d)+'"',u(e)&&(f=' class="language-'+e+'"'+f)):"html-pipeline"["$==="](g)?(c=u(e)?' lang="'+e+'"':d,f=d):(c=' class="highlight'+(u(c)?" nowrap":d)+'"',u(e)&&(f=' class="language-'+e+'"'+f)),f="<pre"+c+"><code"+f+">",c="</code></pre>"):(f="<pre"+(u(c)?' class="nowrap"':d)+">",c="</pre>");
g=u(a.$id())?' id="'+a.$id()+'"':d;k=u(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":d;return"<div"+g+' class="listingblock'+(u(b=l=a.$role())?" "+l:b)+'">\n'+k+'<div class="content">\n'+f+a.$content()+c+"\n</div>\n</div>"},ga.$$arity=1);a.def(g,"$literal",P=function(a){var b,c=d,e=d,f=d,g=d,c=u(a.$id())?' id="'+a.$id()+'"':d,e=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":d,f=u(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");return"<div"+
c+' class="literalblock'+(u(b=g=a.$role())?" "+g:b)+'">\n'+e+'<div class="content">\n<pre'+(u(f)?' class="nowrap"':d)+">"+a.$content()+"</pre>\n</div>\n</div>"},P.$$arity=1);a.def(g,"$stem",U=function(b){var c,e,f=d,g=d,k=d,l=d,h=d,m=d,f=u(b.$id())?' id="'+b.$id()+'"':d,g=u(b["$title?"]())?'<div class="title">'+b.$title()+"</div>\n":d;e=v(A,"BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());c=a.to_ary(e);k=null==c[0]?d:c[0];l=null==c[1]?d:c[1];e;u(u(c=(h=b.$content())["$start_with?"](k))?h["$end_with?"](l):
c)||(h=""+k+h+l);return"<div"+f+' class="stemblock'+(u(c=m=b.$role())?" "+m:c)+'">\n'+g+'<div class="content">\n'+h+"\n</div>\n</div>"},U.$$arity=1);a.def(g,"$olist",ia=function(a){var b,c=d,e=d,f=d,g=e=f=d,k=f=d,c=[],e=u(a.$id())?' id="'+a.$id()+'"':d,f=["olist",a.$style(),a.$role()].$compact(),f=' class="'+n(f," ")+'"';c["$<<"]("<div"+e+f+">");if(u(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");e=u(g=a.$list_marker_keyword())?' type="'+g+'"':d;f=u(a["$attr?"]("start"))?' start="'+
a.$attr("start")+'"':d;k=u(a["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):d;c["$<<"]('<ol class="'+a.$style()+'"'+e+f+k+">");q(a.$items(),"each",[],(b=function(a){null==a&&(a=d);c["$<<"]("<li>");c["$<<"]("<p>"+a.$text()+"</p>");if(u(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ol>");c["$<<"]("</div>");return n(c,v(A,"LF"))},ia.$$arity=1);a.def(g,"$open",V=function(a){var b,c,e,f=d,g=d,k=d,l=d;if((f=a.$style())["$=="]("abstract")){if(u((b=
a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),"";g=u(a.$id())?' id="'+a.$id()+'"':d;k=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":d;return"<div"+g+' class="quoteblock abstract'+(u(b=l=a.$role())?" "+l:b)+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(u((b=
f["$=="]("partintro"))?u(c=u(e=m(a.$level(),0))?e:a.$parent().$context()["$!="]("section"))?c:a.$document().$doctype()["$!="]("book"):f["$=="]("partintro")))return this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),"";g=u(a.$id())?' id="'+a.$id()+'"':d;k=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":d;return"<div"+g+' class="openblock'+(u(u(b=f)?f["$!="]("open"):b)?" "+f:"")+(u(b=l=a.$role())?
" "+l:b)+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},V.$$arity=1);a.def(g,"$page_break",ha=function(a){return'<div style="page-break-after: always;"></div>'},ha.$$arity=1);a.def(g,"$paragraph",Z=function(a){var b=d,b=d,b=u(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',b=u(a.$id())?'id="'+a.$id()+'" '+b:b;return u(a["$title?"]())?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"},
Z.$$arity=1);a.def(g,"$preamble",qa=function(a){var b,c,e=d,f=d,f=u(u(b=u(c=(e=a.$document())["$attr?"]("toc-placement","preamble"))?e["$sections?"]():c)?e["$attr?"]("toc"):b)?'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+"\n</div>":d;return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+f+"\n</div>"},qa.$$arity=1);a.def(g,"$quote",da=function(a){var b,c=d,e=d,f=e=d,g=d,k=d,l=d,l=g=d,c=u(a.$id())?
' id="'+a.$id()+'"':d,e=["quoteblock",a.$role()].$compact(),e=' class="'+n(e," ")+'"',f=u(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":d,g=u(a["$attr?"]("attribution"))?a.$attr("attribution"):d,k=u(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;u(u(b=g)?b:k)?(l=u(k)?"<cite>"+k+"</cite>":d,g=u(g)?"&#8212; "+g+(u(k)?"<br"+this.void_element_slash+">\n":d):d,l='\n<div class="attribution">\n'+g+l+"\n</div>"):l=d;return"<div"+c+e+">"+f+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+
l+"\n</div>"},da.$$arity=1);a.def(g,"$thematic_break",fa=function(a){return"<hr"+this.void_element_slash+">"},fa.$$arity=1);a.def(g,"$sidebar",ka=function(a){var b,c=d,e=d,f=d,c=u(a.$id())?' id="'+a.$id()+'"':d,e=u(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":d;return"<div"+c+' class="sidebarblock'+(u(b=f=a.$role())?" "+f:b)+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},ka.$$arity=1);a.def(g,"$table",aa=function(a){var b,c,e,f,g=d,k=d,l=d,h=d,p=d,w=h=l=d,x=d,g=[],
k=u(a.$id())?' id="'+a.$id()+'"':d,l=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],h=[];if(!u(u(b=a["$option?"]("autowidth"))?a["$attr?"]("width",d,!1)["$!"]():b))if(u(a["$attr?"]("tablepcwidth",100)))l["$<<"]("spread");else h["$<<"]("width: "+a.$attr("tablepcwidth")+"%;");if(u(p=a.$role()))l["$<<"](p);l=' class="'+n(l," ")+'"';if(u(a["$attr?"]("float")))h["$<<"]("float: "+a.$attr("float")+";");h=u(h["$empty?"]())?d:' style="'+n(h," ")+'"';g["$<<"]("<table"+k+l+h+">");
if(u(a["$title?"]()))g["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");u(m(a.$attr("rowcount"),0))&&(w=this.void_element_slash,g["$<<"]("<colgroup>"),u(a["$option?"]("autowidth"))?(x="<col"+w+">",q(a.$columns().$size(),"times",[],(c=function(){return g["$<<"](x)},c.$$s=this,c.$$arity=0,c))):q(a.$columns(),"each",[],(e=function(a){null==a&&(a=d);return g["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+w+">")},e.$$s=this,e.$$arity=1,e)),g["$<<"]("</colgroup>"),q(a.$rows().$by_section(),
"each",[],(f=function(b,c){var e=f.$$s||this,k;null==b&&(b=d);null==c&&(c=d);if(u(c["$empty?"]()))return d;g["$<<"]("<t"+b+">");q(c,"each",[],(k=function(c){var e=k.$$s||this,f;null==c&&(c=d);g["$<<"]("<tr>");q(c,"each",[],(f=function(c){var e,f=d,k=d,l=k=d,h=d,m=d,p=d;null==c&&(c=d);b["$=="]("head")?f=c.$text():(k=c.$style(),f="asciidoc"["$==="](k)?"<div>"+c.$content()+"</div>":"verse"["$==="](k)?'<div class="verse">'+c.$text()+"</div>":"literal"["$==="](k)?'<div class="literal"><pre>'+c.$text()+
"</pre></div>":u((f=c.$content())["$empty?"]())?"":'<p class="tableblock">'+n(f,'</p>\n<p class="tableblock">')+"</p>");k=u(u(e=b["$=="]("head"))?e:c.$style()["$=="]("header"))?"th":"td";l=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+'"';h=u(c.$colspan())?' colspan="'+c.$colspan()+'"':d;m=u(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':d;p=u(a.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':d;return g["$<<"]("<"+
k+l+h+m+p+">"+f+"</"+k+">")},f.$$s=e,f.$$arity=1,f));return g["$<<"]("</tr>")},k.$$s=e,k.$$arity=1,k));return g["$<<"]("</t"+b+">")},f.$$s=this,f.$$arity=2,f)));g["$<<"]("</table>");return n(g,v(A,"LF"))},aa.$$arity=1);a.def(g,"$toc",Y=function(a){var b,c,e=d,f=d,g=d,k=d,l=d,h=d;if(!u(u(b=u(c=(e=a.$document())["$attr?"]("toc-placement","macro"))?e["$sections?"]():c)?e["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";u(a.$id())?(f=' id="'+a.$id()+'"',g=' id="'+a.$id()+'title"'):(f=' id="toc"',
g=' id="toctitle"');k=u(a["$title?"]())?a.$title():e.$attr("toc-title");l=u(a["$attr?"]("levels"))?a.$attr("levels").$to_i():d;h=u(a["$role?"]())?a.$role():e.$attr("toc-class","toc");return"<div"+f+' class="'+h+'">\n<div'+g+' class="title">'+k+"</div>\n"+this.$outline(e,x(["toclevels"],{toclevels:l}))+"\n</div>"},Y.$$arity=1);a.def(g,"$ulist",la=function(a){var b,c=d,e=d,f=d,g=d,k=d,l=d,h=d,c=[],e=u(a.$id())?' id="'+a.$id()+'"':d,f=["ulist",a.$style(),a.$role()].$compact(),k=g=d;u(l=a["$option?"]("checklist"))?
(f.$unshift(f.$shift(),"checklist"),h=' class="checklist"',u(a["$option?"]("interactive"))?u(this.xml_mode)?(g='<input type="checkbox" data-item-complete="1" checked="checked"/> ',k='<input type="checkbox" data-item-complete="0"/> '):(g='<input type="checkbox" data-item-complete="1" checked> ',k='<input type="checkbox" data-item-complete="0"> '):u(a.$document()["$attr?"]("icons","font"))?(g='<i class="fa fa-check-square-o"></i> ',k='<i class="fa fa-square-o"></i> '):(g="&#10003; ",k="&#10063; ")):
h=u(a.$style())?' class="'+a.$style()+'"':d;c["$<<"]("<div"+e+' class="'+n(f," ")+'">');if(u(a["$title?"]()))c["$<<"]('<div class="title">'+a.$title()+"</div>");c["$<<"]("<ul"+h+">");q(a.$items(),"each",[],(b=function(a){var b;null==a&&(a=d);c["$<<"]("<li>");if(u(u(b=l)?a["$attr?"]("checkbox"):b))c["$<<"]("<p>"+(u(a["$attr?"]("checked"))?g:k)+a.$text()+"</p>");else c["$<<"]("<p>"+a.$text()+"</p>");if(u(a["$blocks?"]()))c["$<<"](a.$content());return c["$<<"]("</li>")},b.$$s=this,b.$$arity=1,b));c["$<<"]("</ul>");
c["$<<"]("</div>");return n(c,v(A,"LF"))},la.$$arity=1);a.def(g,"$verse",na=function(a){var b,c=d,e=d,f=e=d,g=d,k=d,l=d,l=g=d,c=u(a.$id())?' id="'+a.$id()+'"':d,e=["verseblock",a.$role()].$compact(),e=' class="'+n(e," ")+'"',f=u(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":d,g=u(a["$attr?"]("attribution"))?a.$attr("attribution"):d,k=u(a["$attr?"]("citetitle"))?a.$attr("citetitle"):d;u(u(b=g)?b:k)?(l=u(k)?"<cite>"+k+"</cite>":d,g=u(g)?"&#8212; "+g+(u(k)?"<br"+this.void_element_slash+
">\n":d):d,l='\n<div class="attribution">\n'+g+l+"\n</div>"):l=d;return"<div"+c+e+">"+f+'\n<pre class="content">'+a.$content()+"</pre>"+l+"\n</div>"},na.$$arity=1);a.def(g,"$video",wa=function(b){var c,e,f=this,g=d,k=d,l=d,h=d,m=d,p=d,q=d,v=d,w=d,x=d,r=d,z=d,y=d,D=d,C=d,A=d,B=d,E=d,G=d,F=d,J=d,O=d,L=d,P=d,N=d,ba=d,R=d,S=d,T=d,V=d,Q=d,K=d,g=f.xml_mode,k=u(b.$id())?' id="'+b.$id()+'"':d,l=["videoblock",b.$role()].$compact(),h=' class="'+n(l," ")+'"',m=u(b["$title?"]())?'\n<div class="title">'+b.$title()+
"</div>":d,p=u(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':d,q=u(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':d;return function(){v=b.$attr("poster");if("vimeo"["$==="](v))return u((w=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":"),x=u(b["$attr?"]("start",d,!1))?"#at="+b.$attr("start"):d,r="?",z=u(b["$option?"]("autoplay"))?""+r+"autoplay=1":d,u(z)&&(r="&amp;"),y=u(b["$option?"]("loop"))?""+r+"loop=1":d,"<div"+k+h+">"+m+'\n<div class="content">\n<iframe'+
p+q+' src="'+w+"//player.vimeo.com/video/"+b.$attr("target")+x+z+y+'" frameborder="0"'+(u(b["$option?"]("nofullscreen"))?d:f.$append_boolean_attribute("allowfullscreen",g))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](v))return u((w=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(w=""+w+":"),D=u(b["$option?"]("related"))?1:0,C=u(b["$attr?"]("start",d,!1))?"&amp;start="+b.$attr("start"):d,A=u(b["$attr?"]("end",d,!1))?"&amp;end="+b.$attr("end"):d,z=u(b["$option?"]("autoplay"))?
"&amp;autoplay=1":d,y=u(b["$option?"]("loop"))?"&amp;loop=1":d,B=u(b["$option?"]("nocontrols"))?"&amp;controls=0":d,u(b["$option?"]("nofullscreen"))?(E="&amp;fs=0",G=d):(E=d,G=f.$append_boolean_attribute("allowfullscreen",g)),F=u(b["$option?"]("modest"))?"&amp;modestbranding=1":d,J=u(b["$attr?"]("theme",d,!1))?"&amp;theme="+b.$attr("theme"):d,O=u(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):d,e=b.$attr("target").$split("/",2),c=a.to_ary(e),L=null==c[0]?d:c[0],P=null==c[1]?d:c[1],e,u(P=u(c=P)?c:
b.$attr("list",d,!1))?N="&amp;list="+P:(e=L.$split(",",2),c=a.to_ary(e),L=null==c[0]?d:c[0],ba=null==c[1]?d:c[1],e,N=u(ba=u(c=ba)?c:b.$attr("playlist",d,!1))?"&amp;playlist="+ba:u(y)?"&amp;playlist="+L:d),"<div"+k+h+">"+m+'\n<div class="content">\n<iframe'+p+q+' src="'+w+"//www.youtube.com/embed/"+L+"?rel="+D+C+A+z+y+B+N+E+F+J+O+'" frameborder="0"'+G+"></iframe>\n</div>\n</div>";R=u((S=b.$attr("poster",d,!1))["$nil_or_empty?"]())?d:' poster="'+b.$media_uri(S)+'"';T=u((S=b.$attr("preload",d,!1))["$nil_or_empty?"]())?
d:' preload="'+S+'"';V=b.$attr("start",d,!1);Q=b.$attr("end",d,!1);K=u(u(c=V)?c:Q)?"#t="+V+(u(Q)?",":d)+Q:d;return"<div"+k+h+">"+m+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+K+'"'+p+q+R+(u(b["$option?"]("autoplay"))?f.$append_boolean_attribute("autoplay",g):d)+(u(b["$option?"]("nocontrols"))?d:f.$append_boolean_attribute("controls",g))+(u(b["$option?"]("loop"))?f.$append_boolean_attribute("loop",g):d)+T+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},
wa.$$arity=1);a.def(g,"$inline_anchor",ta=function(a){var b,c,e=this,f=d,g=d,k=d,l=d,h=d,m=d,n=d;return function(){f=a.$type();if("xref"["$==="](f))return u(u(b=g=a.$text())?b:g=a.$attributes()["$[]"]("path"))||(g=u(v(A,"AbstractNode")["$==="](k=a.$document().$catalog()["$[]"]("refs")["$[]"](l=a.$attributes()["$[]"]("refid"))))?u(b=k.$xreftext(e.xrefstyle=u(c=e.xrefstyle)?c:a.$document().$attributes()["$[]"]("xrefstyle")))?b:"["+l+"]":"["+l+"]"),'<a href="'+a.$target()+'">'+g+"</a>";if("ref"["$==="](f))return'<a id="'+
a.$id()+'"></a>';if("link"["$==="](f)){h=u(a.$id())?[' id="'+a.$id()+'"']:[];if(u(m=a.$role()))h["$<<"](' class="'+m+'"');if(u(a["$attr?"]("title",d,!1)))h["$<<"](' title="'+a.$attr("title")+'"');if(u(a["$attr?"]("window",d,!1)))h["$<<"](' target="'+(n=a.$attr("window"))+'"'+(u(u(b=n["$=="]("_blank"))?b:a["$option?"]("noopener"))?' rel="noopener"':""));return'<a href="'+a.$target()+'"'+h.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](f)?'<a id="'+a.$id()+'"></a>'+a.$text():e.$warn("asciidoctor: WARNING: unknown anchor type: "+
a.$type().$inspect())}()},ta.$$arity=1);a.def(g,"$inline_break",Ca=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},Ca.$$arity=1);a.def(g,"$inline_button",ya=function(a){return'<b class="button">'+a.$text()+"</b>"},ya.$$arity=1);a.def(g,"$inline_callout",Aa=function(a){var b=d;return u(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":u(a.$document()["$attr?"]("icons"))?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+
b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+a.$text()+")</b>"},Aa.$$arity=1);a.def(g,"$inline_footnote",xa=function(a){var b=d,c=d;if(u(b=a.$attr("index",d,!1))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>";c=u(a.$id())?' id="_footnote_'+a.$id()+'"':d;return'<sup class="footnote"'+c+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+
b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":d},xa.$$arity=1);a.def(g,"$inline_image",Da=function(a){var b,c,f,g,k,l,h=d,m=d,n=d,p=n=d,t=d,r=d,z=d,D=d,C=d,B=d,E=d;b=d;u((b=(h=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):(h=a.$type())["$=="]("icon"))?(m="fa fa-"+a.$target(),q(x(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(c=function(b,c){null==
b&&(b=d);null==c&&(c=d);return u(a["$attr?"](b))?m=""+m+" "+c+a.$attr(b):d},c.$$s=this,c.$$arity=2,c)),n=u(a["$attr?"]("title"))?' title="'+a.$attr("title")+'"':d,n='<i class="'+m+'"'+n+"></i>"):u((b=h["$=="]("icon"))?a.$document()["$attr?"]("icons")["$!"]():h["$=="]("icon"))?n="["+a.$alt()+"]":(p=a.$target(),t=q(["width","height","title"],"map",[],(f=function(b){null==b&&(b=d);return u(a["$attr?"](b))?" "+b+'="'+a.$attr(b)+'"':d},f.$$s=this,f.$$arity=1,f)).$join(),u(u(b=u(g=u(k=h["$!="]("icon"))?
u(l=a["$attr?"]("format","svg",!1))?l:p["$include?"](".svg"):k)?e(a.$document().$safe(),w(v(A,"SafeMode"),"SECURE")):g)?u(g=r=a["$option?"]("inline"))?g:z=a["$option?"]("interactive"):b)&&(u(r)?n=u(b=this.$read_svg_contents(a,p))?b:'<span class="alt">'+a.$alt()+"</span>":u(z)&&(D=u(a["$attr?"]("fallback"))?'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+t+this.void_element_slash+">":'<span class="alt">'+a.$alt()+"</span>",n='<object type="image/svg+xml" data="'+
a.$image_uri(p)+'"'+t+">"+D+"</object>")),n=u(b=n)?b:'<img src="'+(h["$=="]("icon")?a.$icon_uri(p):a.$image_uri(p))+'" alt="'+this.$encode_quotes(a.$alt())+'"'+t+this.void_element_slash+">");u(a["$attr?"]("link"))&&(u(a["$attr?"]("window"))&&(C=' target="'+(B=a.$attr("window"))+'"'+(u(u(b=B["$=="]("_blank"))?b:a["$option?"]("noopener"))?' rel="noopener"':"")),n='<a class="image" href="'+a.$attr("link")+'"'+C+">"+n+"</a>");m=u(E=a.$role())?""+h+" "+E:h;b=u(a["$attr?"]("float"))?' style="float: '+a.$attr("float")+
'"':d;return'<span class="'+m+'"'+b+">"+n+"</span>"},Da.$$arity=1);a.def(g,"$inline_indexterm",Fa=function(a){return a.$type()["$=="]("visible")?a.$text():""},Fa.$$arity=1);a.def(g,"$inline_kbd",La=function(a){var b=d;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+n(b,"</kbd>+<kbd>")+"</kbd></span>"},La.$$arity=1);a.def(g,"$inline_menu",Ka=function(a){var b=d,c=d,e=d,f=d,g=d,b=u(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':
'&#160;<b class="caret">&#8250;</b> ',c="</b>"+b+'<b class="submenu">',e=a.$attr("menu");return u((f=a.$attr("submenus"))["$empty?"]())?u(g=a.$attr("menuitem",d,!1))?'<span class="menuseq"><b class="menu">'+e+"</b>"+b+'<b class="menuitem">'+g+"</b></span>":'<b class="menuref">'+e+"</b>":'<span class="menuseq"><b class="menu">'+e+"</b>"+b+'<b class="submenu">'+n(f,c)+"</b>"+b+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Ka.$$arity=1);a.def(g,"$inline_quoted",Ha=function(b){var c,e,f=d,
g=d;e=c=d;e=v(A,"QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(e);f=null==c[0]?d:c[0];g=null==c[1]?d:c[1];c=null==c[2]?d:c[2];e;e=u(b.$role())?u(c)?""+f.$chop()+' class="'+b.$role()+'">'+b.$text()+g:'<span class="'+b.$role()+'">'+f+b.$text()+g+"</span>":""+f+b.$text()+g;return u(b.$id())?'<a id="'+b.$id()+'"></a>'+e:e},Ha.$$arity=1);a.def(g,"$append_boolean_attribute",Ma=function(a,b){return u(b)?" "+a+'="'+a+'"':" "+a},Ma.$$arity=2);a.def(g,"$encode_quotes",Ga=function(a){return u(a["$include?"]('"'))?
a.$gsub('"',"&quot;"):a},Ga.$$arity=1);return(a.def(g,"$read_svg_contents",Ia=function(b,c){var e,f=d,g=d,k=d;u(f=b.$read_contents(c,x(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(u(f["$start_with?"]("<svg"))||(f=f.$sub(v(A,"SvgPreambleRx"),"")),g=k=d,q(["width","height"],"each",[],(e=function(a){null==a&&(a=d);return u(b["$attr?"](a))?(u(k)||(k=(g=f.$match(v(A,"SvgStartTagRx"))["$[]"](0)).$gsub(v(A,"DimensionAttributeRx"),"")),k=""+k.$chop()+
" "+a+'="'+b.$attr(a)+'px">'):d},e.$$s=this,e.$$arity=1,e)),u(k)&&(f=""+k+f["$[]"](a.Range.$new(g.$length(),-1,!1))));return f},Ia.$$arity=2),d)&&"read_svg_contents"})(v(B,"Converter"),w(v(B,"Converter"),"BuiltIn"),B)}(l[0],l)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:
a["$>"](b)}function m(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var p=[],e=a.nil,c=a.const_get_qualified,l=a.const_get_relative,d=a.module,w=a.klass,v=a.truthy,g=a.hash2,k=a.send,q=a.hash;a.add_stubs("$[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $doctype $[] $+ $level $delete $== $casecmp $new $title= $sectname= $special= $fetch $numbered= $> $key? $attributes $special $context $numbered $generate_id $title $id= $update_attributes $tr $basename $create_block $=== $next_block $dup $<< $has_more_lines? $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $respond_to? $include? $to_s $split $to_i $compact $inspect $attr_accessor $to_set $! $resolve_regexp $match? $method $register $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $private $join $map $capitalize $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $const_defined?".split(" "));
return function(p,u){var x=[d(p,"Asciidoctor")].concat(u);(function(p,u){var x=d(p,"Extensions"),r=[x].concat(u);(function(d,$super,m){function p(){}d=p=w(d,$super,"Processor",p);var q=d.$$proto,u=[d].concat(m),r,x,D,C,A,B,F,J,N;q.config=e;(function(c,d){var l=[c].concat(d),h,m,n;a.def(c,"$config",h=function(){var a;null==this.config&&(this.config=e);return this.config=v(a=this.config)?a:g([],{})},h.$$arity=0);a.def(c,"$option",m=function(c,d){var g=e,g=[c,d];k(this.$config(),"[]=",a.to_a(g));return g[b(g.length,
1)]},m.$$arity=2);a.def(c,"$use_dsl",n=function(){return v(this.$name()["$nil_or_empty?"]())?v((a.Module.$$nesting=l,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):e:v((a.Module.$$nesting=l,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):e},n.$$arity=0);a.alias(c,"extend_dsl","use_dsl");return a.alias(c,"include_dsl","use_dsl")})(a.get_singleton_class(d),u);d.$attr_reader("config");a.def(d,"$initialize",r=function(a){null==a&&(a=g([],{}));return this.config=
this.$class().$config().$merge(a)},r.$$arity=-1);a.def(d,"$update_config",x=function(a){return this.config.$update(a)},x.$$arity=1);a.def(d,"$process",D=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},D.$$arity=-1);a.def(d,"$create_section",C=function(c,d,m,p){var q,w,r=e,x=e,z=e,D=e,y=e,C=e,A=x=e,z=e;null==p&&(p=g([],
{}));r=c.$document();q=[r.$doctype(),v(w=p["$[]"]("level"))?w:h(c.$level(),1)];x=q[0];z=q[1];q;v(D=m.$delete("style"))?v(D["$=="]("abstract")?x["$=="]("book"):D["$=="]("abstract"))?(q=["chapter",1],y=q[0],z=q[1],q):(q=[D,!0],y=q[0],C=q[1],q,z["$=="](0)&&(z=1)):x["$=="]("book")?y=z["$=="](0)?"part":z["$=="](1)?"chapter":"section":v(x["$=="]("manpage")?d.$casecmp("synopsis")["$=="](0):x["$=="]("manpage"))?(q=["synopsis",!0],y=q[0],C=q[1],q):y="section";x=l(u,"Section").$new(c,z,!1);q=[d,y];x["$title="](q[0]);
x["$sectname="](q[1]);q;v(C)?(A=[!0],k(x,"special=",a.to_a(A)),A[b(A.length,1)],v(p.$fetch("numbered",D["$=="]("appendix")))&&(A=[!0],k(x,"numbered=",a.to_a(A)),A[b(A.length,1)])):v(p.$fetch("numbered",v(q=n(z,0))?r.$attributes()["$key?"]("sectnums"):q))&&(A=[v(x.$special())?(q=c.$context()["$=="]("section"))?c.$numbered():c.$context()["$=="]("section"):!0],k(x,"numbered=",a.to_a(A)),A[b(A.length,1)]);(z=m.$delete("id"))["$=="](!1)||(A=[(A=["id",v(q=z)?q:v(r.$attributes()["$key?"]("sectids"))?l(u,
"Section").$generate_id(x.$title(),r):e],k(m,"[]=",a.to_a(A)),A[b(A.length,1)])],k(x,"id=",a.to_a(A)),A[b(A.length,1)]);x.$update_attributes(m);return x},C.$$arity=-4);a.def(d,"$create_block",A=function(a,b,c,d,e){null==e&&(e=g([],{}));return l(u,"Block").$new(a,b,g(["source","attributes"],{source:c,attributes:d}).$merge(e))},A.$$arity=-5);a.def(d,"$create_image_block",B=function(d,h,m){var n,p=e,q=e;null==m&&(m=g([],{}));v(p=h["$[]"]("target"))||this.$raise(c("::","ArgumentError"),"Unable to create an image block, target attribute is required");
v(n=h["$[]"]("alt"))?n:(q=["alt",(q=["default-alt",l(u,"Helpers").$basename(p,!0).$tr("_-"," ")],k(h,"[]=",a.to_a(q)),q[b(q.length,1)])],k(h,"[]=",a.to_a(q)),q[b(q.length,1)]);return this.$create_block(d,"image",e,h,m)},B.$$arity=-3);a.def(d,"$create_inline",F=function(a,b,c,d){null==d&&(d=g([],{}));return l(u,"Inline").$new(a,b,c,d)},F.$$arity=-4);a.def(d,"$parse_content",J=function(a,b,c){var d,f,k=e,h=e;null==c&&(c=e);for(k=v(l(u,"Reader")["$==="](b))?b:l(u,"Reader").$new(b);v(v(d=v(f=h=l(u,"Parser").$next_block(k,
a,v(c)?c.$dup():g([],{})))?a["$<<"](h):f)?d:k["$has_more_lines?"]()););return a},J.$$arity=-3);return k([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(N=function(b,c,d){var f=N.$$s||this,g;null==b&&(b=e);null==
c&&(c=e);null==d&&(d=e);return k(f,"define_method",[b],(g=function(b){var e=g.$$s||this,f,l=arguments.length;f=l-0;0>f&&(f=0);f=Array(f);for(var h=0;h<l;h++)f[h-0]=arguments[h];f.$unshift(f.$shift(),d);return k(e,"send",[c].concat(a.to_a(f)))},g.$$s=f,g.$$arity=-1,g))},N.$$s=d,N.$$arity=3,N))})(r[0],null,r);(function(g,l){var h=d(g,"ProcessorDsl");[h].concat(l);var m,n,p;a.def(h,"$option",m=function(c,d){var g=e,g=[c,d];k(this.$config(),"[]=",a.to_a(g));return g[b(g.length,1)]},m.$$arity=2);a.def(h,
"$process",n=function(b){var d,f,g=n.$$p,l=g||e;null==this.process_block&&(this.process_block=e);var h=arguments.length;f=h-0;0>f&&(f=0);f=Array(f);for(var m=0;m<h;m++)f[m-0]=arguments[m];g&&(n.$$p=null);return l!==e?(v(f["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+f.$size()+", expected 0)"),this.process_block=l):v((d=this.process_block,null!=d&&d!==e)?"instance-variable":e)?k(this.process_block,"call",a.to_a(f)):this.$raise(c("::","NotImplementedError"))},
n.$$arity=-1);a.def(h,"$process_block_given?",p=function(){var a;return(a=this.process_block,null!=a&&a!==e)?"instance-variable":e},p.$$arity=0)})(r[0],r);(function(h,m){var p=d(h,"SyntaxDsl"),q=[p].concat(m),u,w,r,x,D;p.$include(l(q,"ProcessorDsl"));a.def(p,"$named",u=function(a){return v(l(q,"Processor")["$==="](this))?this.name=a:this.$option("name",a)},u.$$arity=1);a.alias(p,"match_name","named");a.def(p,"$content_model",w=function(a){return this.$option("content_model",a)},w.$$arity=1);a.alias(p,
"parse_content_as","content_model");a.alias(p,"parses_content_as","content_model");a.def(p,"$positional_attrs",r=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},r.$$arity=-1);a.alias(p,"name_attributes","positional_attrs");a.alias(p,"name_positional_attributes","positional_attrs");a.def(p,"$default_attrs",x=function(a){return this.$option("default_attrs",a)},x.$$arity=1);a.def(p,"$resolves_attributes",
D=function(d){var l,h,m,p=this,q,u=e,w=e,r=e,x=arguments.length,z=x-0;0>z&&(z=0);q=Array(z);for(z=0;z<x;z++)q[z-0]=arguments[z];v(n(q.$size(),1))||v((q=q.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(q=[q]);return function(){u=q;return(!0)["$==="](u)?(p.$option("pos_attrs",[]),p.$option("default_attrs",g([],{}))):c("::","Array")["$==="](u)?(l=[[],g([],{})],w=l[0],r=l[1],l,k(q,"each",[],(h=function(c){var d,g=e,l=e,h=e,h=e;null==c&&(c=e);return v((c=c.$to_s())["$include?"]("="))?(d=c.$split("=",2),c=
a.to_ary(d),g=null==c[0]?e:c[0],l=null==c[1]?e:c[1],d,v(g["$include?"](":"))&&(d=g.$split(":",2),c=a.to_ary(d),h=null==c[0]?e:c[0],g=null==c[1]?e:c[1],d,h=h["$=="]("@")?w.$size():h.$to_i(),h=[h,g],k(w,"[]=",a.to_a(h)),h[b(h.length,1)]),h=[g,l],k(r,"[]=",a.to_a(h)),h[b(h.length,1)]):v(c["$include?"](":"))?(d=c.$split(":",2),c=a.to_ary(d),h=null==c[0]?e:c[0],g=null==c[1]?e:c[1],d,h=h["$=="]("@")?w.$size():h.$to_i(),h=[h,g],k(w,"[]=",a.to_a(h)),h[b(h.length,1)]):w["$<<"](c)},h.$$s=p,h.$$arity=1,h)),
p.$option("pos_attrs",w.$compact()),p.$option("default_attrs",r)):c("::","Hash")["$==="](u)?(l=[[],g([],{})],w=l[0],r=l[1],l,k(q,"each",[],(m=function(c,d){var g,l,h=g=e;l=e;null==c&&(c=e);null==d&&(d=e);v((g=c.$to_s())["$include?"](":"))&&(l=g.$split(":",2),g=a.to_ary(l),h=null==g[0]?e:g[0],g=null==g[1]?e:g[1],l,h=h["$=="]("@")?w.$size():h.$to_i(),l=[h,g],k(w,"[]=",a.to_a(l)),l[b(l.length,1)]);return v(d)?(l=[g,d],k(r,"[]=",a.to_a(l)),l[b(l.length,1)]):e},m.$$s=p,m.$$arity=2,m)),p.$option("pos_attrs",
w.$compact()),p.$option("default_attrs",r)):p.$raise(c("::","ArgumentError"),"unsupported attributes specification for macro: "+q.$inspect())}()},D.$$arity=-1);a.alias(p,"resolve_attributes","resolves_attributes")})(r[0],r);(function(b,$super,d){function f(){}b=f=w(b,$super,"Preprocessor",f);[b].concat(d);var g;return(a.def(b,"$process",g=function(a,b){return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},g.$$arity=2),e)&&
"process"})(r[0],l(r,"Processor"),r);a.const_set(l(r,"Preprocessor"),"DSL",l(r,"ProcessorDsl"));(function(b,$super,d){function f(){}b=f=w(b,$super,"TreeProcessor",f);[b].concat(d);var g;return(a.def(b,"$process",g=function(a){return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},g.$$arity=1),e)&&"process"})(r[0],l(r,"Processor"),r);a.const_set(l(r,"TreeProcessor"),"DSL",l(r,"ProcessorDsl"));a.const_set(r[0],"Treeprocessor",
l(r,"TreeProcessor"));(function(b,$super,d){function f(){}b=f=w(b,$super,"Postprocessor",f);[b].concat(d);var g;return(a.def(b,"$process",g=function(a,b){return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},g.$$arity=2),e)&&"process"})(r[0],l(r,"Processor"),r);a.const_set(l(r,"Postprocessor"),"DSL",l(r,"ProcessorDsl"));(function(b,$super,d){function f(){}b=f=w(b,$super,"IncludeProcessor",f);[b].concat(d);var g,k;a.def(b,
"$process",g=function(a,b,d,e){return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},g.$$arity=4);return(a.def(b,"$handles?",k=function(a){return!0},k.$$arity=1),e)&&"handles?"})(r[0],l(r,"Processor"),r);(function(b,f){var g=d(b,"IncludeProcessorDsl"),k=[g].concat(f),h;g.$include(l(k,"ProcessorDsl"));a.def(g,"$handles?",h=function(a){var b,d,f=h.$$p,g=f||e;null==this.handles_block&&(this.handles_block=e);var k=arguments.length;
d=k-0;0>d&&(d=0);d=Array(d);for(var l=0;l<k;l++)d[l-0]=arguments[l];f&&(h.$$p=null);return g!==e?(v(d["$empty?"]())||this.$raise(c("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.handles_block=g):v((b=this.handles_block,null!=b&&b!==e)?"instance-variable":e)?this.handles_block.$call(d["$[]"](0)):!0},h.$$arity=-1)})(r[0],r);a.const_set(l(r,"IncludeProcessor"),"DSL",l(r,"IncludeProcessorDsl"));(function(d,$super,l){function h(){}d=h=w(d,$super,"DocinfoProcessor",
h);var m=d.$$proto;[d].concat(l);var n,p;m.config=e;d.$attr_accessor("location");a.def(d,"$initialize",n=function(c){var d,l=n.$$p,h=e;null==c&&(c=g([],{}));l&&(n.$$p=null);k(this,a.find_super_dispatcher(this,"initialize",n,!1),[c],null);return v(d=this.config["$[]"]("location"))?d:(h=["location","head"],k(this.config,"[]=",a.to_a(h)),h[b(h.length,1)])},n.$$arity=-1);return(a.def(d,"$process",p=function(a){return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},
p.$$arity=1),e)&&"process"})(r[0],l(r,"Processor"),r);(function(b,c){var e=d(b,"DocinfoProcessorDsl"),f=[e].concat(c),g;e.$include(l(f,"ProcessorDsl"));a.def(e,"$at_location",g=function(a){return this.$option("location",a)},g.$$arity=1)})(r[0],r);a.const_set(l(r,"DocinfoProcessor"),"DSL",l(r,"DocinfoProcessorDsl"));(function(d,$super,l){function h(){}d=h=w(d,$super,"BlockProcessor",h);var m=d.$$proto;[d].concat(l);var n,p;m.config=e;d.$attr_accessor("name");a.def(d,"$initialize",n=function(d,l){var h,
m=n.$$p,p=e,q=e;null==d&&(d=e);null==l&&(l=g([],{}));m&&(n.$$p=null);k(this,a.find_super_dispatcher(this,"initialize",n,!1),[l],null);this.name=v(h=d)?h:this.config["$[]"]("name");p=this.config["$[]"]("contexts");c("::","NilClass")["$==="](p)?v(h=this.config["$[]"]("contexts"))?h:(q=["contexts",["open","paragraph"].$to_set()],k(this.config,"[]=",a.to_a(q)),q[b(q.length,1)]):(q=c("::","Symbol")["$==="](p)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],
k(this.config,"[]=",a.to_a(q)),q[b(q.length,1)]);return v(h=this.config["$[]"]("content_model"))?h:(q=["content_model","compound"],k(this.config,"[]=",a.to_a(q)),q[b(q.length,1)])},n.$$arity=-1);return(a.def(d,"$process",p=function(a,b,d){return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},p.$$arity=3),e)&&"process"})(r[0],l(r,"Processor"),r);(function(b,c){var e=d(b,"BlockProcessorDsl"),f=[e].concat(c),g;e.$include(l(f,
"SyntaxDsl"));a.def(e,"$contexts",g=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten().$to_set())},g.$$arity=-1);a.alias(e,"on_contexts","contexts");a.alias(e,"on_context","contexts");a.alias(e,"bound_to","contexts")})(r[0],r);a.const_set(l(r,"BlockProcessor"),"DSL",l(r,"BlockProcessorDsl"));(function(d,$super,l){function h(){}d=h=w(d,$super,"MacroProcessor",h);var m=d.$$proto;[d].concat(l);var n,p;m.config=
e;d.$attr_accessor("name");a.def(d,"$initialize",n=function(c,d){var l,h=n.$$p,m=e;null==c&&(c=e);null==d&&(d=g([],{}));h&&(n.$$p=null);k(this,a.find_super_dispatcher(this,"initialize",n,!1),[d],null);this.name=v(l=c)?l:this.config["$[]"]("name");return v(l=this.config["$[]"]("content_model"))?l:(m=["content_model","attributes"],k(this.config,"[]=",a.to_a(m)),m[b(m.length,1)])},n.$$arity=-1);return(a.def(d,"$process",p=function(a,b,d){return this.$raise(c("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},
p.$$arity=3),e)&&"process"})(r[0],l(r,"Processor"),r);(function(b,c){var f=d(b,"MacroProcessorDsl"),g=[f].concat(c),h;f.$include(l(g,"SyntaxDsl"));a.def(f,"$resolves_attributes",h=function(b){var c,d=h.$$p,f=e,g=e,l=e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(g=0;g<f;g++)c[g-0]=arguments[g];d&&(h.$$p=null);g=0;l=arguments.length;for(f=Array(l);g<l;g++)f[g]=arguments[g];if(v(c.$size()["$=="](1)?c["$[]"](0)["$!"]():c.$size()["$=="](1)))return this.$option("content_model","text"),e;k(this,a.find_super_dispatcher(this,
"resolves_attributes",h,!1),f,d);return this.$option("content_model","attributes")},h.$$arity=-1);a.alias(f,"resolve_attributes","resolves_attributes")})(r[0],r);(function(a,$super,b){function c(){}[c=w(a,$super,"BlockMacroProcessor",c)].concat(b);return e})(r[0],l(r,"MacroProcessor"),r);a.const_set(l(r,"BlockMacroProcessor"),"DSL",l(r,"MacroProcessorDsl"));(function(d,$super,h){function m(){}d=m=w(d,$super,"InlineMacroProcessor",m);var n=d.$$proto,p=[d].concat(h),q,t;n.config=n.name=e;a.class_variable_set(m,
"@@rx_cache",g([],{}));a.def(d,"$regexp",q=function(){var c,d=e;return v(c=this.config["$[]"]("regexp"))?c:(d=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],k(this.config,"[]=",a.to_a(d)),d[b(d.length,1)])},q.$$arity=0);return(a.def(d,"$resolve_regexp",t=function(d,g){var h,n,q=e;v(l(p,"MacroNameRx")["$match?"](d))||this.$raise(c("::","ArgumentError"),"invalid name for inline macro: "+d);return v(h=(null==(n=m.$$cvars["@@rx_cache"])?e:n)["$[]"]([d,g]))?h:(q=[[d,g],
new RegExp("\\\\?"+d+":"+(g["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],k(null==(n=m.$$cvars["@@rx_cache"])?e:n,"[]=",a.to_a(q)),q[b(q.length,1)])},t.$$arity=2),e)&&"resolve_regexp"})(r[0],l(r,"MacroProcessor"),r);(function(b,c){var e=d(b,"InlineMacroProcessorDsl"),f=[e].concat(c),g,k;e.$include(l(f,"MacroProcessorDsl"));a.def(e,"$with_format",g=function(a){return this.$option("format",a)},g.$$arity=1);a.alias(e,"using_format","with_format");a.def(e,"$matches",k=function(a){return this.$option("regexp",
a)},k.$$arity=1);a.alias(e,"match","matches");a.alias(e,"matching","matches")})(r[0],r);a.const_set(l(r,"InlineMacroProcessor"),"DSL",l(r,"InlineMacroProcessorDsl"));(function(b,$super,c){function d(){}b=d=w(b,$super,"Extension",d);[b].concat(c);var f;b.$attr_reader("kind");b.$attr_reader("config");b.$attr_reader("instance");return(a.def(b,"$initialize",f=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},f.$$arity=3),e)&&"initialize"})(r[0],null,r);(function(b,$super,c){function d(){}
b=d=w(b,$super,"ProcessorExtension",d);[b].concat(c);var f;b.$attr_reader("process_method");return(a.def(b,"$initialize",f=function(b,c,d){var g,l=f.$$p;null==d&&(d=e);l&&(f.$$p=null);k(this,a.find_super_dispatcher(this,"initialize",f,!1),[b,c,c.$config()],null);return this.process_method=v(g=d)?g:c.$method("process")},f.$$arity=-3),e)&&"initialize"})(r[0],l(r,"Extension"),r);(function(b,$super,d){function f(){}b=f=w(b,$super,"Group",f);d=[b].concat(d);var g;(function(b,c){var d=[b].concat(c),f;return(a.def(b,
"$register",f=function(a){null==a&&(a=e);return l(d,"Extensions").$register(a,this)},f.$$arity=-1),e)&&"register"})(a.get_singleton_class(b),d);return(a.def(b,"$activate",g=function(a){return this.$raise(c("::","NotImplementedError"))},g.$$arity=1),e)&&"activate"})(r[0],null,r);(function(d,$super,p){function q(){}d=q=w(d,$super,"Registry",q);var u=d.$$proto,r=[d].concat(p),x,D,A,C,B,F,J,X,N,ea,da,ga,P,U,ia,V,ha,Z,aa,ma,fa,ka,sa,Y,la,na,wa,ta,Ea,ya,Aa,xa,Da,Fa;u.groups=u.preprocessor_extensions=u.tree_processor_extensions=
u.postprocessor_extensions=u.include_processor_extensions=u.docinfo_processor_extensions=u.block_extensions=u.block_macro_extensions=u.inline_macro_extensions=e;d.$attr_reader("document");d.$attr_reader("groups");a.def(d,"$initialize",x=function(a){null==a&&(a=g([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=
this.docinfo_processor_extensions=e},x.$$arity=-1);a.def(d,"$activate",D=function(a){var b;this.document=a;k(h(l(r,"Extensions").$groups().$values(),this.groups.$values()),"each",[],(b=function(a){var d=b.$$s||this,f=e;null==a&&(a=e);f=a;c("::","Proc")["$==="](f)?(f=a.$arity(),a=0["$==="](f)||-1["$==="](f)?k(d,"instance_exec",[],a.$to_proc()):1["$==="](f)?a.$call(d):e):a=c("::","Class")["$==="](f)?a.$new().$activate(d):a.$activate(d);return a},b.$$s=this,b.$$arity=1,b));return this},D.$$arity=1);
a.def(d,"$preprocessor",A=function(a){var b,c=A.$$p,d=c||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(A.$$p=null);return k(this,"add_document_processor",["preprocessor",b],d.$to_proc())},A.$$arity=-1);a.def(d,"$preprocessors?",C=function(){return this.preprocessor_extensions["$!"]()["$!"]()},C.$$arity=0);a.def(d,"$preprocessors",B=function(){return this.preprocessor_extensions},B.$$arity=0);a.def(d,"$tree_processor",F=function(a){var b,c=F.$$p,d=c||
e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(F.$$p=null);return k(this,"add_document_processor",["tree_processor",b],d.$to_proc())},F.$$arity=-1);a.def(d,"$tree_processors?",J=function(){return this.tree_processor_extensions["$!"]()["$!"]()},J.$$arity=0);a.def(d,"$tree_processors",X=function(){return this.tree_processor_extensions},X.$$arity=0);a.alias(d,"treeprocessor","tree_processor");a.alias(d,"treeprocessors?","tree_processors?");a.alias(d,"treeprocessors",
"tree_processors");a.def(d,"$postprocessor",N=function(a){var b,c=N.$$p,d=c||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(N.$$p=null);return k(this,"add_document_processor",["postprocessor",b],d.$to_proc())},N.$$arity=-1);a.def(d,"$postprocessors?",ea=function(){return this.postprocessor_extensions["$!"]()["$!"]()},ea.$$arity=0);a.def(d,"$postprocessors",da=function(){return this.postprocessor_extensions},da.$$arity=0);a.def(d,"$include_processor",ga=
function(a){var b,c=ga.$$p,d=c||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(ga.$$p=null);return k(this,"add_document_processor",["include_processor",b],d.$to_proc())},ga.$$arity=-1);a.def(d,"$include_processors?",P=function(){return this.include_processor_extensions["$!"]()["$!"]()},P.$$arity=0);a.def(d,"$include_processors",U=function(){return this.include_processor_extensions},U.$$arity=0);a.def(d,"$docinfo_processor",ia=function(a){var b,c=ia.$$p,
d=c||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(ia.$$p=null);return k(this,"add_document_processor",["docinfo_processor",b],d.$to_proc())},ia.$$arity=-1);a.def(d,"$docinfo_processors?",V=function(a){var b;null==a&&(a=e);return v(this.docinfo_processor_extensions)?v(a)?k(this.docinfo_processor_extensions,"any?",[],(b=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):!0:!1},V.$$arity=-1);a.def(d,"$docinfo_processors",
ha=function(a){var b;null==a&&(a=e);return v(this.docinfo_processor_extensions)?v(a)?k(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:e},ha.$$arity=-1);a.def(d,"$block",Z=function(a){var b,c=Z.$$p,d=c||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(Z.$$p=null);return k(this,"add_syntax_processor",["block",b],d.$to_proc())},
Z.$$arity=-1);a.def(d,"$blocks?",aa=function(){return this.block_extensions["$!"]()["$!"]()},aa.$$arity=0);a.def(d,"$registered_for_block?",ma=function(a,b){var c=e;return v(c=this.block_extensions["$[]"](a.$to_sym()))?v(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},ma.$$arity=2);a.def(d,"$find_block_extension",fa=function(a){return this.block_extensions["$[]"](a.$to_sym())},fa.$$arity=1);a.def(d,"$block_macro",ka=function(a){var b,c=ka.$$p,d=c||e,f=arguments.length;b=f-0;0>b&&(b=0);b=
Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(ka.$$p=null);return k(this,"add_syntax_processor",["block_macro",b],d.$to_proc())},ka.$$arity=-1);a.def(d,"$block_macros?",sa=function(){return this.block_macro_extensions["$!"]()["$!"]()},sa.$$arity=0);a.def(d,"$registered_for_block_macro?",Y=function(a){var b=e;return v(b=this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},Y.$$arity=1);a.def(d,"$find_block_macro_extension",la=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},
la.$$arity=1);a.def(d,"$inline_macro",na=function(a){var b,c=na.$$p,d=c||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];c&&(na.$$p=null);return k(this,"add_syntax_processor",["inline_macro",b],d.$to_proc())},na.$$arity=-1);a.def(d,"$inline_macros?",wa=function(){return this.inline_macro_extensions["$!"]()["$!"]()},wa.$$arity=0);a.def(d,"$registered_for_inline_macro?",ta=function(a){var b=e;return v(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},
ta.$$arity=1);a.def(d,"$find_inline_macro_extension",Ea=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},Ea.$$arity=1);a.def(d,"$inline_macros",ya=function(){return this.inline_macro_extensions.$values()},ya.$$arity=0);d.$private();a.def(d,"$add_document_processor",Aa=function(b,d){var f,g,h,n=this,p=Aa.$$p,q=p||e,t=e,u=e,w=e,x=e,z=u=e,D=e,y=e,A=e,C=e;p&&(Aa.$$p=null);t=b.$to_s().$tr("_"," ");u=k(t.$split(),"map",[],(f=function(a){null==a&&(a=e);return a.$capitalize()},f.$$s=n,
f.$$arity=1,f)).$join().$to_sym();w=l(r,"Extensions").$const_get(u);x=v(c("::","AsciidoctorJ","skip_raise")?"constant":e)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(u):e;u=v(g=n.$instance_variable_get(("@"+b+"_extensions").$to_sym()))?g:n.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);z=function(){if(q!==e)return D=n.$resolve_args(d,1),y=w.$new(D),v(w.$constants().$grep("DSL"))&&y.$extend(w.$const_get("DSL")),k(y,"instance_exec",[],q.$to_proc()),y.$freeze(),v(y["$process_block_given?"]())||
n.$raise(c("::","ArgumentError"),"No block specified to process "+t+" extension at "+q.$source_location()),l(r,"ProcessorExtension").$new(b,y);h=n.$resolve_args(d,2);g=a.to_ary(h);y=null==g[0]?e:g[0];D=null==g[1]?e:g[1];h;return v(A=l(r,"Extensions").$resolve_class(y))?(v(v(g=m(A,w))?g:v(h=x)?m(A,x):h)||n.$raise(c("::","ArgumentError"),"Invalid type for "+t+" extension: "+y),C=A.$new(D),C.$freeze(),l(r,"ProcessorExtension").$new(b,C)):v(v(g=w["$==="](y))?g:v(h=x)?x["$==="](y):h)?(y.$update_config(D),
y.$freeze(),l(r,"ProcessorExtension").$new(b,y)):n.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+t+" extension: "+d)}();return z.$config()["$[]"]("position")["$=="](">>")?u.$unshift(z):u["$<<"](z)},Aa.$$arity=2);a.def(d,"$add_syntax_processor",xa=function(d,h){var n,p,q=xa.$$p,t=q||e,u=e,w=e,x=e,z=e,D=w=e,y=e,A=e,C=x=e,x=e;q&&(xa.$$p=null);u=d.$to_s().$tr("_"," ");w=k(u.$split(),"map",[],(n=function(a){null==a&&(a=e);return a.$capitalize()},n.$$s=this,n.$$arity=1,n)).$push("Processor").$join().$to_sym();
x=l(r,"Extensions").$const_get(w);z=v(c("::","AsciidoctorJ","skip_raise")?"constant":e)?c(c("::","AsciidoctorJ"),"Extensions").$const_get(w):e;w=v(p=this.$instance_variable_get(("@"+d+"_extensions").$to_sym()))?p:this.$instance_variable_set(("@"+d+"_extensions").$to_sym(),g([],{}));if(t!==e)return n=this.$resolve_args(h,2),p=a.to_ary(n),D=null==p[0]?e:p[0],y=null==p[1]?e:p[1],n,A=x.$new(this.$as_symbol(D),y),v(x.$constants().$grep("DSL"))&&A.$extend(x.$const_get("DSL")),t.$arity()["$=="](1)?a.yield1(t,
A):k(A,"instance_exec",[],t.$to_proc()),v(D=this.$as_symbol(A.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+u+" extension at "+t.$source_location()),v(A["$process_block_given?"]())||this.$raise(c("::","NoMethodError"),"No block specified to process "+u+" extension at "+t.$source_location()),A.$freeze(),x=[D,l(r,"ProcessorExtension").$new(d,A)],k(w,"[]=",a.to_a(x)),x[b(x.length,1)];n=this.$resolve_args(h,3);p=a.to_ary(n);A=null==p[0]?e:p[0];D=null==p[1]?e:p[1];y=null==p[2]?
e:p[2];n;return v(C=l(r,"Extensions").$resolve_class(A))?(v(v(p=m(C,x))?p:v(n=z)?m(C,z):n)||this.$raise(c("::","ArgumentError"),"Class specified for "+u+" extension does not inherit from "+x+": "+A),x=C.$new(this.$as_symbol(D),y),v(D=this.$as_symbol(x.$name()))||this.$raise(c("::","ArgumentError"),"No name specified for "+u+" extension: "+A),x.$freeze(),x=[D,l(r,"ProcessorExtension").$new(d,x)],k(w,"[]=",a.to_a(x)),x[b(x.length,1)]):v(v(p=x["$==="](A))?p:v(n=z)?z["$==="](A):n)?(A.$update_config(y),
v(D)?(x=[this.$as_symbol(D)],k(A,"name=",a.to_a(x)),p=x[b(x.length,1)]):p=this.$as_symbol(A.$name()),v(D=p)||this.$raise(c("::","ArgumentError"),"No name specified for "+u+" extension: "+A),A.$freeze(),x=[D,l(r,"ProcessorExtension").$new(d,A)],k(w,"[]=",a.to_a(x)),x[b(x.length,1)]):this.$raise(c("::","ArgumentError"),"Invalid arguments specified for registering "+u+" extension: "+h)},xa.$$arity=2);a.def(d,"$resolve_args",Da=function(a,d){var k=e,l=e,k=v(c("::","Hash")["$==="](a["$[]"](-1)))?a.$pop():
g([],{});if(d["$=="](1))return k;v(n(l=b(b(d,1),a.$size()),0))?a=h(a,c("::","Array").$new(l)):v(m(l,0))&&a.$pop(l["$-@"]());a["$<<"](k);return a},Da.$$arity=2);return(a.def(d,"$as_symbol",Fa=function(a){return v(a)?a.$to_sym():e},Fa.$$arity=1),e)&&"as_symbol"})(r[0],null,r);(function(d,m){var n=[d].concat(m),p,t,u,w,r,x,D,y,A;a.def(d,"$generate_name",p=function(){return"extgrp"+this.$next_auto_id()},p.$$arity=0);a.def(d,"$next_auto_id",t=function(){var a;null==this.auto_id&&(this.auto_id=e);this.auto_id=
v(a=this.auto_id)?a:-1;return this.auto_id=h(this.auto_id,1)},t.$$arity=0);a.def(d,"$groups",u=function(){var a;null==this.groups&&(this.groups=e);return this.groups=v(a=this.groups)?a:g([],{})},u.$$arity=0);a.def(d,"$create",w=function(a){var b,c=w.$$p,d=c||e;null==a&&(a=e);c&&(w.$$p=null);return d!==e?l(n,"Registry").$new(q(v(b=a)?b:this.$generate_name(),d)):l(n,"Registry").$new()},w.$$arity=-1);a.alias(d,"build_registry","create");a.def(d,"$register",r=function(d){var g,l,h=r.$$p,m=h||e,n=e,p=
e,q=e,t=e;l=e;n=arguments.length;l=n-0;0>l&&(l=0);l=Array(l);for(t=0;t<n;t++)l[t-0]=arguments[t];h&&(r.$$p=null);n=l.$size();m!==e?p=m:v(q=l.$pop())?p=v(g=this.$resolve_class(q))?g:q:this.$raise(c("::","ArgumentError"),"Extension group to register not specified");t=v(g=l.$pop())?g:this.$generate_name();v(l["$empty?"]())||this.$raise(c("::","ArgumentError"),"Wrong number of arguments ("+n+" for 1..2)");l=[t.$to_sym(),p];k(this.$groups(),"[]=",a.to_a(l));return l[b(l.length,1)]},r.$$arity=-1);a.def(d,
"$unregister_all",x=function(){this.groups=g([],{});return e},x.$$arity=0);a.def(d,"$unregister",D=function(a){var b,c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];k(c,"each",[],(b=function(a){var c=b.$$s||this;null==c.groups&&(c.groups=e);null==a&&(a=e);return c.groups.$delete(a.$to_sym())},b.$$s=this,b.$$arity=1,b));return e},D.$$arity=-1);a.def(d,"$resolve_class",y=function(a){var b=e,b=a;return c("::","Class")["$==="](b)?a:c("::","String")["$==="](b)?
this.$class_for_name(a):e},y.$$arity=1);return(a.def(d,"$class_for_name",A=function(a){var b,d=e,d=c("::","Object");k(a.$split("::"),"each",[],(b=function(f){var g=b.$$s||this,k,l;null==f&&(f=e);return v(v(k=f["$empty?"]())?k:v(l=d["$const_defined?"](f))?c("::","Module")["$==="](d=d.$const_get(f)):l)?e:g.$raise(c("::","NameError"),"Could not resolve class for name: "+a)},b.$$s=this,b.$$arity=1,b));v(c("::","Class")["$==="](d))||this.$raise(c("::","NameError"),"Could not resolve class for name: "+
a);return d},A.$$arity=1),e)&&"class_for_name"})(a.get_singleton_class(x),r)})(x[0],x)}(p[0],p)};Opal.modules["asciidoctor/js/opal_ext/browser/reader"]=function(a){var b=[],h=a.nil,n=a.const_get_relative,m=a.module,p=a.klass,e=a.truthy;a.add_stubs("$posixify $new $base_dir $start_with? $uriish? $descends_from? $key? $attributes $replace_next_line $absolute_path? $== $empty? $! $slice $length".split(" "));return function(b,f){var d=[m(b,"Asciidoctor")].concat(f);(function(b,$super,c){function d(){}
b=d=p(b,$super,"PreprocessorReader",d);var f=b.$$proto,l=[b].concat(c),m;f.path_resolver=f.document=f.include_stack=f.dir=h;return(a.def(b,"$resolve_include_path",m=function(a,b,c){var d,f=h,g=h,k=h,m=k=f=h;c=h;f=(this.path_resolver=e(d=this.path_resolver)?d:n(l,"PathResolver").$new("\\")).$posixify(a);d=["file",this.document.$base_dir()];g=d[1];d;if(e(f["$start_with?"]("file://")))k=f;else if(e(n(l,"Helpers")["$uriish?"](f))){if(!e(e(d=this.path_resolver["$descends_from?"](f,g))?d:this.document.$attributes()["$key?"]("allow-uri-read")))return this.$replace_next_line("link:"+
a+"["+b+"]");k=f}else if(e(this.path_resolver["$absolute_path?"](f)))k=f="file://"+(e(f["$start_with?"]("/"))?"":"/")+f;else if((k=e(m=this.include_stack["$empty?"]())?g:this.dir)["$=="]("."))k=f;else if(e(e(d=k["$start_with?"]("file://"))?d:n(l,"Helpers")["$uriish?"](k)["$!"]()))k=""+k+"/"+f,f=e(m)?f:e(e(d=g["$=="]("."))?d:(c=this.path_resolver["$descends_from?"](k,g))["$!"]())?k:k.$slice(c,k.$length());else if(e(m))k=""+k+"/"+f;else if(e(e(d=c=this.path_resolver["$descends_from?"](k,g))?d:this.document.$attributes()["$key?"]("allow-uri-read")))k=
""+k+"/"+f,f=e(c)?k.$slice(c,k.$length()):f;else return this.$replace_next_line("link:"+a+"["+b+"]");return[k,"file",f]},m.$$arity=3),h)&&"resolve_include_path"})(d[0],n(d,"Reader"),d)}(b[0],b)};Opal.modules["asciidoctor/js/postscript"]=function(a){var b=a.top,h=a.nil,n=a.const_get_relative;a.add_stubs(["$require","$=="]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");b.$require("asciidoctor/extensions");return n([],"JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?
b.$require("asciidoctor/js/opal_ext/browser/reader"):h};(function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var m=a.top,p=[],e=a.nil,c=a.const_get_qualified,l=a.const_get_relative,d=a.truthy,w=a.gvars,v=a.module,g=a.hash2,k=a.send,q=a.hash;null==w[":"]&&(w[":"]=e);a.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $inject $* $to_a $dup $insert $start $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $file? $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
d(l(p,"RUBY_ENGINE","skip_raise")?"constant":e)||a.const_set(p[0],"RUBY_ENGINE","unknown");a.const_set(p[0],"RUBY_ENGINE_OPAL",l(p,"RUBY_ENGINE")["$=="]("opal"));a.const_set(p[0],"RUBY_ENGINE_JRUBY",l(p,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(p[0],"RUBY_MIN_VERSION_1_9",b(l(p,"RUBY_VERSION"),"1.9"));a.const_set(p[0],"RUBY_MIN_VERSION_2",b(l(p,"RUBY_VERSION"),"2"));m.$require("set");l(p,"RUBY_ENGINE")["$=="]("opal")?m.$require("asciidoctor/js"):e;w[":"].$unshift(l(p,"File").$dirname("asciidoctor"));
(function(m,p){var w=v(m,"Asciidoctor"),r=[w].concat(p),x,y,A,C=e,B=e,z=e;a.const_set(r[0],"RUBY_ENGINE",c("::","RUBY_ENGINE"));(function(b,c){var d=v(b,"SafeMode"),f=[d].concat(c),l,m,n,p,q=e;a.const_set(f[0],"UNSAFE",0);a.const_set(f[0],"SAFE",1);a.const_set(f[0],"SERVER",10);a.const_set(f[0],"SECURE",20);q=g([],{});k((a.Module.$$nesting=f,d.$constants()),"each",[],(l=function(b){var c=l.$$s||this,d=e;null==b&&(b=e);d=[c.$const_get(b),b.$to_s().$downcase()];k(q,"[]=",a.to_a(d));return d[h(d.length,
1)]},l.$$s=d,l.$$arity=1,l));d.names_by_value=q;a.defs(d,"$value_for_name",m=function(a){return this.$const_get(a.$upcase())},m.$$arity=1);a.defs(d,"$name_for_value",n=function(a){null==this.names_by_value&&(this.names_by_value=e);return this.names_by_value["$[]"](a)},n.$$arity=1);a.defs(d,"$names",p=function(){null==this.names_by_value&&(this.names_by_value=e);return this.names_by_value.$values()},p.$$arity=0)})(r[0],r);(function(b,d){var f=v(b,"Compliance"),g=[f].concat(d),k;f.keys=c("::","Set").$new();
(function(a,b){[a].concat(b);return a.$attr_reader("keys")})(a.get_singleton_class(f),g);a.defs(f,"$define",k=function(b,c){null==this.keys&&(this.keys=e);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(g);d.$send("attr_accessor",b);this.keys["$<<"](b);return e},k.$$arity=2);f.$define("block_terminates_paragraph",!0);f.$define("strict_verbatim_paragraphs",!0);f.$define("underline_style_section_titles",!0);f.$define("unwrap_standalone_preamble",!0);f.$define("attribute_missing",
"skip");f.$define("attribute_undefined","drop-line");f.$define("shorthand_property_syntax",!0);f.$define("unique_id_start_index",2);f.$define("markdown_syntax",!0)})(r[0],r);a.const_set(r[0],"ROOT_PATH",c("::","File").$dirname(c("::","File").$dirname(c("::","File").$expand_path("asciidoctor"))));a.const_set(r[0],"DATA_PATH",c("::","File").$join(l(r,"ROOT_PATH"),"data"));try{a.const_set(r[0],"USER_HOME",c("::","Dir").$home())}catch(F){if(a.rescue(F,[l(r,"StandardError")]))try{a.const_set(r[0],"USER_HOME",
d(x=c("::","ENV")["$[]"]("HOME"))?x:c("::","Dir").$pwd())}finally{a.pop_exception()}else throw F;}a.const_set(r[0],"COERCE_ENCODING",d(x=c("::","RUBY_ENGINE_OPAL")["$!"]())?c("::","RUBY_MIN_VERSION_1_9"):x);a.const_set(r[0],"FORCE_ENCODING",d(x=l(r,"COERCE_ENCODING"))?c("::","Encoding").$default_external()["$!="](c(c("::","Encoding"),"UTF_8")):x);a.const_set(r[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(r[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(r[0],"BOM_BYTES_UTF_16BE",[254,255]);a.const_set(r[0],
"FORCE_UNICODE_LINE_LENGTH",c("::","RUBY_MIN_VERSION_1_9")["$!"]());a.const_set(r[0],"LF",a.const_set(r[0],"EOL","\n"));a.const_set(r[0],"NULL","\x00");a.const_set(r[0],"TAB","\t");a.const_set(r[0],"DEFAULT_DOCTYPE","article");a.const_set(r[0],"DEFAULT_BACKEND","html5");a.const_set(r[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(r[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(r[0],"BACKEND_ALIASES",g(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.const_set(r[0],
"DEFAULT_PAGE_WIDTHS",g(["docbook"],{docbook:425}));a.const_set(r[0],"DEFAULT_EXTENSIONS",g("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(r[0],"ASCIIDOC_EXTENSIONS",g([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.const_set(r[0],"SETEXT_SECTION_LEVELS",g(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(r[0],"ADMONITION_STYLES",
["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(r[0],"ADMONITION_STYLE_HEADS",["N","T","I","W","C"].$to_set());a.const_set(r[0],"CALLOUT_LIST_HEADS","<1234567890".split("").$to_set());a.const_set(r[0],"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(r[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(r[0],"DELIMITED_BLOCKS",g('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),
{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",c("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",c("::","Set").$new()],",===":["table",c("::",
"Set").$new()],":===":["table",c("::","Set").$new()],"!===":["table",c("::","Set").$new()],"////":["comment",c("::","Set").$new()],"```":["fenced_code",c("::","Set").$new()]}));a.const_set(r[0],"DELIMITED_BLOCK_HEADS",k(l(r,"DELIMITED_BLOCKS").$keys(),"map",[],(y=function(a){null==a&&(a=e);return a.$slice(0,2)},y.$$s=w,y.$$arity=1,y)).$to_set());a.const_set(r[0],"LAYOUT_BREAK_CHARS",g(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(r[0],"MARKDOWN_THEMATIC_BREAK_CHARS",g(["-","*","_"],
{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(r[0],"HYBRID_LAYOUT_BREAK_CHARS",l(r,"LAYOUT_BREAK_CHARS").$merge(l(r,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(r[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.const_set(r[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(r[0],"ORDERED_LIST_KEYWORDS",g(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));
a.const_set(r[0],"ATTR_REF_HEAD","{");a.const_set(r[0],"LIST_CONTINUATION","+");a.const_set(r[0],"HARD_LINE_BREAK"," +");a.const_set(r[0],"LINE_CONTINUATION"," \\");a.const_set(r[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(r[0],"BLOCK_MATH_DELIMITERS",g(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(r[0],"INLINE_MATH_DELIMITERS",g(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.const_set(r[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);
a.const_set(r[0],"CIRCUMFIX_COMMENTS",k(q(["/*","*/"],[".css"],["(*","*)"],[".ml",".mli",".nb"],["\x3c!--","--\x3e"],[".html",".xhtml",".xml",".xsl"],["<%--","--%>"],[".asp",".jsp"]),"inject",[g([],{})],(A=function(b,c){var d=A.$$s||this,f,l,m;null==c&&(c=e);c=a.to_ary(c);f=a.slice.call(c,0,c.length);l=f.splice(0,1)[0];null==l&&(l=e);f=f.splice(0,1)[0];null==f&&(f=e);null==b&&(b=e);k(f,"each",[],(m=function(c){var d=e;null==c&&(c=e);d=[c,g(["prefix","suffix"],{prefix:l["$[]"](0),suffix:l["$[]"](-1)})];
k(b,"[]=",a.to_a(d));return d[h(d.length,1)]},m.$$s=d,m.$$arity=1,m));return b},A.$$s=w,A.$$arity=2,A.$$has_top_level_mlhs_arg=!0,A)));l(r,"RUBY_ENGINE")["$=="]("opal")||e;a.const_set(r[0],"AuthorInfoLineRx",new RegExp("^("+l(r,"CG_WORD")+"["+l(r,"CC_WORD")+"\\-'.]*)(?: +("+l(r,"CG_WORD")+"["+l(r,"CC_WORD")+"\\-'.]*))?(?: +("+l(r,"CG_WORD")+"["+l(r,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.const_set(r[0],"RevisionInfoLineRx",/^(?:\D*([^\n]*?),)? *(?!:)([^\n]*?)(?: *(?!^),?: *([^\n]*))?$/);a.const_set(r[0],
"ManpageTitleVolnumRx",/^([^\n]+?) *\( *([^\n]+?) *\)$/);a.const_set(r[0],"ManpageNamePurposeRx",/^([^\n]+?) +- +([^\n]+)$/);a.const_set(r[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S*?)?)\[([^\n]+)?\]$/);a.const_set(r[0],"EvalExpressionRx",/^([^\n]+?) *([=!><]=|[><]) *([^\n]+)$/);a.const_set(r[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[([^\n]*)\]$/);a.const_set(r[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\]$/);a.const_set(r[0],"AttributeEntryRx",
/^:(!?\w[^\n]*?):(?:[ \t]+([^\n]*))?$/);a.const_set(r[0],"InvalidAttributeNameCharsRx",/[^\w\-]/);l(r,"RUBY_ENGINE")["$=="]("opal")?a.const_set(r[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):e;a.const_set(r[0],"AttributeReferenceRx",/(\\)?\{(\w+[-\w]*|(set|counter2?):[^\n]+?)(\\)?\}/);a.const_set(r[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$"));a.const_set(r[0],"BlockAttributeListRx",new RegExp("^\\[(|["+
l(r,"CC_WORD")+".#%{,\"'].*)\\]$"));a.const_set(r[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+l(r,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$"));a.const_set(r[0],"BlockTitleRx",/^\.([^ \t.][^\n]*)$/);a.const_set(r[0],"AdmonitionParagraphRx",new RegExp("^("+n(l(r,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+"));a.const_set(r[0],"LiteralParagraphRx",/^([ \t]+[^\n]*)$/);a.const_set(r[0],"AtxSectionTitleRx",/^(=={0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);
a.const_set(r[0],"ExtAtxSectionTitleRx",/^(=={0,5}|#\#{0,5})[ \t]+([^\n]+?)(?:[ \t]+\1)?$/);a.const_set(r[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+l(r,"CG_WORD")+"+.*)[^.].*?)$"));a.const_set(r[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$"));a.const_set(r[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+l(r,"CC_WORD")+"]+?"));a.const_set(r[0],"DiscreteHeadingStyleRx",
/^(?:discrete|float)\b/);a.const_set(r[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*[^\n]*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/);a.const_set(r[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+([^\n]*)$/);a.const_set(r[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+([^\n]*)$/);a.const_set(r[0],"OrderedListMarkerRxMap",g(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,
loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(r[0],"DescriptionListRx",/^(?!\/\/)[ \t]*([^\n]*?)(:{2,4}|;;)(?:[ \t]+([^\n]*))?$/);a.const_set(r[0],"DescriptionListSiblingRx",g(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/}));a.const_set(r[0],"CalloutListRx",
/^<?(\d+)>[ \t]+([^\n]*)$/);a.const_set(r[0],"CalloutListSniffRx",/^<?\d+>/);a.const_set(r[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.const_set(r[0],"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.const_set(r[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+l(r,"CC_EOL")+")"));a.const_set(r[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
l(r,"CC_EOL")+")"));a.const_set(r[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+l(r,"CC_EOL")+")");a.const_set(r[0],"ListRxMap",g(["ulist","olist","dlist","colist"],{ulist:l(r,"UnorderedListRx"),olist:l(r,"OrderedListRx"),dlist:l(r,"DescriptionListRx"),colist:l(r,"CalloutListRx")}));a.const_set(r[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.const_set(r[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);
a.const_set(r[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(r[0],"CustomBlockMacroRx",new RegExp("^("+l(r,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$"));a.const_set(r[0],"BlockMediaMacroRx",/^(image|video|audio)::(\S|\S[^\n]*?\S)\[([^\n]*)\]$/);a.const_set(r[0],"BlockTocMacroRx",/^toc::\[([^\n]*)\]$/);a.const_set(r[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+
l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))"));a.const_set(r[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])"));a.const_set(r[0],"InlineBiblioAnchorRx",new RegExp("^\\[\\[\\[(["+l(r,"CC_ALPHA")+"_:]["+l(r,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]"));a.const_set(r[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+
l(r,"CG_WORD")+"["+l(r,"CC_WORD")+".%+-]*@"+l(r,"CG_ALNUM")+"["+l(r,"CC_ALNUM")+".-]*\\."+l(r,"CG_ALPHA")+"{2,4}\\b"));a.const_set(r[0],"InlineFootnoteMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+l(r,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(r[0],"InlineImageMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|"+l(r,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(r[0],"InlineIndextermMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+l(r,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+
l(r,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(r[0],"InlineKbdBtnMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+l(r,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(r[0],"LinkInlineRx",new RegExp("(^|link:|"+l(r,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+l(r,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(r[0],"InlineLinkMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+l(r,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(r[0],
"MacroNameRx",new RegExp("^"+l(r,"CG_WORD")+"+$"));a.const_set(r[0],"InlineStemMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+l(r,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(r[0],"InlineMenuMacroRx",new RegExp("\\\\?menu:("+l(r,"CG_WORD")+"|["+l(r,"CC_WORD")+"&][^\\n\\[]*[^\\s\\[])\\[ *("+l(r,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(r[0],"MenuInlineRx",new RegExp('\\\\?"(['+l(r,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));a.const_set(r[0],"PassInlineRx",q(!1,
["+","`",new RegExp("(^|[^"+l(r,"CC_WORD")+";:])(?:\\[([^\\]]+)\\])?(\\\\?(\\+|`)(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)\\4)(?!"+l(r,"CG_WORD")+")","m")],!0,["`",e,new RegExp("(^|[^`"+l(r,"CC_WORD")+"])(?:\\[([^\\]]+)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+l(r,"CC_ALL")+"*?\\S)\\4)(?![`"+l(r,"CC_WORD")+"])","m")]));a.const_set(r[0],"InlinePassMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+l(r,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+l(r,"CC_ALL")+"*?[^\\\\])\\])",
"m"));a.const_set(r[0],"InlineXrefMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+l(r,"CC_WORD")+"#/.:{]"+l(r,"CC_ALL")+"*?)&gt;&gt;|xref:(["+l(r,"CC_WORD")+"#/.:{]"+l(r,"CC_ALL")+"*?)\\[(?:\\]|("+l(r,"CC_ALL")+"*?[^\\\\])\\]))","m"));l(r,"RUBY_ENGINE")["$=="]("opal")?a.const_set(r[0],"HardLineBreakRx",/^(.*) \+$/m):e;a.const_set(r[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(r[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(r[0],"BlankLineRx",/\n{2,}/);
a.const_set(r[0],"DataDelimiterRx",/[,;]/);a.const_set(r[0],"TrailingDigitsRx",/\d+$/);a.const_set(r[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(r[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/);a.const_set(r[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(r[0],"SubModifierSniffRx",/[+-]/);l(r,"RUBY_ENGINE")["$=="]("opal")||e;a.const_set(r[0],"UriSniffRx",new RegExp("^"+l(r,"CG_ALPHA")+"["+l(r,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(r[0],"UriTerminatorRx",/[);:]$/);a.const_set(r[0],
"XmlSanitizeRx",/<[^>]+>/);a.const_set(r[0],"INTRINSIC_ATTRIBUTES",g("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",
rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));C=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\*\\*("+l(r,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)\\*(?!"+l(r,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S'+l(r,"CC_ALL")+'*?\\S)`"(?!'+l(r,"CG_WORD")+
")","m")],["single","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)`'(?!"+l(r,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?``("+l(r,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)`(?!["+l(r,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?__("+l(r,"CC_ALL")+
"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)_(?!"+l(r,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?##("+l(r,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)#(?!"+l(r,"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]];
B=C.$dup();z=[2,["double","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)''(?!"+l(r,"CG_WORD")+")","m")]];k(B,"[]=",a.to_a(z));z[h(z.length,1)];z=[3,["single","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)'(?!"+l(r,"CG_WORD")+")","m")]];k(B,"[]=",a.to_a(z));z[h(z.length,1)];z=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+)\\])?\\+\\+("+l(r,"CC_ALL")+"+?)\\+\\+",
"m")]];k(B,"[]=",a.to_a(z));z[h(z.length,1)];z=[5,["monospaced","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)\\+(?!"+l(r,"CG_WORD")+")","m")]];k(B,"[]=",a.to_a(z));z[h(z.length,1)];B.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+l(r,"CC_WORD")+";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S"+l(r,"CC_ALL")+"*?\\S)'(?!"+l(r,"CG_WORD")+")","m")]);a.const_set(r[0],"QUOTE_SUBS",q(!1,C,!0,B));B=C=e;a.const_set(r[0],"REPLACEMENTS",[[/\\?\(C\)/,
"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+l(r,"CG_WORD")+")\\\\?--(?="+l(r,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+l(r,"CG_ALNUM")+")\\\\?'(?="+l(r,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],
[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]);(function(m,p){var q=[m].concat(p),r,u,v,w;a.def(m,"$load",r=function(b,f){var m,p,r,u,v,w=e,x=e,z=e,y=e,A=e,C=e,B=e,D=e,F=e,G=e,J=e,L=e,Q=e;null==f&&(f=g([],{}));try{f=f.$dup();d(w=f["$[]"]("timings"))&&w.$start("read");d((x=f["$[]"]("attributes"))["$!"]())?x=g([],{}):d(d(m=c("::","Hash")["$==="](x))?m:d(p=c("::","RUBY_ENGINE_JRUBY"))?c(c(c("::","Java"),"JavaUtil"),"Map")["$==="](x):p)?
x=x.$dup():d(c("::","Array")["$==="](x))?(m=[g([],{}),x],x=m[0],z=m[1],m,k(z,"each",[],(r=function(b){var c,f=e,g=e,f=e;null==b&&(b=e);c=b.$split("=",2);b=a.to_ary(c);f=null==b[0]?e:b[0];g=null==b[1]?e:b[1];c;f=[f,d(b=g)?b:""];k(x,"[]=",a.to_a(f));return f[h(f.length,1)]},r.$$s=this,r.$$arity=1,r))):d(c("::","String")["$==="](x))?(m=[g([],{}),x.$gsub(l(q,"SpaceDelimiterRx"),"\\1"+l(q,"NULL")).$gsub(l(q,"EscapedSpaceRx"),"\\1").$split(l(q,"NULL"))],x=m[0],z=m[1],m,k(z,"each",[],(u=function(b){var c,
f=e,g=e,f=e;null==b&&(b=e);c=b.$split("=",2);b=a.to_ary(c);f=null==b[0]?e:b[0];g=null==b[1]?e:b[1];c;f=[f,d(b=g)?b:""];k(x,"[]=",a.to_a(f));return f[h(f.length,1)]},u.$$s=this,u.$$arity=1,u))):d(d(m=x["$respond_to?"]("keys"))?x["$respond_to?"]("[]"):m)?x=c("::","Hash")["$[]"](k(x.$keys(),"map",[],(v=function(a){null==a&&(a=e);return[a,x["$[]"](a)]},v.$$s=this,v.$$arity=1,v))):this.$raise(c("::","ArgumentError"),"illegal type for attributes option: "+n(x.$class().$ancestors()," < "));y=e;if(d(c("::",
"File")["$==="](b)))A=c("::","File").$expand_path(b.$path()),C=d(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?c("::","Time").$at(this.$Integer(c("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():b.$mtime(),y=b.$readlines(),B=["docfile",A],k(x,"[]=",a.to_a(B)),B[h(B.length,1)],B=["docdir",c("::","File").$dirname(A)],k(x,"[]=",a.to_a(B)),B[h(B.length,1)],B=["docname",l(q,"Helpers").$basename(A,(B=["docfilesuffix",c("::","File").$extname(A)],k(x,"[]=",a.to_a(B)),B[h(B.length,1)]))],k(x,"[]=",a.to_a(B)),
B[h(B.length,1)],d(D=x["$[]"]("docdate"))?d(m=x["$[]"]("docyear"))?m:(B=["docyear",D.$index("-")["$=="](4)?D.$slice(0,4):e],k(x,"[]=",a.to_a(B)),B[h(B.length,1)]):(D=(B=["docdate",C.$strftime("%Y-%m-%d")],k(x,"[]=",a.to_a(B)),B[h(B.length,1)]),d(m=x["$[]"]("docyear"))?m:(B=["docyear",C.$year().$to_s()],k(x,"[]=",a.to_a(B)),B[h(B.length,1)])),F=d(m=x["$[]"]("doctime"))?m:(B=["doctime",C.$strftime("%H:%M:%S %Z")],k(x,"[]=",a.to_a(B)),B[h(B.length,1)]),B=["docdatetime",""+D+" "+F],k(x,"[]=",a.to_a(B)),
B[h(B.length,1)];else if(d(b["$respond_to?"]("readlines"))){try{b.$rewind()}catch(R){if(a.rescue(R,[l(q,"StandardError")]))try{e}finally{a.pop_exception()}else throw R;}y=b.$readlines()}else d(c("::","String")["$==="](b))?y=d(c("::","RUBY_MIN_VERSION_2"))?b.$lines():b.$each_line().$to_a():d(c("::","Array")["$==="](b))?y=b.$dup():this.$raise(c("::","ArgumentError"),"unsupported input type: "+b.$class());d(w)&&(w.$record("read"),w.$start("parse"));B=["attributes",x];k(f,"[]=",a.to_a(B));B[h(B.length,
1)];G=f["$[]"]("parse")["$=="](!1)?l(q,"Document").$new(y,f):l(q,"Document").$new(y,f).$parse();d(w)&&w.$record("parse");return G}catch(R){if(a.rescue(R,[l(q,"StandardError")])){J=R;try{try{L="asciidoctor: FAILED: "+(d(m=x["$[]"]("docfile"))?m:"<stdin>")+": Failed to load AsciiDoc document",d(J["$respond_to?"]("exception"))?(Q=J.$exception(""+L+" - "+J.$message()),Q.$set_backtrace(J.$backtrace())):(Q=J.$class().$new(L,J),B=[J.$stack_trace()],k(Q,"stack_trace=",a.to_a(B)),B[h(B.length,1)])}catch(T){if(a.rescue(T,
[l(q,"StandardError")]))try{Q=J}finally{a.pop_exception()}else throw T;}return this.$raise(Q)}finally{a.pop_exception()}}else throw R;}},r.$$arity=-2);a.def(m,"$load_file",u=function(a,b){var d;null==b&&(b=g([],{}));return k(c("::","File"),"open",[a],(d=function(a){var c=d.$$s||this;null==a&&(a=e);return c.$load(a,b)},d.$$s=this,d.$$arity=1,d))},u.$$arity=-2);a.def(m,"$convert",v=function(m,n){var p,r,t,u,v,w=e,x=e,z=e,y=e,A=e,B=e,C=e,D=e,F=v=A=e,G=A=e,J=w=w=D=B=e,L=B=x=e,Q=w=C=y=e,R=z=e;null==n&&
(n=g([],{}));n=n.$dup();n.$delete("parse");w=n.$delete("to_file");x=n.$delete("to_dir");z=d(p=n.$delete("mkdirs"))?p:!1;y=n["$[]"]("timings");A=w;if((!0)["$==="](A)||e["$==="](A))B=d(p=x["$!"]())?c("::","File")["$==="](m):p,C=!1,D=x,w=e;else if((!1)["$==="](A))D=C=B=!1,w=e;else{if("/dev/null"["$==="](A))return this.$load(m,n);B=!1;D=d(C=w["$respond_to?"]("write"))?!1:w}!d(n["$key?"]("header_footer"))&&d(d(p=B)?p:D)&&(A=["header_footer",!0],k(n,"[]=",a.to_a(A)),A[h(A.length,1)]);d(B)?(v=c("::","File").$expand_path(m.$path()),
A=["to_dir",F=c("::","File").$dirname(v)],k(n,"[]=",a.to_a(A)),A[h(A.length,1)]):d(D)?d(x)?(A=d(w)?["to_dir",c("::","File").$expand_path(c("::","File").$join(x,w,".."))]:["to_dir",c("::","File").$expand_path(x)],k(n,"[]=",a.to_a(A)),A[h(A.length,1)]):d(w)&&(A=["to_dir",c("::","File").$expand_path(w,"..")],k(n,"[]=",a.to_a(A)),A[h(A.length,1)]):(A=["to_dir",e],k(n,"[]=",a.to_a(A)),A[h(A.length,1)]);A=this.$load(m,n);d(B)?(G=c("::","File").$join(F,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix()),
G["$=="](v)&&this.$raise(c("::","IOError"),"input file and output file cannot be the same: "+G)):d(D)?(B=d(n["$key?"]("base_dir"))?c("::","File").$expand_path(n["$[]"]("base_dir")):c("::","File").$expand_path(c("::","Dir").$pwd()),D=d(b(A.$safe(),c(l(q,"SafeMode"),"SAFE")))?B:e,d(x)?(F=A.$normalize_system_path(x,B,D,g(["target_name","recover"],{target_name:"to_dir",recover:!1})),d(w)?(G=A.$normalize_system_path(w,F,e,g(["target_name","recover"],{target_name:"to_dir",recover:!1})),F=c("::","File").$dirname(G)):
G=c("::","File").$join(F,""+A.$attributes()["$[]"]("docname")+A.$outfilesuffix())):d(w)&&(G=A.$normalize_system_path(w,B,D,g(["target_name","recover"],{target_name:"to_dir",recover:!1})),F=c("::","File").$dirname(G)),d(d(p=c("::","File")["$==="](m))?G["$=="](c("::","File").$expand_path(m.$path())):p)&&this.$raise(c("::","IOError"),"input file and output file cannot be the same: "+G),d(c("::","File")["$directory?"](F))||(d(z)?l(q,"Helpers").$mkdir_p(F):this.$raise(c("::","IOError"),"target directory does not exist: "+
x))):(G=w,F=e);d(y)&&y.$start("convert");w=d(d(p=G)?C["$!"]():p)?g(["outfile","outdir"],{outfile:G,outdir:F}):g([],{});w=A.$convert(w);d(y)&&y.$record("convert");return d(G)?(d(y)&&y.$start("write"),A.$write(w,G),d(y)&&y.$record("write"),d(v=C["$!"]())&&(v=A.$safe(),G=c(l(q,"SafeMode"),"SECURE"),v="number"===typeof v&&"number"===typeof G?v<G:v["$<"](G)),d(d(p=d(r=d(t=d(u=v)?A["$attr?"]("linkcss"):u)?A["$attr?"]("copycss"):t)?A["$attr?"]("basebackend-html"):r)?(d(r=J=A.$attr("stylesdir"))?l(q,"Helpers")["$uriish?"](J):
r)["$!"]():p)&&(B=x=!1,d(L=A.$attr("stylesheet"))&&(d(l(q,"DEFAULT_STYLESHEET_KEYS")["$include?"](L))?x=!0:d(l(q,"Helpers")["$uriish?"](L)["$!"]())&&(B=!0)),y=d(p=A["$attr?"]("source-highlighter","coderay"))?A.$attr("coderay-css","class")["$=="]("class"):p,C=d(p=A["$attr?"]("source-highlighter","pygments"))?A.$attr("pygments-css","class")["$=="]("class"):p,d(d(p=d(r=d(t=x)?t:B)?r:y)?p:C)&&(w=A.$normalize_system_path(J,F,d(b(A.$safe(),c(l(q,"SafeMode"),"SAFE")))?F:e),d(z)&&l(q,"Helpers").$mkdir_p(w),
d(x)?l(q,"Stylesheets").$instance().$write_primary_stylesheet(w):d(B)&&(Q=d((Q=A.$attr("copycss"))["$empty?"]())?A.$normalize_system_path(L):A.$normalize_system_path(Q),z=A.$normalize_system_path(L,w,d(b(A.$safe(),c(l(q,"SafeMode"),"SAFE")))?F:e),d(d(p=Q["$!="](z))?R=A.$read_asset(Q,g(["warn_on_failure","label"],{warn_on_failure:c("::","File")["$file?"](z)["$!"](),label:"stylesheet"})):p)&&c("::","IO").$write(z,R)),d(y)?l(q,"Stylesheets").$instance().$write_coderay_stylesheet(w):d(C)&&l(q,"Stylesheets").$instance().$write_pygments_stylesheet(w,
A.$attr("pygments-style")))),A):w},v.$$arity=-2);a.alias(m,"render","convert");a.def(m,"$convert_file",w=function(a,b){var d;null==b&&(b=g([],{}));return k(c("::","File"),"open",[a],(d=function(a){var c=d.$$s||this;null==a&&(a=e);return c.$convert(a,b)},d.$$s=this,d.$$arity=1,d))},w.$$arity=-2);a.alias(m,"render_file","convert_file");l(q,"RUBY_ENGINE")["$=="]("opal");return e})(a.get_singleton_class(w),r);l(r,"RUBY_ENGINE")["$=="]("opal")?(w.$require("asciidoctor/timings"),w.$require("asciidoctor/version")):
e})(p[0],p);m.$require("asciidoctor/core_ext");m.$require("asciidoctor/helpers");m.$require("asciidoctor/substitutors");m.$require("asciidoctor/abstract_node");m.$require("asciidoctor/abstract_block");m.$require("asciidoctor/attribute_list");m.$require("asciidoctor/block");m.$require("asciidoctor/callouts");m.$require("asciidoctor/converter");m.$require("asciidoctor/document");m.$require("asciidoctor/inline");m.$require("asciidoctor/list");m.$require("asciidoctor/parser");m.$require("asciidoctor/path_resolver");
m.$require("asciidoctor/reader");m.$require("asciidoctor/section");m.$require("asciidoctor/stylesheets");m.$require("asciidoctor/table");return l(p,"RUBY_ENGINE")["$=="]("opal")?m.$require("asciidoctor/js/postscript"):e})(Opal);var B=function(a){return!a||"$$smap"in a?a:Opal.hash(a)},F=function(a){var b={},h=0,n=a.$$keys;a=a.$$smap;for(var m=n.length;h<m;h++){var p=n[h];b[p]=a[p]}return b},r=function(a){if(a=B(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&
(a=a.$dup(),a["$[]="]("attributes",B(b)))}return a},x=Opal.Asciidoctor.$$class;x.$$proto.getCoreVersion=function(){return this.$$const.VERSION};x.$$proto.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var h=this.$convert(a,r(b));return h===Opal.nil?"":h};x.$$proto.convertFile=function(a,b){return this.$convert_file(a,r(b))};x.$$proto.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,r(b))};
x.$$proto.loadFile=function(a,b){return this.$load_file(a,r(b))};var n=Opal.Asciidoctor.AbstractBlock;n.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};n.$$proto.getCaptionedTitle=function(){return this.$captioned_title()};n.$$proto.getStyle=function(){return this.style};n.$$proto.getCaption=function(){return this.$caption()};n.$$proto.setCaption=function(a){this.caption=a};n.$$proto.getLevel=function(){return this.level};n.$$proto.getSubstitutions=function(){return this.subs};
n.$$proto.hasSubstitution=function(a){return this["$sub?"](a)};n.$$proto.removeSubstitution=function(a){this.$remove_sub(a)};n.$$proto.getBlocks=function(){return this.blocks};n.$$proto.getContent=function(){return this.$content()};n.$$proto.convert=function(){return this.$convert()};n.$$proto.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[B(a)],b):this.$find_by(B(a))};n.$$proto.getLineNumber=
function(){var a=this.$lineno();return a===Opal.nil?void 0:a};n=Opal.Asciidoctor.Block;n.$$proto.getSource=function(){return this.$source()};n.$$proto.getSourceLines=function(){return this.lines};n=Opal.Asciidoctor.AbstractNode;n.$$proto.getAttributes=function(){return F(this.attributes)};n.$$proto.getAttribute=function(a,b,h){a=this.$attr(a,b,h);return a===Opal.nil?void 0:a};n.$$proto.hasAttribute=function(a){return a in this.attributes.$$smap};n.$$proto.isAttribute=function(a,b,h){a=this["$attr?"](a,
b,h);return a===Opal.nil?!1:a};n.$$proto.setAttribute=function(a,b,h){"undefined"===typeof h&&(h=!0);return this.$set_attr(a,b,h)};n.$$proto.removeAttribute=function(a){a=this.$remove_attr(a);return a===Opal.nil?void 0:a};n.$$proto.getDocument=function(){return this.document};n.$$proto.getParent=function(){var a=this.parent;return a===Opal.nil?void 0:a};n.$$proto.isInline=function(){return this["$inline?"]()};n.$$proto.isBlock=function(){return this["$block?"]()};n.$$proto.isRole=function(a){return this["$role?"](a)};
n.$$proto.getRole=function(){return this.$role()};n.$$proto.hasRole=function(a){return this["$has_role?"](a)};n.$$proto.getRoles=function(){return this.$roles()};n.$$proto.addRole=function(a){return this.$add_role(a)};n.$$proto.removeRole=function(a){return this.$remove_role(a)};n.$$proto.isReftext=function(){return this["$reftext?"]()};n.$$proto.getReftext=function(){return this.$reftext()};n.$$proto.getContext=function(){var a=this.context;return"string"===typeof a?a:a.toString()};n.$$proto.getId=
function(){return this.id};n.$$proto.isOption=function(a){return this["$option?"](a)};n.$$proto.setOption=function(a){return this.$set_option(a)};n.$$proto.getIconUri=function(a){return this.$icon_uri(a)};n.$$proto.getMediaUri=function(a,b){return this.$media_uri(a,b)};n.$$proto.getImageUri=function(a,b){return this.$image_uri(a,b)};n.$$proto.getConverter=function(){return this.$converter()};n.$$proto.readContents=function(a,b){return this.$read_contents(a,B(b))};n.$$proto.readAsset=function(a,b){return this.$read_asset(a,
B(b))};n.$$proto.normalizeWebPath=function(a,b,h){return this.$normalize_web_path(a,b,h)};n.$$proto.normalizeSystemPath=function(a,b,h,n){return this.$normalize_system_path(a,b,h,B(n))};n.$$proto.normalizeAssetPath=function(a,b,h){return this.$normalize_asset_path(a,b,h)};var h=Opal.Asciidoctor.Document;h.$$proto.getHeader=function(){return this.header};h.$$proto.setAttribute=function(a,b){return this.$set_attribute(a,b)};h.$$proto.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};
h.$$proto.convert=function(a){a=this.$convert(B(a));return a===Opal.nil?"":a};h.$$proto.write=function(a,b){return this.$write(a,b)};h.$$proto.getAuthor=function(){return this.$author()};h.$$proto.getSource=function(){return this.$source()};h.$$proto.getSourceLines=function(){return this.$source_lines()};h.$$proto.isNested=function(){return this["$nested?"]()};h.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};h.$$proto.getFootnotes=function(){return this.$footnotes()};h.$$proto.isEmbedded=
function(){return this["$embedded?"]()};h.$$proto.hasExtensions=function(){return this["$extensions?"]()};h.$$proto.getDoctype=function(){return this.doctype};h.$$proto.getBackend=function(){return this.backend};h.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};h.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?void 0:a};h.$$proto.setTitle=function(a){return this["$title="](a)};h.$$proto.getDocumentTitle=function(a){a=this.$doctitle(B(a));return a===Opal.nil?
void 0:a};h.$$proto.getDoctitle=h.$$proto.getDocumentTitle;h.$$proto.getCatalog=function(){return F(this.catalog)};h.$$proto.getReferences=h.$$proto.getCatalog;h.$$proto.getRevisionDate=function(){return this.getAttribute("revdate")};h.$$proto.getRevdate=function(){return this.getRevisionDate()};h.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")};h.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")};h.RevisionInfo=function(a,b,h){this.date=a;this.number=
b;this.remark=h};n=h.RevisionInfo;n.prototype.getDate=function(){return this.date};n.prototype.getNumber=function(){return this.number};n.prototype.getRemark=function(){return this.remark};n.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};h.$$proto.getRevisionInfo=function(){return new h.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};h.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};
h.$$proto.getNotitle=function(){return this.$notitle()};h.$$proto.getNoheader=function(){return this.$noheader()};h.$$proto.getNofooter=function(){return this.$nofooter()};h.$$proto.hasHeader=function(){return this["$header?"]()};h.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};h.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};h.$$proto.parse=function(a){return this.$parse(a)};h.$$proto.getDocinfo=function(a,b){return this.$docinfo(a,b)};h.$$proto.hasDocinfoProcessors=
function(a){return this["$docinfo_processors?"](a)};h.$$proto.counterIncrement=function(a,b){return this.$counter_increment(a,b)};h.$$proto.counter=function(a,b){return this.$counter(a,b)};h.$$proto.getSafe=function(){return this.safe};h.$$proto.getCompatMode=function(){return this.compat_mode};h.$$proto.getSourcemap=function(){return this.sourcemap};h.$$proto.getCounters=function(){return F(this.counters)};h.$$proto.getCallouts=function(){return this.$callouts()};h.$$proto.getBaseDir=function(){return this.base_dir};
h.$$proto.getOptions=function(){return F(this.options)};h.$$proto.getOutfilesuffix=function(){return this.outfilesuffix};h.$$proto.getParentDocument=function(){return this.parent_document};h.$$proto.getReader=function(){return this.reader};h.$$proto.getConverter=function(){return this.converter};h.$$proto.getExtensions=function(){return this.extensions};n=h.Title;n.$$proto.getMain=function(){return this.main};n.$$proto.getCombined=function(){return this.combined};n.$$proto.getSubtitle=function(){var a=
this.subtitle;return a===Opal.nil?void 0:a};n.$$proto.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};n.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};n=Opal.Asciidoctor.Inline;n.$$proto.convert=function(){return this.$convert()};n.$$proto.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};n.$$proto.getType=function(){return this.$type()};n.$$proto.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};Opal.Asciidoctor.List.$$proto.getItems=
function(){return this.blocks};Opal.Asciidoctor.ListItem.$$proto.getText=function(){return this.$text()};n=Opal.Asciidoctor.Reader;n.$$proto.pushInclude=function(a,b,h,n,m){return this.$push_include(a,b,h,n,m)};n.$$proto.getCursor=function(){return this.$cursor()};n.$$proto.getLines=function(){return this.$lines()};n.$$proto.getString=function(){return this.$string()};n=Opal.Asciidoctor.Reader.Cursor;n.$$proto.getFile=function(){var a=this.file;return a===Opal.nil?void 0:a};n.$$proto.getDirectory=
function(){var a=this.dir;return a===Opal.nil?void 0:a};n.$$proto.getPath=function(){var a=this.path;return a===Opal.nil?void 0:a};n.$$proto.getLineNumber=function(){return this.lineno};n=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);if(Opal.Asciidoctor.LoggerManager=n)n.getLogger=function(){return this.$logger()},n.setLogger=function(a){this.logger=a};n=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);if(Opal.Asciidoctor.MemoryLogger=n)n.$$proto.getMessages=function(){for(var a=
this.messages,b=[],h=0;h<a.length;h++){var n=F(a[h]);n.message=F(n.message);b.push(n)}return b};var A=function(a){a.$$arity=a.length;return a},p=function(a,b,h,n){return"function"===typeof h?Opal.send(a,b,n&&[n],A(h)):a["$"+b](h,n)},n=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=n;n.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"build_registry",null,A(a)):"function"===typeof b?Opal.send(this,"build_registry",[a],A(b)):
this.$build_registry()};n.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,A(a)):Opal.send(this,"register",[a],A(b))};n.getGroups=function(){return F(this.$groups())};n.unregisterAll=function(){this.$unregister_all()};n.unregister=function(){for(var a=Array.prototype.concat.apply([],arguments),b=this.$groups(),h={},n=0,m=b.$$keys;n<m.length;n++){var p=m[n];h[p.toString()]=p}for(n=0;n<a.length;n++)m=a[n],m in h&&Opal.hash_delete(b,h[m])};var w=
n.Registry;w.$$proto.getGroups=n.getGroups;w.$$proto.unregisterAll=function(){this.groups=Opal.hash()};w.$$proto.unregister=n.unregister;w.$$proto.block=function(a,b){1===arguments.length&&(b=a,a=null);return p(this,"block",b,a)};w.$$proto.inlineMacro=function(a,b){1===arguments.length&&(b=a,a=null);return p(this,"inline_macro",b,a)};w.$$proto.includeProcessor=function(a){return p(this,"include_processor",a)};w.$$proto.blockMacro=function(a,b){1===arguments.length&&(b=a,a=null);return p(this,"block_macro",
b,a)};w.$$proto.treeProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return p(this,"tree_processor",b,a)};w.$$proto.postprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return p(this,"postprocessor",b,a)};w.$$proto.preprocessor=function(a,b){1===arguments.length&&(b=a,a=null);return p(this,"preprocessor",b,a)};w.$$proto.docinfoProcessor=function(a,b){1===arguments.length&&(b=a,a=null);return p(this,"docinfo_processor",b,a)};w=n.Processor;w.$$proto.process=function(a){return Opal.send(this,
"process",null,A(a))};w.$$proto.named=function(a){return this.$named(a)};w.$$proto.createBlock=function(a,b,h,n,m){return this.$create_block(a,b,h,B(n),B(m))};w.$$proto.createImageBlock=function(a,b,h){return this.$create_image_block(a,B(b),B(h))};w.$$proto.createInline=function(a,b,h,n){return this.$create_inline(a,b,h,B(n))};w.$$proto.parseContent=function(a,b,h){return this.$parse_content(a,b,h)};w.$$proto.positionalAttributes=function(a){return this.$positional_attrs(a)};w=n.BlockProcessor;w.$$proto.onContext=
function(a){return this.$on_context(a)};w.$$proto.onContexts=function(){return this.$on_contexts(Array.prototype.slice.call(arguments))};n.IncludeProcessor.$$proto.handles=function(a){return Opal.send(this,"handles?",null,A(a))};n.DocinfoProcessor.$$proto.atLocation=function(a){this.$at_location(a)};n=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=n;n.$$proto.convert=function(a,b,h){return this.$convert(a,b,B(h))};n.BuiltIn.$$proto.convert=n.$$proto.convert;n=Opal.Asciidoctor.Converter.Factory;
n.getDefault=function(a){return this.$default(a)};n.$$proto.create=function(a,b){return this.$create(a,B(b))};x.$$proto.getVersion=function(){return"1.5.6"};return Opal.Asciidoctor});
